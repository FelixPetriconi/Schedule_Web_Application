var Opal=this.Opal;"undefined"===typeof Opal&&"object"===typeof module&&module.exports&&(Opal=require("opal-runtime").Opal);
"undefined"===typeof Opal&&(function(c){function r(){}function a(){}function f(){}function p(){}function n(){}if("undefined"!==typeof this.Opal)return console.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var e,g,h,d,b,m=this.Opal={},w={},t=function(){};t.prototype=m;m.constructor=t;m.constants=[];m.global=this;m.config={missing_require_severity:"error",unsupported_features_severity:"warning"};var k=m.hasOwnProperty;m.slice=Array.prototype.slice;var l=
4;m.uid=function(){return l+=2};m.cvars={};m.gvars={};m.exit=function(a){m.gvars.DEBUG&&console.log("Exited with status "+a)};m.exceptions=[];m.pop_exception=function(){m.gvars["!"]=m.exceptions.pop()||e};m.get=function(a){var c=this[a];return null==c?this.base.$const_get(a):c};m.create_scope=function(a,c,b){var d=function(){},e=d.prototype=new a.constructor;c.$$scope=e;c.$$base_module=a.base;e.base=c;e.constructor=d;e.constants=[];b&&(m.cdecl(a,b,c),d.displayName=b+"_scope_alloc")};m.casgn=function(a,
c,b){function d(a,c){a.$$name=c;for(c in a.$$scope){var b=a.$$scope[c];b.$$name===e&&(b.$$is_class||b.$$is_module)&&d(b,c)}}var f=a.$$scope;if(b.$$is_class||b.$$is_module){if(b.$$is_class||b.$$base_module===h)b.$$base_module=a;b.$$name===e&&b.$$base_module.$$name!==e&&d(b,c)}f.constants.push(c);f[c]=b;if(a.$$is_module&&a.$$dep)for(f=0;f<a.$$dep.length;f++)m.casgn(a.$$dep[f],c,b);return b};m.cdecl=function(a,c,b){(b.$$is_class||b.$$is_module)&&null==b.$$orig_scope&&(b.$$name=c,b.$$orig_scope=a,b.$$base_module=
a.base,a.constructor[c]=b);a.constants.push(c);return a[c]=b};m.klass=function(a,c,b,d){var e,f;a.$$is_class||a.$$is_module||(a=a.$$class);"function"===typeof c&&(f=c,c=h);if((e=a.$$scope[b])&&e.$$orig_scope===a.$$scope){if(!e.$$is_class)throw m.TypeError.$new(b+" is not a class");if(c&&e.$$super!==c)throw m.TypeError.$new("superclass mismatch for class "+b);return e}null==c&&(c=h);d=f||m.boot_class_alloc(b,d,c);e=m.setup_class_object(b,d,c.$$name,c.constructor);e.$$super=c;e.$$parent=c;m.create_scope(a.$$scope,
e,b);a[b]=e;f?m.bridge(e,d):(c!==h&&c!==g&&m.donate_constants(c,e),c.$inherited&&c.$inherited(e));return e};m.boot_class_alloc=function(a,c,b){if(b){var d=function(){};d.prototype=b.$$proto||b.prototype;c.prototype=new d}a&&(c.displayName=a+"_alloc");return c.prototype.constructor=c};m.setup_class_object=function(a,c,d,f){var h=function(){};h.prototype=f.prototype;h.displayName=d;d=function(){};d.prototype=new h;h=new d;h.$$alloc=c;h.$$name=a||e;h.$$id=m.uid();d.displayName="#<Class:"+(a||"#<Class:"+
h.$$id+">")+">";h.$$proto=c.prototype;h.$$proto.$$class=h;h.constructor=d;h.$$is_class=!0;h.$$class=b;h.$$inc=[];return h};m.module=function(a,c){var b;a.$$is_class||a.$$is_module||(a=a.$$class);if(k.call(a.$$scope,c)){if(b=a.$$scope[c],!b.$$is_module&&b!==h)throw m.TypeError.$new(c+" is not a module");}else b=m.module_allocate(d),m.create_scope(a.$$scope,b,c);return b};m.module_initialize=function(a,c){if(c!==e){var b=c.$$s;c.$$s=null;c.call(a);c.$$s=b}return e};m.module_allocate=function(a){function c(){}
var b=function(){};b.prototype=a.$$alloc.prototype;c.prototype=new b;b=new c;b.$$id=m.uid();c.displayName="#<Class:#<Module:"+b.$$id+">>";b.$$proto={};b.constructor=c;b.$$is_module=!0;b.$$class=d;b.$$super=a;b.$$parent=a;b.$$inc=[];b.$$is_module=!0;b.$$dep=[];b.$$name=e;return b};m.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.$$is_class||a.$$is_module?m.build_class_singleton_class(a):m.build_object_singleton_class(a)};m.build_class_singleton_class=function(a){var c,d;if(a.$$meta)return a.$$meta;
c=a.constructor;d=a===g?b:m.build_class_singleton_class(a.$$super);c=m.setup_class_object(null,c,d.$$name,d.constructor);c.$$super=d;c.$$parent=d;m.create_scope(a.$$scope,c);c.$$is_singleton=!0;c.$$singleton_of=a;return a.$$meta=c};m.build_object_singleton_class=function(a){var c=a.$$class,b="#<Class:#<"+c.$$name+":"+c.$$id+">>",d=m.boot_class_alloc(b,function(){},c),b=m.setup_class_object(b,d,c.$$name,c.constructor);b.$$super=c;b.$$parent=c;b.$$class=c.$$class;b.$$scope=c.$$scope;b.$$proto=a;b.$$is_singleton=
!0;b.$$singleton_of=a;return a.$$meta=b};m.bridge_method=function(a,c,b,d){var e,f,h,g;e=a.$$bridge.$ancestors();f=0;for(g=e.length;f<g;f++){h=e[f];if(k.call(h.$$proto,b)&&h.$$proto[b]&&!h.$$proto[b].$$donated&&!h.$$proto[b].$$stub&&h!==c)break;if(h===c){a.prototype[b]=d;break}}};m._bridge=function(a,c){var b,d,e,f;if("function"===typeof a){b=c.$__id__();d=c.$instance_methods();for(f=d.length-1;0<=f;f--)e="$"+d[f],m.bridge_method(a,c,e,c.$$proto[e]);w[b]||(w[b]=[]);w[b].push(a)}else if(b=w[a.$__id__()]){for(f=
b.length-1;0<=f;f--)m._bridge(b[f],c);w[c.$__id__()]=b.slice()}};m.append_features=function(a,c){var b,d,e,f,h;for(h=c.$$inc.length-1;0<=h;h--)if(c.$$inc[h]===a)return;c.$$inc.push(a);a.$$dep.push(c);m._bridge(c,a);c.$$parent={$$name:a.$$name,$$proto:a.$$proto,$$parent:c.$$parent,$$module:a,$$iclass:!0};b=a.$$proto;d=c.$$proto;e=a.$instance_methods();for(h=e.length-1;0<=h;h--)if(f="$"+e[h],!d.hasOwnProperty(f)||d[f].$$donated||d[f].$$stub)d[f]=b[f],d[f].$$donated=a;m.donate_constants(a,c)};m.stubs=
{};m.bridge=function(a,c){if(c.$$bridge)throw m.ArgumentError.$new("already bridged");m.stub_subscribers.push(c.prototype);for(var b in m.stubs)b in c.prototype||(c.prototype[b]=m.stub_for(b));c.prototype.$$class=a;c.$$bridge=a;b=a.$ancestors();for(var d=b.length-1;0<=d;d--)m._bridge(c,b[d]);for(var f in r.prototype){var e=r.prototype[e];!e||!e.$$stub||f in c.prototype||(c.prototype[f]=e)}return a};m.donate_constants=function(a,c){for(var b=a.$$scope.constants,d=c.$$scope,e=d.constants,f=0,h=b.length;f<
h;f++)e.push(b[f]),d[b[f]]=a.$$scope[b[f]]};m.donate=function(a,c){var b=a.$$dep,d=a.$$proto[c],f,e,h,g,l,k,p,t,n,q;if(b)for(f=0,e=b.length;f<e;f++){h=b[f];g=h.$$proto;l=g[c];if(!g.hasOwnProperty(c)||l.$$donated||l.$$stub)if(g.hasOwnProperty(c)&&!l.$$stub){k=h.$$inc;p=0;for(t=k.length;p<t;p++)k[p]===l.$$donated&&(n=p),k[p]===a&&(q=p);n<=q&&(g[c]=d,g[c].$$donated=a)}else g[c]=d,g[c].$$donated=a;h.$$dep&&m.donate(h,c)}};m.ancestors=function(a){for(var c=[],b;a;){c.push(a);for(var d=0;d<a.$$inc.length;d++){b=
m.ancestors(a.$$inc[d]);for(var f=0;f<b.length;f++)c.push(b[f])}a=a.$$is_singleton&&a.$$singleton_of.$$is_module?a.$$singleton_of.$$super:a.$$is_class?a.$$super:null}return c};m.add_stubs=function(a){var c,b=m.stub_subscribers,d,f=a.length,e,h=b.length,g,l;for(d=0;d<f;d++)for(g=a[d],m.stubs[g]=!0,l=m.stub_for(g),e=0;e<h;e++)c=b[e],g in c||(c[g]=l)};m.stub_subscribers=[r.prototype];m.add_stub_for=function(a,c){var b=m.stub_for(c);a[c]=b};m.stub_for=function(a){function c(){this.$method_missing.$$p=
c.$$p;c.$$p=null;for(var b=Array(arguments.length),d=0,f=b.length;d<f;d++)b[d]=arguments[d];return this.$method_missing.apply(this,[a.slice(1)].concat(b))}c.$$stub=!0;return c};m.ac=function(a,c,b,d){var f="",f=b.$$is_class||b.$$is_module?f+(b.$$name+"."):f+(b.$$class.$$name+"#");throw m.ArgumentError.$new("["+(f+d)+"] wrong number of arguments("+a+" for "+c+")");};m.block_ac=function(a,c,b){throw m.ArgumentError.$new("`block in "+b+"': wrong number of arguments ("+a+" for "+c+")");};m.find_super_dispatcher=
function(a,c,b,d,f){b=f?a.$$is_class||a.$$is_module?f.$$super:a.$$class.$$proto:m.find_obj_super_dispatcher(a,c,b);b=b["$"+c];if(!d&&b.$$stub&&m.Kernel.$method_missing===a.$method_missing)throw m.NoMethodError.$new("super: no superclass method `"+c+"' for "+a,c);return b};m.find_iter_super_dispatcher=function(a,c,b,d,f){if(!b)throw m.RuntimeError.$new("super called outside of method");if(f&&b.$$define_meth)throw m.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");
b.$$def&&(c=b.$$jsid);return m.find_super_dispatcher(a,c,b,d)};m.find_obj_super_dispatcher=function(a,c,b){a=a.$$meta||a.$$class;a=m.find_owning_class(a,b);if(!a)throw Error("could not find current class for super()");return m.find_super_func(a,"$"+c,b)};m.find_owning_class=function(a,c){for(var b=c.$$owner;!(!a||a.$$iclass&&a.$$module===c.$$donated||a.$$iclass&&a.$$module===b||b.$$is_singleton&&a===b.$$singleton_of.$$class)&&a!==b;)a=a.$$parent;return a};m.find_super_func=function(a,c,b){for(a=a.$$parent;a;){var d=
a.$$proto[c];if(d&&d!==b)break;a=a.$$parent}return a.$$proto};m.ret=function(a){m.returner.$v=a;throw m.returner;};m.brk=function(a,c){c.$v=a;throw c;};m.new_brk=function(){return Error("unexpected break")};m.yield1=function(a,c){if("function"!==typeof a)throw m.LocalJumpError.$new("no block given");var b=a.$$has_top_level_mlhs_arg,d=a.$$has_trailing_comma_in_args;if(1<a.length||(b||d)&&1===a.length)c=m.to_ary(c);return(1<a.length||d&&1===a.length)&&c.$$is_array?a.apply(null,c):a(c)};m.yieldX=function(a,
c){if("function"!==typeof a)throw m.LocalJumpError.$new("no block given");if(1<a.length&&1===c.length&&c[0].$$is_array)return a.apply(null,c[0]);if(!c.$$is_array){for(var b=Array(c.length),d=0,f=b.length;d<f;d++)b[d]=c[d];return a.apply(null,b)}return a.apply(null,c)};m.rescue=function(a,c){for(var b=0;b<c.length;b++){var d=c[b];if(d.$$is_array){if(d=m.rescue(a,d))return d}else if(d["$==="](a))return d}return null};m.is_a=function(a,c){if(a.$$meta===c)return!0;var b,d,f=m.ancestors(a.$$class);b=0;
for(d=f.length;b<d;b++)if(f[b]===c)return!0;f=m.ancestors(a.$$meta);b=0;for(d=f.length;b<d;b++)if(f[b]===c)return!0;return!1};m.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",!0)){var c=a.$to_hash();if(c.$$is_hash)return c;throw m.TypeError.$new("Can't convert "+a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+c.$$class+")");}throw m.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};m.to_ary=function(a){if(a.$$is_array)return a;if(a["$respond_to?"]("to_ary",
!0)){var c=a.$to_ary();if(c===e)return[a];if(c.$$is_array)return c;throw m.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+c.$$class+")");}return[a]};m.to_a=function(a){if(a.$$is_array)return a.slice();if(a["$respond_to?"]("to_a",!0)){var c=a.$to_a();if(c===e)return[a];if(c.$$is_array)return c;throw m.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_a gives "+c.$$class+")");}return[a]};m.extract_kwargs=function(a){var c=a[a.length-1];return null!=
c&&c["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(a,a.length-1,1),c.$to_hash()):m.hash2([],{})};m.kwrestargs=function(a,c){var b=[],d={},f=null,e=a.$$smap;for(f in e)c[f]||(b.push(f),d[f]=e[f]);return m.hash2(b,d)};m.send=function(a,c){for(var b=Array(Math.max(arguments.length-2,0)),d=0,f=b.length;d<f;d++)b[d]=arguments[d+2];return(d=a["$"+c])?d.apply(a,b):a.$method_missing.apply(a,[c].concat(b))};m.block_send=function(a,c,b){for(var d=Array(Math.max(arguments.length-3,0)),f=0,e=d.length;f<
e;f++)d[f]=arguments[f+3];return(f=a["$"+c])?(f.$$p=b,f.apply(a,d)):a.$method_missing.apply(a,[c].concat(d))};m.defn=function(a,c,b){a.$$proto[c]=b;b.$$owner=a;a.$$is_module&&(m.donate(a,c),a.$$module_function&&m.defs(a,c,b));if(a.$__id__&&!a.$__id__.$$stub){var d=w[a.$__id__()];if(d)for(var f=d.length-1;0<=f;f--)m.bridge_method(d[f],a,c,b)}b=a.$$singleton_of;!a.$method_added||a.$method_added.$$stub||b?b&&b.$singleton_method_added&&!b.$singleton_method_added.$$stub&&b.$singleton_method_added(c.substr(1)):
a.$method_added(c.substr(1));return e};m.defs=function(a,c,b){m.defn(m.get_singleton_class(a),c,b)};m.def=function(a,c,b){a.$$eval||!a.$$is_class&&!a.$$is_module?m.defs(a,c,b):m.defn(a,c,b)};m.rdef=function(a,c){if(!k.call(a.$$proto,c))throw m.NameError.$new("method '"+c.substr(1)+"' not defined in "+a.$name());delete a.$$proto[c];a.$$is_singleton?a.$$proto.$singleton_method_removed&&!a.$$proto.$singleton_method_removed.$$stub&&a.$$proto.$singleton_method_removed(c.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&
a.$method_removed(c.substr(1))};m.udef=function(a,c){if(!a.$$proto[c]||a.$$proto[c].$$stub)throw m.NameError.$new("method '"+c.substr(1)+"' not defined in "+a.$name());m.add_stub_for(a.$$proto,c);a.$$is_singleton?a.$$proto.$singleton_method_undefined&&!a.$$proto.$singleton_method_undefined.$$stub&&a.$$proto.$singleton_method_undefined(c.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(c.substr(1))};m.alias=function(a,c,b){var d="$"+c,f="$"+b,e=a.$$proto["$"+b];if(a.$$eval)return m.alias(m.get_singleton_class(a),
c,b);if("function"!==typeof e||e.$$stub){for(c=a.$$super;"function"!==typeof e&&c;)e=c[f],c=c.$$super;if("function"!==typeof e||e.$$stub)throw m.NameError.$new("undefined method `"+b+"' for class `"+a.$name()+"'");}m.defn(a,d,e);return a};m.alias_native=function(a,c,b){c="$"+c;var d=a.$$proto[b];if("function"!==typeof d||d.$$stub)throw m.NameError.$new("undefined native method `"+b+"' for class `"+a.$name()+"'");m.defn(a,c,d);return a};m.hash_init=function(a){a.$$smap={};a.$$map={};a.$$keys=[]};m.hash_clone=
function(a,c){c.$$none=a.$$none;c.$$proc=a.$$proc;for(var b=0,d=a.$$keys.length,f,e;b<d;b++)f=a.$$keys[b],f.$$is_string?e=a.$$smap[f]:(e=f.value,f=f.key),m.hash_put(c,f,e)};m.hash_put=function(a,b,d){if(b.$$is_string)a.$$smap.hasOwnProperty(b)||a.$$keys.push(b),a.$$smap[b]=d;else{var f=b.$hash(),e,h;if(a.$$map.hasOwnProperty(f)){for(e=a.$$map[f];e;){if(b===e.key||b["$eql?"](e.key)){h=c;e.value=d;break}h=e;e=e.next}h&&(e={key:b,key_hash:f,value:d},a.$$keys.push(e),h.next=e)}else e={key:b,key_hash:f,
value:d},a.$$keys.push(e),a.$$map[f]=e}};m.hash_get=function(a,c){if(c.$$is_string){if(a.$$smap.hasOwnProperty(c))return a.$$smap[c]}else{var b=c.$hash();if(a.$$map.hasOwnProperty(b))for(b=a.$$map[b];b;){if(c===b.key||c["$eql?"](b.key))return b.value;b=b.next}}};m.hash_delete=function(a,c){var b,d=a.$$keys,f=d.length,e;if(c.$$is_string){if(!a.$$smap.hasOwnProperty(c))return;for(b=0;b<f;b++)if(d[b]===c){d.splice(b,1);break}e=a.$$smap[c];delete a.$$smap[c];return e}var h=c.$hash();if(a.$$map.hasOwnProperty(h))for(var g=
a.$$map[h],l;g;){if(c===g.key||c["$eql?"](g.key)){e=g.value;for(b=0;b<f;b++)if(d[b]===g){d.splice(b,1);break}l&&g.next?l.next=g.next:l?delete l.next:g.next?a.$$map[h]=g.next:delete a.$$map[h];return e}l=g;g=g.next}};m.hash_rehash=function(a){for(var b=0,d=a.$$keys.length,f,e,h;b<d;b++)if(!a.$$keys[b].$$is_string&&(f=a.$$keys[b].key.$hash(),f!==a.$$keys[b].key_hash)){e=a.$$map[a.$$keys[b].key_hash];for(h=c;e;){if(e===a.$$keys[b]){h&&e.next?h.next=e.next:h?delete h.next:e.next?a.$$map[a.$$keys[b].key_hash]=
e.next:delete a.$$map[a.$$keys[b].key_hash];break}h=e;e=e.next}a.$$keys[b].key_hash=f;if(a.$$map.hasOwnProperty(f)){e=a.$$map[f];for(h=c;e;){if(e===a.$$keys[b]){h=c;break}h=e;e=e.next}h&&(h.next=a.$$keys[b])}else a.$$map[f]=a.$$keys[b]}};m.hash=function(){var a=arguments.length,c,b,d,f,e;if(1===a&&arguments[0].$$is_hash)return arguments[0];c=new m.Hash.$$alloc;m.hash_init(c);if(1===a&&arguments[0].$$is_array){a=arguments[0];d=a.length;for(b=0;b<d;b++){if(2!==a[b].length)throw m.ArgumentError.$new("value not of length 2: "+
a[b].$inspect());f=a[b][0];e=a[b][1];m.hash_put(c,f,e)}return c}if(1===a){a=arguments[0];for(f in a)a.hasOwnProperty(f)&&(e=a[f],m.hash_put(c,f,e));return c}if(0!==a%2)throw m.ArgumentError.$new("odd number of arguments for Hash");for(b=0;b<a;b+=2)f=arguments[b],e=arguments[b+1],m.hash_put(c,f,e);return c};m.hash2=function(a,c){var b=new m.Hash.$$alloc;b.$$smap=c;b.$$map={};b.$$keys=a;return b};m.range=function(a,c,b){var d=new m.Range.$$alloc;d.begin=a;d.end=c;d.exclude=b;return d};m.ivar=function(a){return"constructor"===
a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};m.modules={};m.loaded_features=["corelib/runtime"];m.current_dir=".";m.require_table={"corelib/runtime":!0};m.normalize=function(a){var c,b=[];"."!==m.current_dir&&(a=m.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var d=0,f=a.length;d<f;d++)c=a[d],""!==c&&(".."===c?b.pop():b.push(c));return b.join("/")};m.loaded=function(a){var c,
b,d;c=0;for(b=a.length;c<b;c++){d=m.normalize(a[c]);if(m.require_table[d])break;m.loaded_features.push(d);m.require_table[d]=!0}};m.load=function(a){a=m.normalize(a);m.loaded([a]);var c=m.modules[a];if(c)c(m);else if(c=m.config.missing_require_severity,a="cannot load such file -- "+a,"error"===c)if(m.LoadError)m.LoadError.$new(a);else throw a;else"warning"===c&&console.warn("WARNING: LoadError: "+a);return!0};m.require=function(a){a=m.normalize(a);return m.require_table[a]?!1:m.load(a)};m.boot_class_alloc("BasicObject",
r);m.boot_class_alloc("Object",a,r);m.boot_class_alloc("Module",p,a);m.boot_class_alloc("Class",f,p);m.BasicObject=g=m.setup_class_object("BasicObject",r,"Class",f);m.Object=h=m.setup_class_object("Object",a,"BasicObject",g.constructor);m.Module=d=m.setup_class_object("Module",p,"Object",h.constructor);m.Class=b=m.setup_class_object("Class",f,"Module",d.constructor);m.constants.push("BasicObject");m.constants.push("Object");m.constants.push("Module");m.constants.push("Class");g.$$class=b;h.$$class=
b;d.$$class=b;b.$$class=b;g.$$super=null;h.$$super=g;d.$$super=h;b.$$super=d;g.$$parent=null;h.$$parent=g;d.$$parent=h;b.$$parent=d;m.base=h;g.$$scope=h.$$scope=m;g.$$orig_scope=h.$$orig_scope=m;d.$$scope=h.$$scope;d.$$orig_scope=h.$$orig_scope;b.$$scope=h.$$scope;b.$$orig_scope=h.$$orig_scope;h.$$proto.toString=function(){return this.$to_s()};h.$$proto.$require=m.require;m.top=new h.$$alloc;m.klass(h,h,"NilClass",n);e=m.nil=new n;e.$$id=4;e.call=e.apply=function(){throw m.LocalJumpError.$new("no block given");
};m.breaker=Error("unexpected break (old)");m.returner=Error("unexpected return");TypeError.$$super=Error}.call(this),"undefined"!==typeof global&&(global.Opal=this.Opal,Opal.global=global),"undefined"!==typeof window&&(window.Opal=this.Opal,Opal.global=window),Opal.modules["corelib/helpers"]=function(c){var r=c.nil,a=c.module;c.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $inspect $coerce_to! $!= $[] $upcase".split(" "));return function(f){f=a(f,"Opal");
var p=f.$$scope,n,e,g,h,d,b,m,w,t,k,l,M,x;c.defs(f,"$bridge",n=function(a,b){return c.bridge(a,b)},n.$$arity=2);c.defs(f,"$type_error",e=function(a,c,b,d){var f;null==b&&(b=r);null==d&&(d=r);return(f=!1!==b&&b!==r&&null!=b?d:b)===r||null==f||f.$$is_boolean&&1!=f?p.get("TypeError").$new("no implicit conversion of "+a.$class()+" into "+c):p.get("TypeError").$new("can't convert "+a.$class()+" into "+c+" ("+a.$class()+"#"+b+" gives "+d.$class())},e.$$arity=-3);c.defs(f,"$coerce_to",g=function(a,c,b){var d;
if((d=c["$==="](a))!==r&&null!=d&&(!d.$$is_boolean||1==d))return a;((d=a["$respond_to?"](b))===r||null==d||d.$$is_boolean&&1!=d)&&this.$raise(this.$type_error(a,c));return a.$__send__(b)},g.$$arity=3);c.defs(f,"$coerce_to!",h=function(a,c,b){var d,f=r,f=this.$coerce_to(a,c,b);((d=c["$==="](f))===r||null==d||d.$$is_boolean&&1!=d)&&this.$raise(this.$type_error(a,c,b,f));return f},h.$$arity=3);c.defs(f,"$coerce_to?",d=function(a,c,b){var d,f=r;if((d=a["$respond_to?"](b))===r||null==d||d.$$is_boolean&&
1!=d)return r;f=this.$coerce_to(a,c,b);if((d=f["$nil?"]())!==r&&null!=d&&(!d.$$is_boolean||1==d))return r;((d=c["$==="](f))===r||null==d||d.$$is_boolean&&1!=d)&&this.$raise(this.$type_error(a,c,b,f));return f},d.$$arity=3);c.defs(f,"$try_convert",b=function(a,c,b){var d;return(d=c["$==="](a))===r||null==d||d.$$is_boolean&&1!=d?(d=a["$respond_to?"](b))===r||null==d||d.$$is_boolean&&1!=d?r:a.$__send__(b):a},b.$$arity=3);c.defs(f,"$compare",m=function(a,c){var b,d=r,d=a["$<=>"](c);(b=d===r)===r||null==
b||b.$$is_boolean&&1!=b||this.$raise(p.get("ArgumentError"),"comparison of "+a.$class()+" with "+c.$class()+" failed");return d},m.$$arity=2);c.defs(f,"$destructure",w=function(a){if(1==a.length)return a[0];if(a.$$is_array)return a;for(var c=Array(a.length),b=0,d=c.length;b<d;b++)c[b]=a[b];return c},w.$$arity=1);c.defs(f,"$respond_to?",t=function(a,c){return null!=a&&a.$$class?a["$respond_to?"](c):!1},t.$$arity=2);c.defs(f,"$inspect",k=function(a){return void 0===a?"undefined":null===a?"null":a.$$class?
a.$inspect():a.toString()},k.$$arity=1);c.defs(f,"$instance_variable_name!",l=function(a){var c;a=p.get("Opal")["$coerce_to!"](a,p.get("String"),"to_str");((c=/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))===r||null==c||c.$$is_boolean&&1!=c)&&this.$raise(p.get("NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a},l.$$arity=1);c.defs(f,"$const_name!",M=function(a){var c;a=p.get("Opal")["$coerce_to!"](a,p.get("String"),"to_str");(c=a["$[]"](0)["$!="](a["$[]"](0).$upcase()))===
r||null==c||c.$$is_boolean&&1!=c||this.$raise(p.get("NameError"),"wrong constant name "+a);return a},M.$$arity=1);c.defs(f,"$pristine",x=function(a,c){var b,d=arguments.length;b=d-1;0>b&&(b=0);b=Array(b);for(var f=1;f<d;f++)b[f-1]=arguments[f];for(f=b.length-1;0<=f;f--)d=b[f],a.$$proto["$"+d].$$pristine=!0;return r},x.$$arity=-2)}(c.base)},Opal.modules["corelib/module"]=function(c){function r(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function a(a,c){return"number"===typeof a&&
"number"===typeof c?a>c:a["$>"](c)}var f=c.nil,p=c.klass,n=c.range,e=c.hash2;c.add_stubs("$=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $coerce_to! $new $const_name! $=~ $inject $const_get $split $const_missing $== $! $start_with? $to_proc $lambda $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $to_s $__id__ $constants $include?".split(" "));return function(g,$super){function d(){}var b=d=p(g,$super,"Module",d),m=b.$$scope,w,t,k,l,M,x,C,E,D,y,v,
N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q,Z,R,ba,ga,ia,ma,la,na,fa,T,ja,L,O,ka,J,pa,ra,ua,ta,ha;c.defs(b,"$allocate",w=function(){var a;a=c.module_allocate(this);c.create_scope(c.Module.$$scope,a,null);return a},w.$$arity=0);c.defn(b,"$initialize",t=function(){var a=t.$$p||f;t.$$p=null;return c.module_initialize(this,a)},t.$$arity=0);c.defn(b,"$===",k=function(a){var b;return(b=null==a)===f||null==b||b.$$is_boolean&&1!=b?c.is_a(a,this):!1},k.$$arity=1);c.defn(b,"$<",l=function(a){var b;((b=m.get("Module")["$==="](a))===
f||null==b||b.$$is_boolean&&1!=b)&&this.$raise(m.get("TypeError"),"compared with non class/module");var d,e;if(this===a)return!1;d=0;b=c.ancestors(this);for(e=b.length;d<e;d++)if(b[d]===a)return!0;d=0;b=c.ancestors(a);for(e=b.length;d<e;d++)if(b[d]===this)return!1;return f},l.$$arity=1);c.defn(b,"$<=",M=function(a){var c;return!1!==(c=this["$equal?"](a))&&c!==f&&null!=c?c:r(this,a)},M.$$arity=1);c.defn(b,"$>",x=function(a){var c;((c=m.get("Module")["$==="](a))===f||null==c||c.$$is_boolean&&1!=c)&&
this.$raise(m.get("TypeError"),"compared with non class/module");return r(a,this)},x.$$arity=1);c.defn(b,"$>=",C=function(c){var b;return!1!==(b=this["$equal?"](c))&&b!==f&&null!=b?b:a(this,c)},C.$$arity=1);c.defn(b,"$<=>",E=function(a){var c,b=f;if(this===a)return 0;if((c=m.get("Module")["$==="](a))===f||null==c||c.$$is_boolean&&1!=c)return f;b=r(this,a);return(c=b["$nil?"]())===f||null==c||c.$$is_boolean&&1!=c?!1!==b&&b!==f&&null!=b?-1:1:f},E.$$arity=1);c.defn(b,"$alias_method",D=function(a,b){c.alias(this,
a,b);return this},D.$$arity=2);c.defn(b,"$alias_native",y=function(a,b){null==b&&(b=a);c.alias_native(this,a,b);return this},y.$$arity=-2);c.defn(b,"$ancestors",v=function(){return c.ancestors(this)},v.$$arity=0);c.defn(b,"$append_features",N=function(a){c.append_features(this,a);return this},N.$$arity=1);c.defn(b,"$attr_accessor",F=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];this.$attr_reader.apply(this,c.to_a(b));return this.$attr_writer.apply(this,
c.to_a(b))},F.$$arity=-1);c.alias(b,"attr","attr_accessor");c.defn(b,"$attr_reader",I=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];d=this.$$proto;for(e=b.length-1;0<=e;e--){var g=b[e],u="$"+g,g=c.ivar(g),l=function(a){return function(){return null==this[a]?f:this[a]}}(g);d[g]=f;l.$$parameters=[];l.$$arity=0;this.$$is_singleton?d.constructor.prototype[u]=l:c.defn(this,u,l)}return f},I.$$arity=-1);c.defn(b,"$attr_writer",G=function(a){var b,
d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];d=this.$$proto;for(e=b.length-1;0<=e;e--){var g=b[e],u="$"+g+"=",g=c.ivar(g),l=function(a){return function(c){return this[a]=c}}(g);l.$$parameters=[["req"]];l.$$arity=1;d[g]=f;this.$$is_singleton?d.constructor.prototype[u]=l:c.defn(this,u,l)}return f},G.$$arity=-1);c.defn(b,"$autoload",K=function(a,c){var b;(b=this.$$autoload)||(b=this.$$autoload={});b[a]=c;return f},K.$$arity=2);c.defn(b,"$class_variable_get",
z=function(a){var b;a=m.get("Opal")["$coerce_to!"](a,m.get("String"),"to_str");(b=3>a.length||"@@"!==a.slice(0,2))===f||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("NameError").$new("class vars should start with @@",a));var d=c.cvars[a.slice(2)];(b=null==d)===f||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("NameError").$new("uninitialized class variable @@a in",a));return d},z.$$arity=1);c.defn(b,"$class_variable_set",q=function(a,b){var d;a=m.get("Opal")["$coerce_to!"](a,m.get("String"),
"to_str");(d=3>a.length||"@@"!==a.slice(0,2))===f||null==d||d.$$is_boolean&&1!=d||this.$raise(m.get("NameError"));return c.cvars[a.slice(2)]=b},q.$$arity=2);c.defn(b,"$constants",A=function(){return this.$$scope.constants.slice(0)},A.$$arity=0);c.defn(b,"$const_defined?",U=function(a,b){var d;null==b&&(b=!0);a=m.get("Opal")["$const_name!"](a);((d=a["$=~"](m.get("Opal").$$scope.get("CONST_NAME_REGEXP")))===f||null==d||d.$$is_boolean&&1!=d)&&this.$raise(m.get("NameError").$new("wrong constant name "+
a,a));d=[this.$$scope];if(b||this===c.Object)for(var e=this.$$super;e!==c.BasicObject;)d.push(e.$$scope),e=e.$$super;for(var e=0,g=d.length;e<g;e++)if(d[e].hasOwnProperty(a))return!0;return!1},U.$$arity=-2);c.defn(b,"$const_get",S=function(a,b){var d,e,g;null==b&&(b=!0);a=m.get("Opal")["$const_name!"](a);0===a.indexOf("::")&&"::"!==a&&(a=a.slice(2));if((d=-1!=a.indexOf("::")&&"::"!=a)!==f&&null!=d&&(!d.$$is_boolean||1==d))return(d=(e=a.$split("::")).$inject,d.$$p=(g=function(a,c){null==a&&(a=f);null==
c&&(c=f);return a.$const_get(c)},g.$$s=this,g.$$arity=2,g),d).call(e,this);((d=a["$=~"](m.get("Opal").$$scope.get("CONST_NAME_REGEXP")))===f||null==d||d.$$is_boolean&&1!=d)&&this.$raise(m.get("NameError").$new("wrong constant name "+a,a));d=[this.$$scope];if(b||this==c.Object)for(e=this.$$super;e!==c.BasicObject;)d.push(e.$$scope),e=e.$$super;e=0;for(g=d.length;e<g;e++)if(d[e].hasOwnProperty(a))return d[e][a];return this.$const_missing(a)},S.$$arity=-2);c.defn(b,"$const_missing",Y=function(a){var c=
f;if(this.$$autoload&&(c=this.$$autoload[a]))return this.$require(c),this.$const_get(a);c=this["$=="](m.get("Object"))?a:""+this+"::"+a;return this.$raise(m.get("NameError").$new("uninitialized constant "+c,a))},Y.$$arity=1);c.defn(b,"$const_set",ea=function(a,b){var d,e;a=m.get("Opal")["$const_name!"](a);(d=!1!==(e=a["$=~"](m.get("Opal").$$scope.get("CONST_NAME_REGEXP"))["$!"]())&&e!==f&&null!=e?e:a["$start_with?"]("::"))===f||null==d||d.$$is_boolean&&1!=d||this.$raise(m.get("NameError").$new("wrong constant name "+
a,a));c.casgn(this,a,b);return b},ea.$$arity=2);c.defn(b,"$define_method",ca=function(a,b){var d,e,g,u,l=this,k=ca.$$p||f,L=f;ca.$$p=null;(d=void 0===b&&k===f)===f||null==d||d.$$is_boolean&&1!=d||l.$raise(m.get("ArgumentError"),"tried to create a Proc object without a block");!1!==(d=k)&&d!==f&&null!=d?d:k=function(){L=b;return m.get("Proc")["$==="](L)?b:m.get("Method")["$==="](L)?b.$to_proc().$$unbound:m.get("UnboundMethod")["$==="](L)?(e=(g=l).$lambda,e.$$p=(u=function(a){var d=u.$$s||this,e,g,
l=f,l=arguments.length;e=l-0;0>e&&(e=0);e=Array(e);for(var k=0;k<l;k++)e[k-0]=arguments[k];l=b.$bind(d);return(g=l).$call.apply(g,c.to_a(e))},u.$$s=l,u.$$arity=-1,u),e).call(g):l.$raise(m.get("TypeError"),"wrong argument type "+k.$class()+" (expected Proc/Method)")}();k.$$jsid=a;k.$$s=null;k.$$def=k;k.$$define_meth=!0;c.defn(l,"$"+a,k);return a},ca.$$arity=-2);c.defn(b,"$remove_method",B=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];d=0;for(e=
b.length;d<e;d++)c.rdef(this,"$"+b[d]);return this},B.$$arity=-1);c.defn(b,"$singleton_class?",Q=function(){return!!this.$$is_singleton},Q.$$arity=0);c.defn(b,"$include",Z=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];for(b=c.length-1;0<=b;b--)d=c[b],d!==this&&(d.$$is_module||this.$raise(m.get("TypeError"),"wrong argument type "+d.$class()+" (expected Module)"),d.$append_features(this),d.$included(this));return this},Z.$$arity=-1);c.defn(b,
"$included_modules",R=function(){var a,c=function(a){for(var b=[],d=0;d!=a.$$inc.length;d++){var e=a.$$inc[d];b.push(e);b=b.concat(c(e))}return b};a=c(this);if(this.$$is_class)for(var b=this;b;b=b.$$super)a=a.concat(c(b));return a},R.$$arity=0);c.defn(b,"$include?",ba=function(a){for(var c=this;c;c=c.$$super)for(var b=0;b!=c.$$inc.length;b++)if(a===c.$$inc[b])return!0;return!1},ba.$$arity=1);c.defn(b,"$instance_method",ga=function(a){var c=this.$$proto["$"+a];c&&!c.$$stub||this.$raise(m.get("NameError").$new("undefined method `"+
a+"' for class `"+this.$name()+"'",a));return m.get("UnboundMethod").$new(this,c,a)},ga.$$arity=1);c.defn(b,"$instance_methods",ia=function(a){null==a&&(a=!0);var b=[],d=this.$$proto,e;for(e in d)if("$"===e.charAt(0)&&"function"===typeof d[e]&&!d[e].$$stub){if(!this.$$is_module){if(this!==c.BasicObject&&d[e]===c.BasicObject.$$proto[e])continue;if(!a&&!d.hasOwnProperty(e))continue;if(!a&&d[e].$$donated)continue}b.push(e.substr(1))}return b},ia.$$arity=-1);c.defn(b,"$included",ma=function(a){return f},
ma.$$arity=1);c.defn(b,"$extended",la=function(a){return f},la.$$arity=1);c.defn(b,"$method_added",na=function(a){return f},na.$$arity=-1);c.defn(b,"$method_removed",fa=function(a){return f},fa.$$arity=-1);c.defn(b,"$method_undefined",T=function(a){return f},T.$$arity=-1);c.defn(b,"$module_eval",ja=function(b){var d,g,l,k,u=ja.$$p||f,L=f,p=k=k=k=f,L=arguments.length;k=L-0;0>k&&(k=0);k=Array(k);for(var t=0;t<L;t++)k[t-0]=arguments[t];ja.$$p=null;(d=(g=u["$nil?"](),!1!==g&&g!==f&&null!=g?!!c.compile:
g))===f||null==d||d.$$is_boolean&&1!=d?(d=a(k.$size(),0))===f||null==d||d.$$is_boolean&&1!=d||m.get("Kernel").$raise(m.get("ArgumentError"),"wrong number of arguments ("+k.$size()+" for 0)"):(((d=n(1,3,!1)["$cover?"](k.$size()))===f||null==d||d.$$is_boolean&&1!=d)&&m.get("Kernel").$raise(m.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),d=c.to_a(k),L=null==d[0]?f:d[0],k=null==d[1]?f:d[1],d,k=e(["file","eval"],{file:!1!==(d=k)&&d!==f&&null!=d?d:"(eval)",eval:!0}),k=c.hash({arity_check:!1}).$merge(k),
p=m.get("Opal").$compile(L,k),u=(d=(g=m.get("Kernel")).$proc,d.$$p=(l=function(){return function(a){return eval(p)}(l.$$s||this)},l.$$s=this,l.$$arity=0,l),d).call(g));d=u.$$s;u.$$s=null;g=u.apply(this,[this]);u.$$s=d;return g},ja.$$arity=-1);c.alias(b,"class_eval","module_eval");c.defn(b,"$module_exec",L=function(a){var c,b=L.$$p||f,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];L.$$p=null;b===f&&this.$raise(m.get("LocalJumpError"),"no block given");d=b.$$s;
b.$$s=null;c=b.apply(this,c);b.$$s=d;return c},L.$$arity=-1);c.alias(b,"class_exec","module_exec");c.defn(b,"$method_defined?",O=function(a){a=this.$$proto["$"+a];return!!a&&!a.$$stub},O.$$arity=1);c.defn(b,"$module_function",ka=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];if(0===b.length)this.$$module_function=!0;else for(d=0,e=b.length;d<e;d++){var f="$"+b[d];c.defs(this,f,this.$$proto[f])}return this},ka.$$arity=-1);c.defn(b,"$name",J=
function(){if(this.$$full_name)return this.$$full_name;for(var a=[],b=this;b;){if(b.$$name===f)return 0===a.length?f:a.join("::");a.unshift(b.$$name);b=b.$$base_module;if(b===c.Object)break}return 0===a.length?f:this.$$full_name=a.join("::")},J.$$arity=0);c.defn(b,"$remove_class_variable",pa=function(a){return f},pa.$$arity=-1);c.defn(b,"$remove_const",ra=function(a){var c=this.$$scope[a];delete this.$$scope[a];return c},ra.$$arity=1);c.defn(b,"$to_s",ua=function(){var a;return!1!==(a=c.Module.$name.call(this))&&
a!==f&&null!=a?a:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},ua.$$arity=0);c.defn(b,"$undef_method",ta=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];d=0;for(e=b.length;d<e;d++)c.udef(this,"$"+b[d]);return this},ta.$$arity=-1);return(c.defn(b,"$instance_variables",ha=function(){var a=f,a=this.$constants(),c=[],b;for(b in this)this.hasOwnProperty(b)&&"$"!==b.charAt(0)&&"constructor"!==b&&!a["$include?"](b)&&
c.push("@"+b);return c},ha.$$arity=0),f)&&"instance_variables"}(c.base,null)},Opal.modules["corelib/class"]=function(c){var r=c.top,a=c.nil,f=c.klass;c.add_stubs(["$require","$allocate","$name","$to_s"]);r.$require("corelib/module");return function(p,$super){function e(){}var g=e=f(p,$super,"Class",e),h=g.$$scope,d,b,m,w,t,k;c.defs(g,"$new",d=function(b){var e=d.$$p||a;null==b&&(b=h.get("Object"));d.$$p=null;if(!b.$$is_class)throw c.TypeError.$new("superclass must be a Class");var f=c.boot_class_alloc(null,
function(){},b),f=c.setup_class_object(null,f,b.$$name,b.constructor);f.$$super=b;f.$$parent=b;c.create_scope(b.$$scope,f);b.$inherited(f);c.module_initialize(f,e);return f},d.$$arity=-1);c.defn(g,"$allocate",b=function(){var a=new this.$$alloc;a.$$id=c.uid();return a},b.$$arity=0);c.defn(g,"$inherited",m=function(c){return a},m.$$arity=1);c.defn(g,"$new",w=function(c){var b,d=w.$$p||a,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var f=0;f<e;f++)b[f-0]=arguments[f];w.$$p=null;e=this.$allocate();
e.$initialize.$$p=d;e.$initialize.apply(e,b);return e},w.$$arity=-1);c.defn(g,"$superclass",t=function(){return this.$$super||a},t.$$arity=0);return(c.defn(g,"$to_s",k=function(){var a;k.$$p=null;var b=this.$$singleton_of;return b&&(b.$$is_class||b.$$is_module)?"#<Class:"+b.$name()+">":b?"#<Class:#<"+b.$$class.$name()+":0x"+b.$$id.$to_s(16)+">>":(a=c.find_super_dispatcher(this,"to_s",k,!1),a.$$p=null,a).call(this)},k.$$arity=0),a)&&"to_s"}(c.base,null)},Opal.modules["corelib/basic_object"]=function(c){function r(a,
c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}var a=c.nil,f=c.klass,p=c.range,n=c.hash2;c.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $> $new $inspect".split(" "));return function(e,$super){function h(){}var d=h=f(e,$super,"BasicObject",h),b=d.$$scope,m,w,t,k,l,M,x,C,E,D,y,v,N;c.defn(d,"$initialize",m=function(c){return a},m.$$arity=-1);c.defn(d,"$==",w=function(a){return this===a},w.$$arity=1);c.defn(d,"$eql?",t=function(a){return this["$=="](a)},t.$$arity=
1);c.alias(d,"equal?","==");c.defn(d,"$__id__",k=function(){return this.$$id||(this.$$id=c.uid())},k.$$arity=0);c.defn(d,"$__send__",l=function(c,b){var d,e=l.$$p||a,f=arguments.length;d=f-1;0>d&&(d=0);d=Array(d);for(var h=1;h<f;h++)d[h-1]=arguments[h];l.$$p=null;if(f=this["$"+c])return e!==a&&(f.$$p=e),f.apply(this,d);e!==a&&(this.$method_missing.$$p=e);return this.$method_missing.apply(this,[c].concat(d))},l.$$arity=-2);c.defn(d,"$!",M=function(){return!1},M.$$arity=0);c.defn(d,"$!=",x=function(a){return this["$=="](a)["$!"]()},
x.$$arity=1);c.alias(d,"equal?","==");c.defn(d,"$instance_eval",C=function(d){var e,f,h,l,k=C.$$p||a,m=a,t=l=l=l=a,m=arguments.length;l=m-0;0>l&&(l=0);l=Array(l);for(var v=0;v<m;v++)l[v-0]=arguments[v];C.$$p=null;(e=(f=k["$nil?"](),!1!==f&&f!==a&&null!=f?!!c.compile:f))===a||null==e||e.$$is_boolean&&1!=e?(e=r(l.$size(),0))===a||null==e||e.$$is_boolean&&1!=e||b.get("Kernel").$raise(b.get("ArgumentError"),"wrong number of arguments ("+l.$size()+" for 0)"):(((e=p(1,3,!1)["$cover?"](l.$size()))===a||
null==e||e.$$is_boolean&&1!=e)&&b.get("Kernel").$raise(b.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),e=c.to_a(l),m=null==e[0]?a:e[0],l=null==e[1]?a:e[1],e,l=n(["file","eval"],{file:!1!==(e=l)&&e!==a&&null!=e?e:"(eval)",eval:!0}),l=c.hash({arity_check:!1}).$merge(l),t=b.get("Opal").$compile(m,l),k=(e=(f=b.get("Kernel")).$proc,e.$$p=(h=function(){return function(a){return eval(t)}(h.$$s||this)},h.$$s=this,h.$$arity=0,h),e).call(f));e=k.$$s;var y;k.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=
!0;try{y=k.call(this,this)}finally{this.$$eval=!1}}else y=k.call(this,this);k.$$s=e;return y},C.$$arity=-1);c.defn(d,"$instance_exec",E=function(c){var d,e=E.$$p||a,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var h=0;h<f;h++)d[h-0]=arguments[h];E.$$p=null;!1!==e&&e!==a&&null!=e||b.get("Kernel").$raise(b.get("ArgumentError"),"no block given");var f=e.$$s,l;e.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{l=e.apply(this,d)}finally{this.$$eval=!1}}else l=e.apply(this,d);e.$$s=
f;return l},E.$$arity=-1);c.defn(d,"$singleton_method_added",D=function(c){return a},D.$$arity=-1);c.defn(d,"$singleton_method_removed",y=function(c){return a},y.$$arity=-1);c.defn(d,"$singleton_method_undefined",v=function(c){return a},v.$$arity=-1);return(c.defn(d,"$method_missing",N=function(c,d){var e,f,h=arguments.length;f=h-1;0>f&&(f=0);f=Array(f);for(var l=1;l<h;l++)f[l-1]=arguments[l];N.$$p=null;return b.get("Kernel").$raise(b.get("NoMethodError").$new((e=this.$inspect&&!this.$inspect.$$stub)===
a||null==e||e.$$is_boolean&&1!=e?"undefined method `"+c+"' for "+this.$$class:"undefined method `"+c+"' for "+this.$inspect()+":"+this.$$class,c))},N.$$arity=-2),a)&&"method_missing"}(c.base,null)},Opal.modules["corelib/kernel"]=function(c){function r(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function a(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var f=c.nil,p=c.module,n=c.gvars,e=c.hash2,g=c.klass;c.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $to_proc $singleton_class $initialize_dup $for $> $size $pop $call $append_features $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $enum_for $print $format $puts $each $<= $empty? $exception $kind_of? $respond_to_missing? $try_convert! $expand_path $join $start_with? $sym $arg $open $include".split(" "));
(function(h){h=p(h,"Kernel");var d=h.$$scope,b,g,w,t,k,l,M,x,C,E,D,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q,Z,R,ba,ga,ia,ma,la,na,fa,T,ja,L,O,ka,J,pa,ra,ua,ta,ha,za,va,ya,wa,P,u,da,qa,sa,Ca,Da,Ea,Aa,aa;c.defn(h,"$method_missing",b=function(a,c){var e,f=arguments.length;e=f-1;0>e&&(e=0);e=Array(e);for(var u=1;u<f;u++)e[u-1]=arguments[u];b.$$p=null;return this.$raise(d.get("NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,e))},b.$$arity=-2);c.defn(h,"$=~",g=function(a){return!1},g.$$arity=
1);c.defn(h,"$!~",w=function(a){return this["$=~"](a)["$!"]()},w.$$arity=1);c.defn(h,"$===",t=function(a){var c;return!1!==(c=this.$object_id()["$=="](a.$object_id()))&&c!==f&&null!=c?c:this["$=="](a)},t.$$arity=1);c.defn(h,"$<=>",k=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==f?0:f},k.$$arity=1);c.defn(h,"$method",l=function(a){var c=this["$"+a];c&&!c.$$stub||this.$raise(d.get("NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return d.get("Method").$new(this,
c,a)},l.$$arity=1);c.defn(h,"$methods",M=function(a){null==a&&(a=!0);var b=[],d;for(d in this)"$"==d[0]&&"function"===typeof this[d]&&(0!=a&&a!==f||c.hasOwnProperty.call(this,d))&&void 0===this[d].$$stub&&b.push(d.substr(1));return b},M.$$arity=-1);c.alias(h,"public_methods","methods");c.defn(h,"$Array",x=function(a){var c;if(a===f)return[];if(a.$$is_array)return a;c=d.get("Opal")["$coerce_to?"](a,d.get("Array"),"to_ary");if(c!==f)return c;c=d.get("Opal")["$coerce_to?"](a,d.get("Array"),"to_a");return c!==
f?c:[a]},x.$$arity=1);c.defn(h,"$at_exit",C=function(){var a,c=C.$$p||f;null==n.__at_exit__&&(n.__at_exit__=f);C.$$p=null;!1!==(a=n.__at_exit__)&&a!==f&&null!=a?a:n.__at_exit__=[];return n.__at_exit__["$<<"](c)},C.$$arity=0);c.defn(h,"$caller",E=function(){return[]},E.$$arity=0);c.defn(h,"$class",D=function(){return this.$$class},D.$$arity=0);c.defn(h,"$copy_instance_variables",y=function(a){for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&(this[c]=a[c])},y.$$arity=1);c.defn(h,"$copy_singleton_methods",
v=function(a){var b;if(a.hasOwnProperty("$$meta")){var d=c.get_singleton_class(a).$$proto,e=c.get_singleton_class(this).$$proto;for(b in d)"$"===b.charAt(0)&&d.hasOwnProperty(b)&&(e[b]=d[b])}for(b in a)"$"===b.charAt(0)&&"$"!==b.charAt(1)&&a.hasOwnProperty(b)&&(this[b]=a[b])},v.$$arity=1);c.defn(h,"$clone",N=function(){var a=f,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},N.$$arity=0);c.defn(h,"$initialize_clone",F=
function(a){return this.$initialize_copy(a)},F.$$arity=1);c.defn(h,"$define_singleton_method",I=function(a,c){var b,d,e=I.$$p||f;I.$$p=null;return(b=(d=this.$singleton_class()).$define_method,b.$$p=e.$to_proc(),b).call(d,a,c)},I.$$arity=-2);c.defn(h,"$dup",G=function(){var a=f,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},G.$$arity=0);c.defn(h,"$initialize_dup",K=function(a){return this.$initialize_copy(a)},K.$$arity=1);c.defn(h,"$enum_for",z=function(a,
b){var e,u,h,g=z.$$p||f;null==a&&(a="each");var l=arguments.length;h=l-1;0>h&&(h=0);h=Array(h);for(var k=1;k<l;k++)h[k-1]=arguments[k];z.$$p=null;return(e=(u=d.get("Enumerator")).$for,e.$$p=g.$to_proc(),e).apply(u,[this,a].concat(c.to_a(h)))},z.$$arity=-1);c.alias(h,"to_enum","enum_for");c.defn(h,"$equal?",q=function(a){return this===a},q.$$arity=1);c.defn(h,"$exit",A=function(a){var b,d,e=f;null==n.__at_exit__&&(n.__at_exit__=f);null==a&&(a=!0);for(!1!==(b=n.__at_exit__)&&b!==f&&null!=b?b:n.__at_exit__=
[];(d=r(n.__at_exit__.$size(),0))!==f&&null!=d&&(!d.$$is_boolean||1==d);)e=n.__at_exit__.$pop(),e.$call();(b=!0===a)===f||null==b||b.$$is_boolean&&1!=b||(a=0);c.exit(a);return f},A.$$arity=-1);c.defn(h,"$extend",U=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var e=0;e<b;e++)c[e-0]=arguments[e];b=this.$singleton_class();for(e=c.length-1;0<=e;e--){var f=c[e];f.$$is_module||this.$raise(d.get("TypeError"),"wrong argument type "+f.$class()+" (expected Module)");f.$append_features(b);
f.$extended(this)}return this},U.$$arity=-1);c.defn(h,"$format",S=function(a,c){function b(){J&32&&P.$raise(d.get("ArgumentError"),"flag after width");J&128&&P.$raise(d.get("ArgumentError"),"flag after precision")}function e(){J&32&&P.$raise(d.get("ArgumentError"),"width given twice");J&128&&P.$raise(d.get("ArgumentError"),"width after precision")}function u(a){a>=p.length&&P.$raise(d.get("ArgumentError"),"too few arguments");return p[a]}function h(){switch(x){case -1:P.$raise(d.get("ArgumentError"),
"unnumbered("+w+") mixed with numbered");case -2:P.$raise(d.get("ArgumentError"),"unnumbered("+w+") mixed with named")}x=w++;return u(x-1)}function g(a){0<x&&P.$raise(d.get("ArgumentError"),"numbered("+a+") after unnumbered("+x+")");-2===x&&P.$raise(d.get("ArgumentError"),"numbered("+a+") after named");1>a&&P.$raise(d.get("ArgumentError"),"invalid index - "+a+"$");x=-1;return u(a-1)}function l(){return void 0===ka?h():ka}function k(c){var b;for(b="";;O++){O===v&&P.$raise(d.get("ArgumentError"),"malformed format string - %*[0-9]");
if(48>a.charCodeAt(O)||57<a.charCodeAt(O))return O--,b=parseInt(b,10)||0,2147483647<b&&P.$raise(d.get("ArgumentError"),""+c+" too big"),b;b+=a.charAt(O)}}function L(c){c=k(c);"$"===a.charAt(O+1)?(O++,c=g(c)):c=h();return c.$to_int()}var m,P=this,p,t=f;null==n.DEBUG&&(n.DEBUG=f);var t=arguments.length,sa=t-1;0>sa&&(sa=0);p=Array(sa);for(sa=1;sa<t;sa++)p[sa-1]=arguments[sa];(m=p.$length()["$=="](1)?p["$[]"](0)["$respond_to?"]("to_ary"):p.$length()["$=="](1))!==f&&null!=m&&(!m.$$is_boolean||1==m)&&(t=
d.get("Opal")["$coerce_to?"](p["$[]"](0),d.get("Array"),"to_ary"),(m=t["$nil?"]())===f||null==m||m.$$is_boolean&&1!=m)&&(p=t.$to_a());m="";var t=0,O,v=a.length,da,q,T,ha,y,aa,qa,z,I,ka,w=1,x=0,J;for(O=a.indexOf("%");-1!==O;O=a.indexOf("%",O)){q=void 0;J=0;y=ha=-1;ka=void 0;sa=O;O++;switch(a.charAt(O)){case "%":t=O;case "":case "\n":case "\x00":O++;continue}a:for(;O<v;O++)switch(a.charAt(O)){case " ":b();J|=16;continue a;case "#":b();J|=1;continue a;case "+":b();J|=4;continue a;case "-":b();J|=2;continue a;
case "0":b();J|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":da=k("width");if("$"===a.charAt(O+1)){if(O+2===v){q="%";O++;break a}void 0!==ka&&P.$raise(d.get("ArgumentError"),"value given twice - %"+da+"$");ka=g(da);O++}else e(),J|=32,ha=da;continue a;case "<":case "{":for(T="<"===a.charAt(O)?">":"}",da="",O++;;O++){O===v&&P.$raise(d.get("ArgumentError"),"malformed name - unmatched parenthesis");if(a.charAt(O)===T)if(0<x&&P.$raise(d.get("ArgumentError"),
"named "+da+" after unnumbered("+x+")"),-1===x&&P.$raise(d.get("ArgumentError"),"named "+da+" after numbered"),x=-2,void 0!==p[0]&&p[0].$$is_hash||P.$raise(d.get("ArgumentError"),"one hash required"),ka=p[0].$fetch(da),">"===T)continue a;else{q=ka.toString();-1!==y&&(q=q.slice(0,y));if(J&2)for(;q.length<ha;)q+=" ";else for(;q.length<ha;)q=" "+q;break a}da+=a.charAt(O)}case "*":O++;e();J|=32;ha=L("width");0>ha&&(J|=2,ha=-ha);continue a;case ".":J&128&&P.$raise(d.get("ArgumentError"),"precision given twice");
J|=192;y=0;O++;if("*"===a.charAt(O)){O++;y=L("precision");0>y&&(J&=-65);continue a}y=k("precision");continue a;case "d":case "i":case "u":da=P.$Integer(l());if(0<=da){for(q=da.toString();q.length<y;)q="0"+q;if(J&2){if(J&4||J&16)q=(J&4?"+":" ")+q;for(;q.length<ha;)q+=" "}else if(J&8&&-1===y){for(;q.length<ha-(J&4||J&16?1:0);)q="0"+q;if(J&4||J&16)q=(J&4?"+":" ")+q}else{if(J&4||J&16)q=(J&4?"+":" ")+q;for(;q.length<ha;)q=" "+q}}else{for(q=(-da).toString();q.length<y;)q="0"+q;if(J&2)for(q="-"+q;q.length<
ha;)q+=" ";else if(J&8&&-1===y){for(;q.length<ha-1;)q="0"+q;q="-"+q}else for(q="-"+q;q.length<ha;)q=" "+q}break a;case "b":case "B":case "o":case "x":case "X":switch(a.charAt(O)){case "b":case "B":aa=2;qa="0b";z=/^1+/;I="1";break;case "o":aa=8;qa="0";z=/^3?7+/;I="7";break;case "x":case "X":aa=16,qa="0x",z=/^f+/,I="f"}da=P.$Integer(l());if(0<=da){for(q=da.toString(aa);q.length<y;)q="0"+q;if(J&2){if(J&4||J&16)q=(J&4?"+":" ")+q;for(J&1&&0!==da&&(q=qa+q);q.length<ha;)q+=" "}else if(J&8&&-1===y){for(;q.length<
ha-(J&4||J&16?1:0)-(J&1&&0!==da?qa.length:0);)q="0"+q;J&1&&0!==da&&(q=qa+q);if(J&4||J&16)q=(J&4?"+":" ")+q}else{J&1&&0!==da&&(q=qa+q);if(J&4||J&16)q=(J&4?"+":" ")+q;for(;q.length<ha;)q=" "+q}}else if(J&4||J&16){for(q=(-da).toString(aa);q.length<y;)q="0"+q;if(J&2)for(J&1&&(q=qa+q),q="-"+q;q.length<ha;)q+=" ";else if(J&8&&-1===y){for(;q.length<ha-1-(J&1?2:0);)q="0"+q;J&1&&(q=qa+q);q="-"+q}else for(J&1&&(q=qa+q),q="-"+q;q.length<ha;)q=" "+q}else{for(q=(da>>>0).toString(aa).replace(z,I);q.length<y-2;)q=
I+q;if(J&2)for(q=".."+q,J&1&&(q=qa+q);q.length<ha;)q+=" ";else if(J&8&&-1===y){for(;q.length<ha-2-(J&1?qa.length:0);)q=I+q;q=".."+q;J&1&&(q=qa+q)}else for(q=".."+q,J&1&&(q=qa+q);q.length<ha;)q=" "+q}a.charAt(O)===a.charAt(O).toUpperCase()&&(q=q.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":da=P.$Float(l());if(0<=da||isNaN(da)){if(Infinity===da)q="Inf";else switch(a.charAt(O)){case "f":q=da.toFixed(-1===y?6:y);break;case "e":case "E":q=da.toExponential(-1===y?6:y);break;case "g":case "G":q=
da.toExponential(),T=parseInt(q.split("e")[1],10),-4>T||T>=(-1===y?6:y)||(q=da.toPrecision(-1===y?J&1?6:void 0:y))}if(J&2){if(J&4||J&16)q=(J&4?"+":" ")+q;for(;q.length<ha;)q+=" "}else if(J&8&&Infinity!==da&&!isNaN(da)){for(;q.length<ha-(J&4||J&16?1:0);)q="0"+q;if(J&4||J&16)q=(J&4?"+":" ")+q}else{if(J&4||J&16)q=(J&4?"+":" ")+q;for(;q.length<ha;)q=" "+q}}else{if(-Infinity===da)q="Inf";else switch(a.charAt(O)){case "f":q=(-da).toFixed(-1===y?6:y);break;case "e":case "E":q=(-da).toExponential(-1===y?
6:y);break;case "g":case "G":q=(-da).toExponential(),T=parseInt(q.split("e")[1],10),-4>T||T>=(-1===y?6:y)||(q=(-da).toPrecision(-1===y?J&1?6:void 0:y))}if(J&2)for(q="-"+q;q.length<ha;)q+=" ";else if(J&8&&-Infinity!==da){for(;q.length<ha-1;)q="0"+q;q="-"+q}else for(q="-"+q;q.length<ha;)q=" "+q}a.charAt(O)!==a.charAt(O).toUpperCase()||Infinity===da||-Infinity===da||isNaN(da)||(q=q.toUpperCase());q=q.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":P.$raise(d.get("NotImplementedError"),
"`A` and `a` format field types are not implemented in Opal yet");case "c":da=l();da["$respond_to?"]("to_ary")&&(da=da.$to_ary()[0]);q=da["$respond_to?"]("to_str")?da.$to_str():String.fromCharCode(d.get("Opal").$coerce_to(da,d.get("Integer"),"to_int"));1!==q.length&&P.$raise(d.get("ArgumentError"),"%c requires a character");if(J&2)for(;q.length<ha;)q+=" ";else for(;q.length<ha;)q=" "+q;break a;case "p":q=l().$inspect();-1!==y&&(q=q.slice(0,y));if(J&2)for(;q.length<ha;)q+=" ";else for(;q.length<ha;)q=
" "+q;break a;case "s":q=l().$to_s();-1!==y&&(q=q.slice(0,y));if(J&2)for(;q.length<ha;)q+=" ";else for(;q.length<ha;)q=" "+q;break a;default:P.$raise(d.get("ArgumentError"),"malformed format string - %"+a.charAt(O))}void 0===q&&P.$raise(d.get("ArgumentError"),"malformed format string - %");m+=a.slice(t,sa)+q;t=O+1}n.DEBUG&&0<=x&&w<p.length&&P.$raise(d.get("ArgumentError"),"too many arguments for format string");return m+a.slice(t)},S.$$arity=-2);c.defn(h,"$hash",Y=function(){return this.$__id__()},
Y.$$arity=0);c.defn(h,"$initialize_copy",ea=function(a){return f},ea.$$arity=1);c.defn(h,"$inspect",ca=function(){return this.$to_s()},ca.$$arity=0);c.defn(h,"$instance_of?",B=function(a){a.$$is_class||a.$$is_module||this.$raise(d.get("TypeError"),"class or module required");return this.$$class===a},B.$$arity=1);c.defn(h,"$instance_variable_defined?",Q=function(a){a=d.get("Opal")["$instance_variable_name!"](a);return c.hasOwnProperty.call(this,a.substr(1))},Q.$$arity=1);c.defn(h,"$instance_variable_get",
Z=function(a){a=d.get("Opal")["$instance_variable_name!"](a);a=this[c.ivar(a.substr(1))];return null==a?f:a},Z.$$arity=1);c.defn(h,"$instance_variable_set",R=function(a,b){a=d.get("Opal")["$instance_variable_name!"](a);return this[c.ivar(a.substr(1))]=b},R.$$arity=2);c.defn(h,"$remove_instance_variable",ba=function(a){a=d.get("Opal")["$instance_variable_name!"](a);var b=c.ivar(a.substr(1));return this.hasOwnProperty(b)?(a=this[b],delete this[b],a):this.$raise(d.get("NameError"),"instance variable "+
a+" not defined")},ba.$$arity=1);c.defn(h,"$instance_variables",ga=function(){var a=[],c,b;for(b in this)this.hasOwnProperty(b)&&"$"!==b.charAt(0)&&(c="$"===b.substr(-1)?b.slice(0,b.length-1):b,a.push("@"+c));return a},ga.$$arity=0);c.defn(h,"$Integer",ia=function(a,c){var b=this,e,u;if(!a.$$is_string)return void 0!==c&&b.$raise(d.get("ArgumentError"),"base specified for non string value"),a===f&&b.$raise(d.get("TypeError"),"can't convert nil into Integer"),a.$$is_number?((Infinity===a||-Infinity===
a||isNaN(a))&&b.$raise(d.get("FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(e=a.$to_int(),e!==f)?e:d.get("Opal")["$coerce_to!"](a,d.get("Integer"),"to_i");void 0===c?c=0:(c=d.get("Opal").$coerce_to(c,d.get("Integer"),"to_int"),(1===c||0>c||36<c)&&b.$raise(d.get("ArgumentError"),"invalid radix "+c));e=a.toLowerCase();e=e.replace(/(\d)_(?=\d)/g,"$1");e=e.replace(/^(\s*[+-]?)(0[bodx]?)/,function(e,f,u){switch(u){case "0b":if(0===c||2===c)return c=2,f;case "0":case "0o":if(0===c||
8===c)return c=8,f;case "0d":if(0===c||10===c)return c=10,f;case "0x":if(0===c||16===c)return c=16,f}b.$raise(d.get("ArgumentError"),'invalid value for Integer(): "'+a+'"')});c=0===c?10:c;u="0-"+(10>=c?c-1:"9a-"+String.fromCharCode(97+(c-11)));(new RegExp("^\\s*[+-]?["+u+"]+\\s*$")).test(e)||b.$raise(d.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');e=parseInt(e,c);isNaN(e)&&b.$raise(d.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');return e},ia.$$arity=-2);c.defn(h,"$Float",
ma=function(a){var c;a===f&&this.$raise(d.get("TypeError"),"can't convert nil into Float");if(a.$$is_string){c=a.toString();c=c.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(c))return this.$Integer(c);/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(c)||this.$raise(d.get("ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(c)}return d.get("Opal")["$coerce_to!"](a,d.get("Float"),"to_f")},ma.$$arity=1);c.defn(h,"$Hash",la=function(a){var c,b;return(c=
!1!==(b=a["$nil?"]())&&b!==f&&null!=b?b:a["$=="]([]))===f||null==c||c.$$is_boolean&&1!=c?(c=d.get("Hash")["$==="](a))===f||null==c||c.$$is_boolean&&1!=c?d.get("Opal")["$coerce_to!"](a,d.get("Hash"),"to_hash"):a:e([],{})},la.$$arity=1);c.defn(h,"$is_a?",na=function(a){a.$$is_class||a.$$is_module||this.$raise(d.get("TypeError"),"class or module required");return c.is_a(this,a)},na.$$arity=1);c.alias(h,"kind_of?","is_a?");c.defn(h,"$lambda",fa=function(){var a=fa.$$p||f;fa.$$p=null;a.$$is_lambda=!0;
return a},fa.$$arity=0);c.defn(h,"$load",T=function(a){a=d.get("Opal")["$coerce_to!"](a,d.get("String"),"to_str");return c.load(a)},T.$$arity=1);c.defn(h,"$loop",ja=function(){var a=ja.$$p||f;ja.$$p=null;if(a===f)return this.$enum_for("loop");for(;;)c.yieldX(a,[])},ja.$$arity=0);c.defn(h,"$nil?",L=function(){return!1},L.$$arity=0);c.alias(h,"object_id","__id__");c.defn(h,"$printf",O=function(a){var b,d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var u=0;u<e;u++)d[u-0]=arguments[u];(b=r(d.$length(),
0))===f||null==b||b.$$is_boolean&&1!=b||this.$print((b=this).$format.apply(b,c.to_a(d)));return f},O.$$arity=-1);c.defn(h,"$proc",ka=function(){var a=ka.$$p||f;ka.$$p=null;!1!==a&&a!==f&&null!=a||this.$raise(d.get("ArgumentError"),"tried to create Proc object without a block");a.$$is_lambda=!1;return a},ka.$$arity=0);c.defn(h,"$puts",J=function(a){var b,d;null==n.stdout&&(n.stdout=f);var e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var u=0;u<e;u++)d[u-0]=arguments[u];return(b=n.stdout).$puts.apply(b,
c.to_a(d))},J.$$arity=-1);c.defn(h,"$p",pa=function(c){var b,d,e,u=arguments.length;e=u-0;0>e&&(e=0);e=Array(e);for(var h=0;h<u;h++)e[h-0]=arguments[h];(b=e.$each,b.$$p=(d=function(a){null==n.stdout&&(n.stdout=f);null==a&&(a=f);return n.stdout.$puts(a.$inspect())},d.$$s=this,d.$$arity=1,d),b).call(e);return(b=a(e.$length(),1))===f||null==b||b.$$is_boolean&&1!=b?e:e["$[]"](0)},pa.$$arity=-1);c.defn(h,"$print",ra=function(a){var b,d;null==n.stdout&&(n.stdout=f);var e=arguments.length;d=e-0;0>d&&(d=
0);d=Array(d);for(var u=0;u<e;u++)d[u-0]=arguments[u];return(b=n.stdout).$print.apply(b,c.to_a(d))},ra.$$arity=-1);c.defn(h,"$warn",ua=function(a){var b,d,e;null==n.VERBOSE&&(n.VERBOSE=f);null==n.stderr&&(n.stderr=f);var u=arguments.length;e=u-0;0>e&&(e=0);e=Array(e);for(var h=0;h<u;h++)e[h-0]=arguments[h];return(b=!1!==(d=n.VERBOSE["$nil?"]())&&d!==f&&null!=d?d:e["$empty?"]())===f||null==b||b.$$is_boolean&&1!=b?(b=n.stderr).$puts.apply(b,c.to_a(e)):f},ua.$$arity=-1);c.defn(h,"$raise",ta=function(a,
b,e){null==n["!"]&&(n["!"]=f);null==b&&(b=f);if(null==a&&n["!"]!==f)throw n["!"];null==a?a=d.get("RuntimeError").$new():a.$$is_string?a=d.get("RuntimeError").$new(a):a.$$is_class&&a["$respond_to?"]("exception")?a=a.$exception(b):a["$kind_of?"](d.get("Exception"))||(a=d.get("TypeError").$new("exception class/object expected"));n["!"]!==f&&c.exceptions.push(n["!"]);n["!"]=a;throw a;},ta.$$arity=-1);c.alias(h,"fail","raise");c.defn(h,"$rand",ha=function(a){if(void 0===a)return Math.random();if(a.$$is_range){var c=
a.begin,b=a.end-c;a.exclude||b++;return this.$rand(b)+c}return Math.floor(Math.random()*Math.abs(d.get("Opal").$coerce_to(a,d.get("Integer"),"to_int")))},ha.$$arity=-1);c.defn(h,"$respond_to?",za=function(a,c){var b;null==c&&(c=!1);if((b=this["$respond_to_missing?"](a,c))!==f&&null!=b&&(!b.$$is_boolean||1==b))return!0;b=this["$"+a];return"function"!==typeof b||b.$$stub?!1:!0},za.$$arity=-2);c.defn(h,"$respond_to_missing?",va=function(a,c){return!1},va.$$arity=-2);c.defn(h,"$require",ya=function(a){a=
d.get("Opal")["$coerce_to!"](a,d.get("String"),"to_str");return c.require(a)},ya.$$arity=1);c.defn(h,"$require_relative",wa=function(a){d.get("Opal")["$try_convert!"](a,d.get("String"),"to_str");a=d.get("File").$expand_path(d.get("File").$join(c.current_file,"..",a));return c.require(a)},wa.$$arity=1);c.defn(h,"$require_tree",P=function(a){a=d.get("File").$expand_path(a);a["$=="](".")&&(a="");for(var b in c.modules)b["$start_with?"](a)&&c.require(b);return f},P.$$arity=1);c.alias(h,"send","__send__");
c.alias(h,"public_send","__send__");c.defn(h,"$singleton_class",u=function(){return c.get_singleton_class(this)},u.$$arity=0);c.defn(h,"$sleep",da=function(a){null==a&&(a=f);a===f&&this.$raise(d.get("TypeError"),"can't convert NilClass into time interval");a.$$is_number||this.$raise(d.get("TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(d.get("ArgumentError"),"time interval must be positive");for(var c=new Date;new Date-c<=1E3*a;);return a},da.$$arity=-1);c.alias(h,
"sprintf","format");c.alias(h,"srand","rand");c.defn(h,"$String",qa=function(a){var c;return!1!==(c=d.get("Opal")["$coerce_to?"](a,d.get("String"),"to_str"))&&c!==f&&null!=c?c:d.get("Opal")["$coerce_to!"](a,d.get("String"),"to_s")},qa.$$arity=1);c.defn(h,"$tap",sa=function(){var a=sa.$$p||f;sa.$$p=null;c.yield1(a,this);return this},sa.$$arity=0);c.defn(h,"$to_proc",Ca=function(){return this},Ca.$$arity=0);c.defn(h,"$to_s",Da=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},
Da.$$arity=0);c.defn(h,"$catch",Ea=function(a){var b=Ea.$$p||f,e=f;Ea.$$p=null;try{return c.yieldX(b,[])}catch(u){if(c.rescue(u,[d.get("UncaughtThrowError")])){e=u;try{return e.$sym()["$=="](a)?e.$arg():this.$raise()}finally{c.pop_exception()}}else throw u;}},Ea.$$arity=1);c.defn(h,"$throw",Aa=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var e=0;e<b;e++)c[e-0]=arguments[e];return this.$raise(d.get("UncaughtThrowError").$new(c))},Aa.$$arity=-1);c.defn(h,"$open",aa=function(a){var b,
e,u,h=aa.$$p||f,g=arguments.length;u=g-0;0>u&&(u=0);u=Array(u);for(var l=0;l<g;l++)u[l-0]=arguments[l];aa.$$p=null;return(b=(e=d.get("File")).$open,b.$$p=h.$to_proc(),b).apply(e,c.to_a(u))},aa.$$arity=-1)})(c.base);return function(a,$super){function c(){}var e=c=g(a,$super,"Object",c);return e.$include(e.$$scope.get("Kernel"))}(c.base,null)},Opal.modules["corelib/error"]=function(c){var r=c.nil,a=c.klass,f=c.module;c.add_stubs("$new $clone $to_s $empty? $class $attr_reader $[] $> $length $inspect".split(" "));
(function(f,$super){function e(){}var g=e=a(f,$super,"Exception",e),h,d,b,m,w,t,k,l;g.$$proto.message=r;c.defs(g,"$new",h=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];b=new this.$$alloc(0<c.length?c[0]:r);Error.captureStackTrace&&Error.captureStackTrace(b);b.name=this.$$name;b.$initialize.apply(b,c);return b},h.$$arity=-1);c.defs(g,"$exception",d=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=
arguments[e];return this.$new.apply(this,c.to_a(b))},d.$$arity=-1);c.defn(g,"$initialize",b=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];return this.message=0<c.length?c[0]:r},b.$$arity=-1);c.defn(g,"$backtrace",m=function(){var a=this.stack;return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]},m.$$arity=0);c.defn(g,"$exception",w=function(a){null==a&&(a=r);if(a===r||this===a)return this;var c=this.$clone();c.message=a;
return c},w.$$arity=-1);c.defn(g,"$message",t=function(){return this.$to_s()},t.$$arity=0);c.defn(g,"$inspect",k=function(){var a,c=r,c=this.$to_s();return(a=c["$empty?"]())===r||null==a||a.$$is_boolean&&1!=a?"#<"+this.$class().$to_s()+": "+this.$to_s()+">":this.$class().$to_s()},k.$$arity=0);return(c.defn(g,"$to_s",l=function(){var a,c;return!1!==(a=(c=this.message,!1!==c&&c!==r&&null!=c?this.message.$to_s():c))&&a!==r&&null!=a?a:this.$class().$to_s()},l.$$arity=0),r)&&"to_s"})(c.base,Error);(function(c,
$super){function e(){}e=a(c,$super,"ScriptError",e);return r})(c.base,c.get("Exception"));(function(c,$super){function e(){}e=a(c,$super,"SyntaxError",e);return r})(c.base,c.get("ScriptError"));(function(c,$super){function e(){}e=a(c,$super,"LoadError",e);return r})(c.base,c.get("ScriptError"));(function(c,$super){function e(){}e=a(c,$super,"NotImplementedError",e);return r})(c.base,c.get("ScriptError"));(function(c,$super){function e(){}e=a(c,$super,"SystemExit",e);return r})(c.base,c.get("Exception"));
(function(c,$super){function e(){}e=a(c,$super,"NoMemoryError",e);return r})(c.base,c.get("Exception"));(function(c,$super){function e(){}e=a(c,$super,"SignalException",e);return r})(c.base,c.get("Exception"));(function(c,$super){function e(){}e=a(c,$super,"Interrupt",e);return r})(c.base,c.get("Exception"));(function(c,$super){function e(){}e=a(c,$super,"SecurityError",e);return r})(c.base,c.get("Exception"));(function(c,$super){function e(){}e=a(c,$super,"StandardError",e);return r})(c.base,c.get("Exception"));
(function(c,$super){function e(){}e=a(c,$super,"ZeroDivisionError",e);return r})(c.base,c.get("StandardError"));(function(c,$super){function e(){}e=a(c,$super,"NameError",e);return r})(c.base,c.get("StandardError"));(function(c,$super){function e(){}e=a(c,$super,"NoMethodError",e);return r})(c.base,c.get("NameError"));(function(c,$super){function e(){}e=a(c,$super,"RuntimeError",e);return r})(c.base,c.get("StandardError"));(function(c,$super){function e(){}e=a(c,$super,"LocalJumpError",e);return r})(c.base,
c.get("StandardError"));(function(c,$super){function e(){}e=a(c,$super,"TypeError",e);return r})(c.base,c.get("StandardError"));(function(c,$super){function e(){}e=a(c,$super,"ArgumentError",e);return r})(c.base,c.get("StandardError"));(function(c,$super){function e(){}e=a(c,$super,"IndexError",e);return r})(c.base,c.get("StandardError"));(function(c,$super){function e(){}e=a(c,$super,"StopIteration",e);return r})(c.base,c.get("IndexError"));(function(c,$super){function e(){}e=a(c,$super,"KeyError",
e);return r})(c.base,c.get("IndexError"));(function(c,$super){function e(){}e=a(c,$super,"RangeError",e);return r})(c.base,c.get("StandardError"));(function(c,$super){function e(){}e=a(c,$super,"FloatDomainError",e);return r})(c.base,c.get("RangeError"));(function(c,$super){function e(){}e=a(c,$super,"IOError",e);return r})(c.base,c.get("StandardError"));(function(c,$super){function e(){}e=a(c,$super,"SystemCallError",e);return r})(c.base,c.get("StandardError"));(function(p){p=f(p,"Errno").$$scope;
(function(f,$super){function g(){}var h=g=a(f,$super,"EINVAL",g),d;return(c.defs(h,"$new",d=function(){var a;d.$$p=null;return(a=c.find_super_dispatcher(this,"new",d,!1,g),a.$$p=null,a).call(this,"Invalid argument")},d.$$arity=0),r)&&"new"})(p.base,p.get("SystemCallError"))})(c.base);(function(f,$super){function e(){}var g=e=a(f,$super,"UncaughtThrowError",e),h;g.$$proto.sym=r;g.$attr_reader("sym","arg");return(c.defn(g,"$initialize",h=function(a){var b;h.$$p=null;this.sym=a["$[]"](0);var e=a.$length();
(b="number"===typeof e?1<e:e["$>"](1))===r||null==b||b.$$is_boolean&&1!=b||(this.arg=a["$[]"](1));return(b=c.find_super_dispatcher(this,"initialize",h,!1),b.$$p=null,b).call(this,"uncaught throw "+this.sym.$inspect())},h.$$arity=1),r)&&"initialize"})(c.base,c.get("ArgumentError"));(function(f,$super){function e(){}var g=e=a(f,$super,"NameError",e),h;g.$attr_reader("name");return(c.defn(g,"$initialize",h=function(a,b){var e;null==b&&(b=r);h.$$p=null;(e=c.find_super_dispatcher(this,"initialize",h,!1),
e.$$p=null,e).call(this,a);return this.name=b},h.$$arity=-2),r)&&"initialize"})(c.base,null);return function(f,$super){function e(){}var g=e=a(f,$super,"NoMethodError",e),h;g.$attr_reader("args");return(c.defn(g,"$initialize",h=function(a,b,e){var f;null==b&&(b=r);null==e&&(e=[]);h.$$p=null;(f=c.find_super_dispatcher(this,"initialize",h,!1),f.$$p=null,f).call(this,a,b);return this.args=e},h.$$arity=-2),r)&&"initialize"}(c.base,null)},Opal.modules["corelib/constants"]=function(c){c.cdecl(c,"RUBY_PLATFORM",
"opal");c.cdecl(c,"RUBY_ENGINE","opal");c.cdecl(c,"RUBY_VERSION","2.2.5");c.cdecl(c,"RUBY_ENGINE_VERSION","0.10.2");c.cdecl(c,"RUBY_RELEASE_DATE","2016-09-09");c.cdecl(c,"RUBY_PATCHLEVEL",0);c.cdecl(c,"RUBY_REVISION",0);c.cdecl(c,"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon");return c.cdecl(c,"RUBY_DESCRIPTION","opal "+c.get("RUBY_ENGINE_VERSION")+" ("+c.get("RUBY_RELEASE_DATE")+" revision "+c.get("RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(c){var r=c.top;c.add_stubs(["$require"]);
r.$require("corelib/runtime");r.$require("corelib/helpers");r.$require("corelib/module");r.$require("corelib/class");r.$require("corelib/basic_object");r.$require("corelib/kernel");r.$require("corelib/error");return r.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(c){var r=c.nil,a=c.klass;c.add_stubs("$raise $class $new $> $length $Rational".split(" "));(function(f,$super){function n(){}var e=n=a(f,$super,"NilClass",n),g=e.$$scope,h,d,b,m,w,t,k,l,M,x,C,E,D,y,v,N,F,I;e.$$proto.$$meta=
e;c.defn(e,"$!",h=function(){return!0},h.$$arity=0);c.defn(e,"$&",d=function(a){return!1},d.$$arity=1);c.defn(e,"$|",b=function(a){return!1!==a&&a!==r},b.$$arity=1);c.defn(e,"$^",m=function(a){return!1!==a&&a!==r},m.$$arity=1);c.defn(e,"$==",w=function(a){return a===r},w.$$arity=1);c.defn(e,"$dup",t=function(){return this.$raise(g.get("TypeError"),"can't dup "+this.$class())},t.$$arity=0);c.defn(e,"$clone",k=function(){return this.$raise(g.get("TypeError"),"can't clone "+this.$class())},k.$$arity=
0);c.defn(e,"$inspect",l=function(){return"nil"},l.$$arity=0);c.defn(e,"$nil?",M=function(){return!0},M.$$arity=0);c.defn(e,"$singleton_class",x=function(){return g.get("NilClass")},x.$$arity=0);c.defn(e,"$to_a",C=function(){return[]},C.$$arity=0);c.defn(e,"$to_h",E=function(){return c.hash()},E.$$arity=0);c.defn(e,"$to_i",D=function(){return 0},D.$$arity=0);c.alias(e,"to_f","to_i");c.defn(e,"$to_s",y=function(){return""},y.$$arity=0);c.defn(e,"$to_c",v=function(){return g.get("Complex").$new(0,0)},
v.$$arity=0);c.defn(e,"$rationalize",N=function(a){var c,b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];d=b.$length();(c="number"===typeof d?1<d:d["$>"](1))===r||null==c||c.$$is_boolean&&1!=c||this.$raise(g.get("ArgumentError"));return this.$Rational(0,1)},N.$$arity=-1);c.defn(e,"$to_r",F=function(){return this.$Rational(0,1)},F.$$arity=0);return(c.defn(e,"$instance_variables",I=function(){return[]},I.$$arity=0),r)&&"instance_variables"})(c.base,null);return c.cdecl(c,
"NIL",r)},Opal.modules["corelib/boolean"]=function(c){var r=c.nil,a=c.klass;c.add_stubs(["$raise","$class"]);(function(f,$super){function n(){}var e=n=a(f,$super,"Boolean",n),g=e.$$proto,h=e.$$scope,d,b,m,w,t,k,l,M,x,C;g.$$is_boolean=!0;g.$$meta=e;c.defn(e,"$__id__",d=function(){return this.valueOf()?2:0},d.$$arity=0);c.alias(e,"object_id","__id__");c.defn(e,"$!",b=function(){return 1!=this},b.$$arity=0);c.defn(e,"$&",m=function(a){return 1==this?!1!==a&&a!==r:!1},m.$$arity=1);c.defn(e,"$|",w=function(a){return 1==
this?!0:!1!==a&&a!==r},w.$$arity=1);c.defn(e,"$^",t=function(a){return 1==this?!1===a||a===r:!1!==a&&a!==r},t.$$arity=1);c.defn(e,"$==",k=function(a){return 1==this===a.valueOf()},k.$$arity=1);c.alias(e,"equal?","==");c.alias(e,"eql?","==");c.defn(e,"$singleton_class",l=function(){return h.get("Boolean")},l.$$arity=0);c.defn(e,"$to_s",M=function(){return 1==this?"true":"false"},M.$$arity=0);c.defn(e,"$dup",x=function(){return this.$raise(h.get("TypeError"),"can't dup "+this.$class())},x.$$arity=0);
return(c.defn(e,"$clone",C=function(){return this.$raise(h.get("TypeError"),"can't clone "+this.$class())},C.$$arity=0),r)&&"clone"})(c.base,Boolean);c.cdecl(c,"TrueClass",c.get("Boolean"));c.cdecl(c,"FalseClass",c.get("Boolean"));c.cdecl(c,"TRUE",!0);return c.cdecl(c,"FALSE",!1)},Opal.modules["corelib/comparable"]=function(c){function r(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function a(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}var f=c.nil,p=c.module;
c.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(n){n=p(n,"Comparable");var e=n.$$scope,g,h,d,b,m,w,t;c.defs(n,"$normalize",g=function(c){var b;return(b=e.get("Integer")["$==="](c))===f||null==b||b.$$is_boolean&&1!=b?(b=r(c,0))===f||null==b||b.$$is_boolean&&1!=b?(b=a(c,0))===f||null==b||b.$$is_boolean&&1!=b?0:-1:1:c},g.$$arity=1);c.defn(n,"$==",h=function(a){var b,d=f;try{return(b=this["$equal?"](a))===f||null==b||b.$$is_boolean&&1!=b?this["$<=>"]==c.Kernel["$<=>"]?
!1:this.$$comparable?(delete this.$$comparable,!1):(b=d=this["$<=>"](a))===f||null==b||b.$$is_boolean&&1!=b?!1:0==e.get("Comparable").$normalize(d):!0}catch(h){if(c.rescue(h,[e.get("StandardError")]))try{return!1}finally{c.pop_exception()}else throw h;}},h.$$arity=1);c.defn(n,"$>",d=function(a){var c,b=f;((c=b=this["$<=>"](a))===f||null==c||c.$$is_boolean&&1!=c)&&this.$raise(e.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<e.get("Comparable").$normalize(b)},
d.$$arity=1);c.defn(n,"$>=",b=function(a){var c,b=f;((c=b=this["$<=>"](a))===f||null==c||c.$$is_boolean&&1!=c)&&this.$raise(e.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<=e.get("Comparable").$normalize(b)},b.$$arity=1);c.defn(n,"$<",m=function(a){var c,b=f;((c=b=this["$<=>"](a))===f||null==c||c.$$is_boolean&&1!=c)&&this.$raise(e.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>e.get("Comparable").$normalize(b)},
m.$$arity=1);c.defn(n,"$<=",w=function(a){var c,b=f;((c=b=this["$<=>"](a))===f||null==c||c.$$is_boolean&&1!=c)&&this.$raise(e.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>=e.get("Comparable").$normalize(b)},w.$$arity=1);c.defn(n,"$between?",t=function(c,b){return a(this,c)||r(this,b)?!1:!0},t.$$arity=2)}(c.base)},Opal.modules["corelib/regexp"]=function(c){var r=c.nil,a=c.klass,f=c.gvars;c.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $call $=~ $attr_reader $=== $inspect $to_a".split(" "));
(function(c,$super){function e(){}e=a(c,$super,"RegexpError",e);return r})(c.base,c.get("StandardError"));(function(p,$super){function e(){}var g=e=a(p,$super,"Regexp",e),h=g.$$proto,d=g.$$scope,b,m,w,t,k,l,M,x,C,E;c.cdecl(d,"IGNORECASE",1);c.cdecl(d,"MULTILINE",4);h.$$is_regexp=!0;(function(a){var b=a.$$scope,d,e,h,g,l;c.defn(a,"$allocate",d=function(){var a,b=d.$$p,e=r,f=e=r;d.$$p=null;e=[];for(f=0;f<arguments.length;f++)e[f]=arguments[f];e=(a=c.find_super_dispatcher(this,"allocate",d,!1),a.$$p=
b,a).apply(this,e);e.uninitialized=!0;return e},d.$$arity=0);c.defn(a,"$escape",e=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},e.$$arity=1);c.defn(a,"$last_match",h=function(a){var c;null==f["~"]&&(f["~"]=r);null==a&&(a=r);return(c=a["$nil?"]())===r||null==c||c.$$is_boolean&&1!=c?f["~"]["$[]"](a):f["~"]},h.$$arity=-1);c.alias(a,"quote","escape");c.defn(a,"$union",g=function(a){var c,d=
arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];var f,h;if(0==c.length)return/(?!)/;d=c[0].$$is_array;1<c.length&&d&&this.$raise(b.get("TypeError"),"no implicit conversion of Array into String");d&&(c=c[0]);f=void 0;for(var d=[],g=0;g<c.length;g++)e=c[g],e.$$is_string?d.push(this.$escape(e)):e.$$is_regexp?(h=e.$options(),void 0!=f&&f!=h&&this.$raise(b.get("TypeError"),"All expressions must use the same options"),f=h,d.push("("+e.source+")")):d.push(this.$escape(e.$to_str()));
return this.$new(d.$join("|"),f)},g.$$arity=-1);return(c.defn(a,"$new",l=function(a,c){if(a.$$is_regexp)return new RegExp(a);a=b.get("Opal")["$coerce_to!"](a,b.get("String"),"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(b.get("RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===c||c["$!"]())return new RegExp(a);if(c.$$is_number){var d="";b.get("IGNORECASE")&c&&(d+="i");b.get("MULTILINE")&c&&(d+="m");c=d}else c="i";return new RegExp(a,c)},l.$$arity=-2),
r)&&"new"})(c.get_singleton_class(g));c.defn(g,"$==",b=function(a){return a.constructor==RegExp&&this.toString()===a.toString()},b.$$arity=1);c.defn(g,"$===",m=function(a){return this.$match(d.get("Opal")["$coerce_to?"](a,d.get("String"),"to_str"))!==r},m.$$arity=1);c.defn(g,"$=~",w=function(a){var c;null==f["~"]&&(f["~"]=r);return c=this.$match(a),!1!==c&&c!==r&&null!=c?f["~"].$begin(0):c},w.$$arity=1);c.alias(g,"eql?","==");c.defn(g,"$inspect",t=function(){return this.toString()},t.$$arity=0);c.defn(g,
"$match",k=function(a,c){var b=k.$$p||r;null==f["~"]&&(f["~"]=r);k.$$p=null;this.uninitialized&&this.$raise(d.get("TypeError"),"uninitialized Regexp");c=void 0===c?0:d.get("Opal").$coerce_to(c,d.get("Integer"),"to_int");if(a===r)return f["~"]=r;a=d.get("Opal").$coerce_to(a,d.get("String"),"to_str");if(0>c&&(c+=a.length,0>c))return f["~"]=r;var e=this.source,h="g";this.multiline&&(e=e.replace(".","[\\s\\S]"),h+="m");for(h=new RegExp(e,h+(this.ignoreCase?"i":""));;){e=h.exec(a);if(null===e)return f["~"]=
r;if(e.index>=c)return f["~"]=d.get("MatchData").$new(h,e),b===r?f["~"]:b.$call(f["~"]);h.lastIndex=e.index+1}},k.$$arity=-2);c.defn(g,"$~",l=function(){null==f._&&(f._=r);return this["$=~"](f._)},l.$$arity=0);c.defn(g,"$source",M=function(){return this.source},M.$$arity=0);c.defn(g,"$options",x=function(){this.uninitialized&&this.$raise(d.get("TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=d.get("MULTILINE"));this.ignoreCase&&(a|=d.get("IGNORECASE"));return a},x.$$arity=0);c.defn(g,
"$casefold?",C=function(){return this.ignoreCase},C.$$arity=0);c.alias(g,"to_s","source");return(c.defs(g,"$_load",E=function(a){return this.$new.apply(this,c.to_a(a))},E.$$arity=1),r)&&"_load"})(c.base,RegExp);return function(p,$super){function e(){}var g=e=a(p,$super,"MatchData",e),h=g.$$scope,d,b,m,w,t,k,l,M,x,C,E,D;g.$$proto.matches=r;g.$attr_reader("post_match","pre_match","regexp","string");c.defn(g,"$initialize",d=function(a,c){f["~"]=this;this.regexp=a;this.begin=c.index;this.string=c.input;
this.pre_match=c.input.slice(0,c.index);this.post_match=c.input.slice(c.index+c[0].length);this.matches=[];for(var b=0,d=c.length;b<d;b++){var e=c[b];null==e?this.matches.push(r):this.matches.push(e)}},d.$$arity=2);c.defn(g,"$[]",b=function(a){var b,d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];return(b=this.matches)["$[]"].apply(b,c.to_a(d))},b.$$arity=-1);c.defn(g,"$offset",m=function(a){0!==a&&this.$raise(h.get("ArgumentError"),"MatchData#offset only supports 0th element");
return[this.begin,this.begin+this.matches[a].length]},m.$$arity=1);c.defn(g,"$==",w=function(a){var c,b,d,e;return(c=h.get("MatchData")["$==="](a))===r||null==c||c.$$is_boolean&&1!=c?!1:(c=(b=(d=(e=this.string==a.string,!1!==e&&e!==r&&null!=e?this.regexp.toString()==a.regexp.toString():e),!1!==d&&d!==r&&null!=d?this.pre_match==a.pre_match:d),!1!==b&&b!==r&&null!=b?this.post_match==a.post_match:b),!1!==c&&c!==r&&null!=c?this.begin==a.begin:c)},w.$$arity=1);c.alias(g,"eql?","==");c.defn(g,"$begin",
t=function(a){0!==a&&this.$raise(h.get("ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},t.$$arity=1);c.defn(g,"$end",k=function(a){0!==a&&this.$raise(h.get("ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length},k.$$arity=1);c.defn(g,"$captures",l=function(){return this.matches.slice(1)},l.$$arity=0);c.defn(g,"$inspect",M=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),c=1,b=this.matches.length;c<b;c++)a+=
" "+c+":"+this.matches[c].$inspect();return a+">"},M.$$arity=0);c.defn(g,"$length",x=function(){return this.matches.length},x.$$arity=0);c.alias(g,"size","length");c.defn(g,"$to_a",C=function(){return this.matches},C.$$arity=0);c.defn(g,"$to_s",E=function(){return this.matches[0]},E.$$arity=0);return(c.defn(g,"$values_at",D=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];for(var e,d=[],b=0;b<c.length;b++){c[b].$$is_range&&(e=c[b].$to_a(),e.unshift(b,
1),Array.prototype.splice.apply(c,e));e=h.get("Opal")["$coerce_to!"](c[b],h.get("Integer"),"to_int");if(0>e&&(e+=this.matches.length,0>e)){d.push(r);continue}d.push(this.matches[e])}return d},D.$$arity=-1),r)&&"values_at"}(c.base,null)},Opal.modules["corelib/string"]=function(c){function r(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function a(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var f=c.top,p=c.nil,n=c.klass,e=c.gvars;c.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $captures $proc $shift $__send__ $succ $escape".split(" "));
f.$require("corelib/comparable");f.$require("corelib/regexp");(function(f,$super){function d(){}function b(a){function c(a){var b="",d,e=a.length,f,u;for(d=0;d<e;d++)if(f=a.charAt(d),"-"===f&&0<d&&d<e-1&&!u){u=a.charCodeAt(d-1);f=a.charCodeAt(d+1);u>f&&m.$raise(t.get("ArgumentError"),'invalid range "'+u+"-"+f+'" in string transliteration');for(u+=1;u<f+1;u++)b+=String.fromCharCode(u);u=!0;d++}else u="\\"===f,b+=f;return b}function b(a,c){if(0===a.length)return c;var d="",e,f=a.length,u;for(e=0;e<
f;e++)u=a.charAt(e),-1!==c.indexOf(u)&&(d+=u);return d}var d,e,f,u,g="",l="";d=0;for(e=a.length;d<e;d++)f=t.get("Opal").$coerce_to(a[d],t.get("String"),"to_str"),u="^"===f.charAt(0)&&1<f.length,f=c(u?f.slice(1):f),u?l=b(l,f):g=b(g,f);if(0<g.length&&0<l.length){f="";d=0;for(e=g.length;d<e;d++)a=g.charAt(d),-1===l.indexOf(a)&&(f+=a);g=f;l=""}return 0<g.length?"["+t.get("Regexp").$escape(g)+"]":0<l.length?"[^"+t.get("Regexp").$escape(l)+"]":null}var m=d=n(f,$super,"String",d),w=m.$$proto,t=m.$$scope,
k,l,M,x,C,E,D,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q,Z,R,ba,ga,ia,ma,la,na,fa,T,ja,L,O,ka,J,pa,ra,ua,ta,ha,za,va,ya,wa,P,u,da,qa,sa,Ca,Da,Ea,Aa,aa,xa,V,X,H,W,Ba,Fa,oa;w.length=p;m.$include(t.get("Comparable"));w.$$is_string=!0;c.defn(m,"$__id__",k=function(){return this.toString()},k.$$arity=0);c.alias(m,"object_id","__id__");c.defs(m,"$try_convert",l=function(a){return t.get("Opal")["$coerce_to?"](a,t.get("String"),"to_str")},l.$$arity=1);c.defs(m,"$new",M=function(a){null==a&&(a="");a=t.get("Opal").$coerce_to(a,
t.get("String"),"to_str");return new String(a)},M.$$arity=-1);c.defn(m,"$initialize",x=function(a){return void 0===a?this:this.$raise(t.get("NotImplementedError"),"Mutable strings are not supported in Opal.")},x.$$arity=-1);c.defn(m,"$%",C=function(a){var b;return(b=t.get("Array")["$==="](a))===p||null==b||b.$$is_boolean&&1!=b?this.$format(this,a):(b=this).$format.apply(b,[this].concat(c.to_a(a)))},C.$$arity=1);c.defn(m,"$*",E=function(a){a=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int");0>
a&&this.$raise(t.get("ArgumentError"),"negative argument");if(0===a)return"";var c="",b=this.toString();for(268435456<=b.length*a&&this.$raise(t.get("RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(c+=b);a>>>=1;if(0===a)break;b+=b}return c},E.$$arity=1);c.defn(m,"$+",D=function(a){a=t.get("Opal").$coerce_to(a,t.get("String"),"to_str");return this+a.$to_s()},D.$$arity=1);c.defn(m,"$<=>",y=function(a){var c;if((c=a["$respond_to?"]("to_str"))===p||null==c||c.$$is_boolean&&
1!=c)return a=a["$<=>"](this),a===p?p:0<a?-1:0>a?1:0;a=a.$to_str().$to_s();return this>a?1:this<a?-1:0},y.$$arity=1);c.defn(m,"$==",v=function(a){return a.$$is_string?this.toString()===a.toString():t.get("Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},v.$$arity=1);c.alias(m,"eql?","==");c.alias(m,"===","==");c.defn(m,"$=~",N=function(a){a.$$is_string&&this.$raise(t.get("TypeError"),"type mismatch: String given");return a["$=~"](this)},N.$$arity=1);c.defn(m,"$[]",F=function(a,c){var b=this.length,
d;if(a.$$is_range){d=a.exclude;c=t.get("Opal").$coerce_to(a.end,t.get("Integer"),"to_int");a=t.get("Opal").$coerce_to(a.begin,t.get("Integer"),"to_int");if(Math.abs(a)>b)return p;0>a&&(a+=b);0>c&&(c+=b);d||(c+=1);c-=a;0>c&&(c=0);return this.substr(a,c)}if(a.$$is_string)return null!=c&&this.$raise(t.get("TypeError")),-1!==this.indexOf(a)?a:p;if(a.$$is_regexp){b=this.match(a);if(null===b)return e["~"]=p;e["~"]=t.get("MatchData").$new(a,b);if(null==c)return b[0];c=t.get("Opal").$coerce_to(c,t.get("Integer"),
"to_int");return 0>c&&-c<b.length?b[c+b.length]:0<=c&&c<b.length?b[c]:p}a=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int");0>a&&(a+=b);if(null==c)return a>=b||0>a?p:this.substr(a,1);c=t.get("Opal").$coerce_to(c,t.get("Integer"),"to_int");return 0>c||a>b||0>a?p:this.substr(a,c)},F.$$arity=-2);c.alias(m,"byteslice","[]");c.defn(m,"$capitalize",I=function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()},I.$$arity=0);c.defn(m,"$casecmp",G=function(a){var c=this;a=t.get("Opal").$coerce_to(a,
t.get("String"),"to_str").$to_s();var b=/^[\x00-\x7F]*$/;b.test(c)&&b.test(a)&&(c=c.toLowerCase(),a=a.toLowerCase());return c["$<=>"](a)},G.$$arity=1);c.defn(m,"$center",K=function(c,b){var d;null==b&&(b=" ");c=t.get("Opal").$coerce_to(c,t.get("Integer"),"to_int");b=t.get("Opal").$coerce_to(b,t.get("String"),"to_str").$to_s();(d=b["$empty?"]())===p||null==d||d.$$is_boolean&&1!=d||this.$raise(t.get("ArgumentError"),"zero width padding");if((d=c<=this.length)!==p&&null!=d&&(!d.$$is_boolean||1==d))return this;
d=this.$ljust(r(a(c,this.length),2).$ceil(),b);return this.$rjust(r(a(c,this.length),2).$floor(),b)+d.slice(this.length)},K.$$arity=-2);c.defn(m,"$chars",z=function(){var a,c=z.$$p||p;z.$$p=null;return!1===c||c===p||null==c?this.$each_char().$to_a():(a=this.$each_char,a.$$p=c.$to_proc(),a).call(this)},z.$$arity=0);c.defn(m,"$chomp",q=function(a){var c;null==e["/"]&&(e["/"]=p);null==a&&(a=e["/"]);if((c=a===p||0===this.length)!==p&&null!=c&&(!c.$$is_boolean||1==c))return this;a=t.get("Opal")["$coerce_to!"](a,
t.get("String"),"to_str").$to_s();return"\n"===a?this.replace(/\r?\n?$/,""):""===a?this.replace(/(\r?\n)+$/,""):this.length>a.length&&this.substr(this.length-a.length,a.length)===a?this.substr(0,this.length-a.length):this},q.$$arity=-1);c.defn(m,"$chop",A=function(){var a=this.length;return 1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1)},A.$$arity=0);c.defn(m,"$chr",U=function(){return this.charAt(0)},U.$$arity=0);c.defn(m,"$clone",S=function(){var a=
p,a=this.slice();a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},S.$$arity=0);c.defn(m,"$dup",Y=function(){var a=p,a=this.slice();a.$initialize_dup(this);return a},Y.$$arity=0);c.defn(m,"$count",ea=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];0===c.length&&this.$raise(t.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");d=b(c);return null===d?0:this.length-this.replace(new RegExp(d,"g"),"").length},
ea.$$arity=-1);c.defn(m,"$delete",ca=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];0===c.length&&this.$raise(t.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");d=b(c);return null===d?this:this.replace(new RegExp(d,"g"),"")},ca.$$arity=-1);c.defn(m,"$downcase",B=function(){return this.toLowerCase()},B.$$arity=0);c.defn(m,"$each_char",Q=function(){var a,b,d=Q.$$p||p;Q.$$p=null;if(d===p)return(a=this.$enum_for,a.$$p=
(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),a).call(this,"each_char");a=0;for(var e=this.length;a<e;a++)c.yield1(d,this.charAt(a));return this},Q.$$arity=0);c.defn(m,"$each_line",Z=function(a){var b=Z.$$p||p;null==e["/"]&&(e["/"]=p);null==a&&(a=e["/"]);Z.$$p=null;if(b===p)return this.$enum_for("each_line",a);if(a===p)return c.yield1(b,this),this;a=t.get("Opal").$coerce_to(a,t.get("String"),"to_str");var d,f,u,g;if(0===a.length){a=this.split(/(\n{2,})/);d=0;for(f=a.length;d<
f;d+=2)(a[d]||a[d+1])&&c.yield1(b,(a[d]||"")+(a[d+1]||""));return this}d=this.$chomp(a);f=this.length!=d.length;g=d.split(a);d=0;for(u=g.length;d<u;d++)d<u-1||f?c.yield1(b,g[d]+a):c.yield1(b,g[d]);return this},Z.$$arity=-1);c.defn(m,"$empty?",R=function(){return 0===this.length},R.$$arity=0);c.defn(m,"$end_with?",ba=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];b=0;for(d=c.length;b<d;b++){var e=t.get("Opal").$coerce_to(c[b],t.get("String"),
"to_str").$to_s();if(this.length>=e.length&&this.substr(this.length-e.length,e.length)==e)return!0}return!1},ba.$$arity=-1);c.alias(m,"eql?","==");c.alias(m,"equal?","===");c.defn(m,"$gsub",ga=function(a,c){var b=this,d=ga.$$p||p;ga.$$p=null;if(void 0===c&&d===p)return b.$enum_for("gsub",a);var f="",u=p,g=0,l,k;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=t.get("Opal").$coerce_to(a,t.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;;){l=
a.exec(b);if(null===l){e["~"]=p;f+=b.slice(g);break}u=t.get("MatchData").$new(a,l);void 0===c?k=d(l[0]):c.$$is_hash?k=c["$[]"](l[0]).$to_s():(c.$$is_string||(c=t.get("Opal").$coerce_to(c,t.get("String"),"to_str")),k=c.replace(/([\\]+)([0-9+&`'])/g,function(a,c,d){if(0===c.length%2)return a;switch(d){case "+":for(a=l.length-1;0<a;a--)if(void 0!==l[a])return c.slice(1)+l[a];return"";case "&":return c.slice(1)+l[0];case "`":return c.slice(1)+b.slice(0,l.index);case "'":return c.slice(1)+b.slice(l.index+
l[0].length);default:return c.slice(1)+(l[d]||"")}}).replace(/\\\\/g,"\\"));a.lastIndex===l.index?(f+=k+b.slice(g,l.index+1),a.lastIndex+=1):f+=b.slice(g,l.index)+k;g=a.lastIndex}e["~"]=u;return f},ga.$$arity=-2);c.defn(m,"$hash",ia=function(){return this.toString()},ia.$$arity=0);c.defn(m,"$hex",ma=function(){return this.$to_i(16)},ma.$$arity=0);c.defn(m,"$include?",la=function(a){a.$$is_string||(a=t.get("Opal").$coerce_to(a,t.get("String"),"to_str"));return-1!==this.indexOf(a)},la.$$arity=1);c.defn(m,
"$index",na=function(a,c){var b,d;if(void 0===c)c=0;else if(c=t.get("Opal").$coerce_to(c,t.get("Integer"),"to_int"),0>c&&(c+=this.length,0>c))return p;if(a.$$is_regexp)for(d=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){b=d.exec(this);if(null===b){e["~"]=p;b=-1;break}if(b.index>=c){e["~"]=t.get("MatchData").$new(d,b);b=b.index;break}d.lastIndex=b.index+1}else a=t.get("Opal").$coerce_to(a,t.get("String"),"to_str"),b=0===a.length&&c>this.length?-1:this.indexOf(a,c);return-1===b?p:b},na.$$arity=
-2);c.defn(m,"$inspect",fa=function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\x7f-\x9f\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(c){return a[c]||"\\u"+("0000"+c.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},fa.$$arity=0);c.defn(m,"$intern",T=function(){return this},T.$$arity=
0);c.defn(m,"$lines",ja=function(a){var c,b=ja.$$p||p,d=p;null==e["/"]&&(e["/"]=p);null==a&&(a=e["/"]);ja.$$p=null;d=(c=this.$each_line,c.$$p=b.$to_proc(),c).call(this,a);return!1!==b&&b!==p&&null!=b?this:d.$to_a()},ja.$$arity=-1);c.defn(m,"$length",L=function(){return this.length},L.$$arity=0);c.defn(m,"$ljust",O=function(a,c){var b;null==c&&(c=" ");a=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int");c=t.get("Opal").$coerce_to(c,t.get("String"),"to_str").$to_s();(b=c["$empty?"]())===p||null==
b||b.$$is_boolean&&1!=b||this.$raise(t.get("ArgumentError"),"zero width padding");if((b=a<=this.length)!==p&&null!=b&&(!b.$$is_boolean||1==b))return this;b=-1;var d="";for(a-=this.length;++b<a;)d+=c;return this+d.slice(0,a)},O.$$arity=-2);c.defn(m,"$lstrip",ka=function(){return this.replace(/^\s*/,"")},ka.$$arity=0);c.defn(m,"$match",J=function(a,c){var b,d,e=J.$$p||p;J.$$p=null;(b=!1!==(d=t.get("String")["$==="](a))&&d!==p&&null!=d?d:a["$respond_to?"]("to_str"))===p||null==b||b.$$is_boolean&&1!=
b||(a=t.get("Regexp").$new(a.$to_str()));((b=t.get("Regexp")["$==="](a))===p||null==b||b.$$is_boolean&&1!=b)&&this.$raise(t.get("TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return(b=(d=a).$match,b.$$p=e.$to_proc(),b).call(d,this,c)},J.$$arity=-2);c.defn(m,"$next",pa=function(){var a=this.length;if(0===a)return"";for(var c=this,b=this.search(/[a-zA-Z0-9]/),d=!1,e;a--;){e=this.charCodeAt(a);if(48<=e&&57>=e||65<=e&&90>=e||97<=e&&122>=e)switch(e){case 57:d=!0;e=48;break;case 90:d=
!0;e=65;break;case 122:d=!0;e=97;break;default:d=!1,e+=1}else-1===b?255===e?(d=!0,e=0):(d=!1,e+=1):d=!0;c=c.slice(0,a)+String.fromCharCode(e)+c.slice(a+1);if(d&&(0===a||a===b)){switch(e){case 65:break;case 97:break;default:e+=1}c=0===a?String.fromCharCode(e)+c:c.slice(0,a)+String.fromCharCode(e)+c.slice(a);d=!1}if(!d)break}return c},pa.$$arity=0);c.defn(m,"$oct",ra=function(){var a;a=this;var c=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,b,d,e){switch(e.charAt(0)){case "+":case "-":return a;
case "0":if("x"===e.charAt(1)&&"0x"===d)return a}switch(d){case "0b":c=2;break;case "0":case "0o":c=8;break;case "0d":c=10;break;case "0x":c=16}return b+e});a=parseInt(a.replace(/_(?!_)/g,""),c);return isNaN(a)?0:a},ra.$$arity=0);c.defn(m,"$ord",ua=function(){return this.charCodeAt(0)},ua.$$arity=0);c.defn(m,"$partition",ta=function(a){var c;a.$$is_regexp?(c=a.exec(this),null===c?c=-1:(t.get("MatchData").$new(a,c),a=c[0],c=c.index)):(a=t.get("Opal").$coerce_to(a,t.get("String"),"to_str"),c=this.indexOf(a));
return-1===c?[this,"",""]:[this.slice(0,c),this.slice(c,c+a.length),this.slice(c+a.length)]},ta.$$arity=1);c.defn(m,"$reverse",ha=function(){return this.split("").reverse().join("")},ha.$$arity=0);c.defn(m,"$rindex",za=function(a,c){var b,d,f;if(void 0===c)c=this.length;else if(c=t.get("Opal").$coerce_to(c,t.get("Integer"),"to_int"),0>c&&(c+=this.length,0>c))return p;if(a.$$is_regexp){b=null;for(d=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){f=d.exec(this);if(null===f||f.index>c)break;b=f;d.lastIndex=
b.index+1}null===b?(e["~"]=p,b=-1):(t.get("MatchData").$new(d,b),b=b.index)}else a=t.get("Opal").$coerce_to(a,t.get("String"),"to_str"),b=this.lastIndexOf(a,c);return-1===b?p:b},za.$$arity=-2);c.defn(m,"$rjust",va=function(a,c){var b;null==c&&(c=" ");a=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int");c=t.get("Opal").$coerce_to(c,t.get("String"),"to_str").$to_s();(b=c["$empty?"]())===p||null==b||b.$$is_boolean&&1!=b||this.$raise(t.get("ArgumentError"),"zero width padding");if((b=a<=this.length)!==
p&&null!=b&&(!b.$$is_boolean||1==b))return this;b=Math.floor(a-this.length);var d=Array(Math.floor(b/c.length)+1).join(c);return d+c.slice(0,b-d.length)+this},va.$$arity=-2);c.defn(m,"$rpartition",ya=function(a){var c,b,d;if(a.$$is_regexp){c=null;for(b=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){d=b.exec(this);if(null===d)break;c=d;b.lastIndex=c.index+1}null===c?c=-1:(t.get("MatchData").$new(b,c),a=c[0],c=c.index)}else a=t.get("Opal").$coerce_to(a,t.get("String"),"to_str"),c=this.lastIndexOf(a);
return-1===c?["","",this]:[this.slice(0,c),this.slice(c,c+a.length),this.slice(c+a.length)]},ya.$$arity=1);c.defn(m,"$rstrip",wa=function(){return this.replace(/[\s\u0000]*$/,"")},wa.$$arity=0);c.defn(m,"$scan",P=function(a){var c=P.$$p||p;P.$$p=null;var b=[],d=p,f;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=t.get("Opal").$coerce_to(a,t.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(f=a.exec(this));)d=t.get("MatchData").$new(a,
f),c===p?1==f.length?b.push(f[0]):b.push(d.$captures()):1==f.length?c(f[0]):c.call(this,d.$captures()),a.lastIndex===f.index&&(a.lastIndex+=1);e["~"]=d;return c!==p?this:b},P.$$arity=1);c.alias(m,"size","length");c.alias(m,"slice","[]");c.defn(m,"$split",u=function(a,c){var b;null==e[";"]&&(e[";"]=p);if(0===this.length)return[];if(void 0===c)c=0;else if(c=t.get("Opal")["$coerce_to!"](c,t.get("Integer"),"to_int"),1===c)return[this];if(void 0===a||a===p)a=!1!==(b=e[";"])&&b!==p&&null!=b?b:" ";b=[];
var d=this.toString(),f=0,u,g;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=t.get("Opal").$coerce_to(a,t.get("String"),"to_str").$to_s()," "===a?(a=/\s+/gm,d=d.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));b=d.split(a);if(1===b.length&&b[0]===d)return b;for(;-1!==(g=b.indexOf(void 0));)b.splice(g,1);if(0===c){for(;""===b[b.length-1];)--b.length;return b}u=a.exec(d);if(0>c){if(null!==u&&""===u[0]&&-1===a.source.indexOf("(?="))for(g=0;g<u.length;g++)b.push("");
return b}if(null!==u&&""===u[0])return b.splice(c-1,b.length-1,b.slice(c-1).join("")),b;if(c>=b.length)return b;for(g=0;null!==u;){g++;f=a.lastIndex;if(g+1===c)break;u=a.exec(d)}b.splice(c-1,b.length-1,d.slice(f));return b},u.$$arity=-1);c.defn(m,"$squeeze",da=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];if(0===c.length)return this.replace(/(.)\1+/g,"$1");d=b(c);return null===d?this:this.replace(new RegExp("("+d+")\\1+","g"),"$1")},da.$$arity=
-1);c.defn(m,"$start_with?",qa=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];b=0;for(d=c.length;b<d;b++){var e=t.get("Opal").$coerce_to(c[b],t.get("String"),"to_str").$to_s();if(0===this.indexOf(e))return!0}return!1},qa.$$arity=-1);c.defn(m,"$strip",sa=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},sa.$$arity=0);c.defn(m,"$sub",Ca=function(a,c){var b=this,d=Ca.$$p||p;Ca.$$p=null;a.$$is_regexp||(a=t.get("Opal").$coerce_to(a,
t.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var f=a.exec(b);if(null===f)return e["~"]=p,b.toString();t.get("MatchData").$new(a,f);if(void 0===c)return d===p&&b.$raise(t.get("ArgumentError"),"wrong number of arguments (1 for 2)"),b.slice(0,f.index)+d(f[0])+b.slice(f.index+f[0].length);if(c.$$is_hash)return b.slice(0,f.index)+c["$[]"](f[0]).$to_s()+b.slice(f.index+f[0].length);c=t.get("Opal").$coerce_to(c,t.get("String"),"to_str");c=c.replace(/([\\]+)([0-9+&`'])/g,
function(a,c,d){if(0===c.length%2)return a;switch(d){case "+":for(a=f.length-1;0<a;a--)if(void 0!==f[a])return c.slice(1)+f[a];return"";case "&":return c.slice(1)+f[0];case "`":return c.slice(1)+b.slice(0,f.index);case "'":return c.slice(1)+b.slice(f.index+f[0].length);default:return c.slice(1)+(f[d]||"")}}).replace(/\\\\/g,"\\");return b.slice(0,f.index)+c+b.slice(f.index+f[0].length)},Ca.$$arity=-2);c.alias(m,"succ","next");c.defn(m,"$sum",Da=function(a){null==a&&(a=16);a=t.get("Opal").$coerce_to(a,
t.get("Integer"),"to_int");for(var c=0,b=this.length,d=0;d<b;d++)c+=this.charCodeAt(d);return 0>=a?c:c&Math.pow(2,a)-1},Da.$$arity=-1);c.defn(m,"$swapcase",Ea=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,c,b){return c?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)},Ea.$$arity=0);c.defn(m,"$to_f",Aa=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},Aa.$$arity=
0);c.defn(m,"$to_i",aa=function(a){null==a&&(a=10);var c=this.toLowerCase(),b=t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int");(1===b||0>b||36<b)&&this.$raise(t.get("ArgumentError"),"invalid radix "+b);if(/^\s*_/.test(c))return 0;c=c.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,c,d,e){switch(e.charAt(0)){case "+":case "-":return a;case "0":if("x"===e.charAt(1)&&"0x"===d&&(0===b||16===b))return a}switch(d){case "0b":if(0===b||2===b)return b=2,c+e;break;case "0":case "0o":if(0===b||8===b)return b=
8,c+e;break;case "0d":if(0===b||10===b)return b=10,c+e;break;case "0x":if(0===b||16===b)return b=16,c+e}return a});a=parseInt(c.replace(/_(?!_)/g,""),b);return isNaN(a)?0:a},aa.$$arity=-1);c.defn(m,"$to_proc",xa=function(){var a,b,d=p,d=this;return(a=this.$proc,a.$$p=(b=function(a){var e=b.$$s||this,f,u,g,l,k=p;f=b.$$p||p;b.$$p=null;k=arguments.length;u=k-0;0>u&&(u=0);u=Array(u);for(var P=0;P<k;P++)u[P-0]=arguments[P];(g=u["$empty?"]())===p||null==g||g.$$is_boolean&&1!=g||e.$raise(t.get("ArgumentError"),
"no receiver given");k=u.$shift();return(g=(l=k).$__send__,g.$$p=f.$to_proc(),g).apply(l,[d].concat(c.to_a(u)))},b.$$s=this,b.$$arity=-1,b),a).call(this)},xa.$$arity=0);c.defn(m,"$to_s",V=function(){return this.toString()},V.$$arity=0);c.alias(m,"to_str","to_s");c.alias(m,"to_sym","intern");c.defn(m,"$tr",X=function(a,c){a=t.get("Opal").$coerce_to(a,t.get("String"),"to_str").$to_s();c=t.get("Opal").$coerce_to(c,t.get("String"),"to_str").$to_s();if(0==a.length||a===c)return this;var b,d,e,f,u,g={};
u=a.split("");var l=u.length,k=c.split(""),P=k.length,L=!1,m=null;"^"===u[0]&&1<u.length&&(L=!0,u.shift(),m=k[P-1],--l);var H=[];e=null;d=!1;for(b=0;b<l;b++)if(f=u[b],null==e)e=f,H.push(f);else if("-"===f)"-"===e?(H.push("-"),H.push("-")):b==l-1?H.push("-"):d=!0;else if(d){e=e.charCodeAt(0);d=f.charCodeAt(0);e>d&&this.$raise(t.get("ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(d)+'" in string transliteration');for(e+=1;e<d;e++)H.push(String.fromCharCode(e));H.push(f);
e=d=null}else H.push(f);u=H;l=u.length;if(L)for(b=0;b<l;b++)g[u[b]]=!0;else{if(0<P){H=[];e=null;d=!1;for(b=0;b<P;b++)if(f=k[b],null==e)e=f,H.push(f);else if("-"===f)"-"===e?(H.push("-"),H.push("-")):b==P-1?H.push("-"):d=!0;else if(d){e=e.charCodeAt(0);d=f.charCodeAt(0);e>d&&this.$raise(t.get("ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(d)+'" in string transliteration');for(e+=1;e<d;e++)H.push(String.fromCharCode(e));H.push(f);e=d=null}else H.push(f);k=H;P=k.length}f=
l-P;if(0<f)for(P=0<P?k[P-1]:"",b=0;b<f;b++)k.push(P);for(b=0;b<l;b++)g[u[b]]=k[b]}l="";b=0;for(u=this.length;b<u;b++)f=this.charAt(b),k=g[f],l=L?l+(null==k?m:f):l+(null!=k?k:f);return l},X.$$arity=2);c.defn(m,"$tr_s",H=function(a,c){a=t.get("Opal").$coerce_to(a,t.get("String"),"to_str").$to_s();c=t.get("Opal").$coerce_to(c,t.get("String"),"to_str").$to_s();if(0==a.length)return this;var b,d,e,f,u,g={};u=a.split("");var l=u.length,k=c.split(""),P=k.length,L=!1,m=null;"^"===u[0]&&1<u.length&&(L=!0,
u.shift(),m=k[P-1],--l);var H=[];e=null;d=!1;for(b=0;b<l;b++)if(f=u[b],null==e)e=f,H.push(f);else if("-"===f)"-"===e?(H.push("-"),H.push("-")):b==l-1?H.push("-"):d=!0;else if(d){e=e.charCodeAt(0);d=f.charCodeAt(0);e>d&&this.$raise(t.get("ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(d)+'" in string transliteration');for(e+=1;e<d;e++)H.push(String.fromCharCode(e));H.push(f);e=d=null}else H.push(f);u=H;l=u.length;if(L)for(b=0;b<l;b++)g[u[b]]=!0;else{if(0<P){H=[];d=
!1;for(b=0;b<P;b++)if(f=k[b],null==e)e=f,H.push(f);else if("-"===f)b==P-1?H.push("-"):d=!0;else if(d){e=e.charCodeAt(0);d=f.charCodeAt(0);e>d&&this.$raise(t.get("ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(d)+'" in string transliteration');for(e+=1;e<d;e++)H.push(String.fromCharCode(e));H.push(f);e=d=null}else H.push(f);k=H;P=k.length}f=l-P;if(0<f)for(P=0<P?k[P-1]:"",b=0;b<f;b++)k.push(P);for(b=0;b<l;b++)g[u[b]]=k[b]}l="";k=null;b=0;for(u=this.length;b<u;b++)if(f=
this.charAt(b),P=g[f],L)null==P?null==k&&(l+=m,k=!0):(l+=f,k=null);else if(null!=P){if(null==k||k!==P)l+=P,k=P}else l+=f,k=null;return l},H.$$arity=2);c.defn(m,"$upcase",W=function(){return this.toUpperCase()},W.$$arity=0);c.defn(m,"$upto",Ba=function(a,c){var b=Ba.$$p||p;null==c&&(c=!1);Ba.$$p=null;if(b===p)return this.$enum_for("upto",a,c);a=t.get("Opal").$coerce_to(a,t.get("String"),"to_str");var d,e;d=this.toString();if(1===d.length&&1===a.length)for(d=d.charCodeAt(0),e=a.charCodeAt(0);d<=e&&
(!c||d!==e);)b(String.fromCharCode(d)),d+=1;else if(parseInt(d,10).toString()===d&&parseInt(a,10).toString()===a)for(d=parseInt(d,10),e=parseInt(a,10);d<=e&&(!c||d!==e);)b(d.toString()),d+=1;else for(;d.length<=a.length&&d<=a&&(!c||d!==a);)b(d),d=d.$succ();return this},Ba.$$arity=-2);c.defn(m,"$instance_variables",Fa=function(){return[]},Fa.$$arity=0);return(c.defs(m,"$_load",oa=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];return this.$new.apply(this,
c.to_a(b))},oa.$$arity=-1),p)&&"_load"})(c.base,String);return c.cdecl(c,"Symbol",c.get("String"))},Opal.modules["corelib/enumerable"]=function(c){function r(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function a(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var f=c.nil,p=c.module;c.add_stubs("$each $destructure $raise $new $yield $dup $enum_for $enumerator_size $flatten $map $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $to_enum $ceil $/ $size $=== $<< $[] $[]= $inspect $__send__ $<=> $first $reverse $sort $to_proc $compare $call $to_a $lambda $sort! $map! $zip".split(" "));
return function(n){n=p(n,"Enumerable");var e=n.$$scope,g,h,d,b,m,w,t,k,l,M,x,C,E,D,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q,Z,R,ba,ga,ia,ma,la,na,fa,T,ja;c.defn(n,"$all?",g=function(){try{var a,b,d,h=g.$$p||f;g.$$p=null;h!==f?(a=this.$each,a.$$p=(b=function(a){var b,d,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var g=0;g<e;g++)b[g-0]=arguments[g];if((d=c.yieldX(h,c.to_a(b)))===f||null==d||d.$$is_boolean&&1!=d)c.ret(!1);else return f},b.$$s=this,b.$$arity=-1,b),a).call(this):(a=this.$each,a.$$p=
(d=function(a){var b,d,h=arguments.length;b=h-0;0>b&&(b=0);b=Array(b);for(var g=0;g<h;g++)b[g-0]=arguments[g];if((d=e.get("Opal").$destructure(b))===f||null==d||d.$$is_boolean&&1!=d)c.ret(!1);else return f},d.$$s=this,d.$$arity=-1,d),a).call(this);return!0}catch(l){if(l===c.returner)return l.$v;throw l;}},g.$$arity=0);c.defn(n,"$any?",h=function(){try{var a,b,d,g=h.$$p||f;h.$$p=null;g!==f?(a=this.$each,a.$$p=(b=function(a){var b,d,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var h=0;h<e;h++)b[h-
0]=arguments[h];if((d=c.yieldX(g,c.to_a(b)))===f||null==d||d.$$is_boolean&&1!=d)return f;c.ret(!0)},b.$$s=this,b.$$arity=-1,b),a).call(this):(a=this.$each,a.$$p=(d=function(a){var b,d,h=arguments.length;b=h-0;0>b&&(b=0);b=Array(b);for(var g=0;g<h;g++)b[g-0]=arguments[g];if((d=e.get("Opal").$destructure(b))===f||null==d||d.$$is_boolean&&1!=d)return f;c.ret(!0)},d.$$s=this,d.$$arity=-1,d),a).call(this);return!1}catch(l){if(l===c.returner)return l.$v;throw l;}},h.$$arity=0);c.defn(n,"$chunk",d=function(a){var b,
h,g,l=d.$$p||f;d.$$p=null;!1!==l&&l!==f&&null!=l||e.get("Kernel").$raise(e.get("ArgumentError"),"no block given");return(b=(h=c.get("Enumerator")).$new,b.$$p=(g=function(b){function d(){0<P.length&&b.$yield(p,P)}var h=g.$$s||this,k,m,q;null==b&&(b=f);var t,p=f,P=[];t=void 0==a||a===f?l:(k=(m=e.get("Proc")).$new,k.$$p=(q=function(c){null==c&&(c=f);return l.$yield(c,a.$dup())},q.$$s=h,q.$$arity=1,q),k).call(m);h.$each.$$p=function(a){var b=c.yield1(t,a);b===f?(d(),P=[],p=f):(p===f||p===b?P.push(a):
(d(),P=[a]),p=b)};h.$each();d()},g.$$s=this,g.$$arity=1,g),b).call(h)},d.$$arity=-1);c.defn(n,"$collect",b=function(){var a,d,e=b.$$p||f;b.$$p=null;if(e===f)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),a).call(this,"collect");var h=[];this.$each.$$p=function(){var a=c.yieldX(e,arguments);h.push(a)};this.$each();return h},b.$$arity=0);c.defn(n,"$collect_concat",m=function(){var a,b,d,e=m.$$p||f;m.$$p=null;return e===f?(a=this.$enum_for,
a.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b),a).call(this,"collect_concat"):(a=this.$map,a.$$p=(d=function(a){null==a&&(a=f);return c.yield1(e,a)},d.$$s=this,d.$$arity=1,d),a).call(this).$flatten(1)},m.$$arity=0);c.defn(n,"$count",w=function(a){var b,d,h,g,l=w.$$p||f,k=f;w.$$p=null;k=0;(b=null!=a)===f||null==b||b.$$is_boolean&&1!=b?(b=l["$nil?"]())===f||null==b||b.$$is_boolean&&1!=b||(l=(b=this.$proc,b.$$p=(h=function(){return!0},h.$$s=this,h.$$arity=0,h),
b).call(this)):l=(b=this.$proc,b.$$p=(d=function(c){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];return e.get("Opal").$destructure(b)["$=="](a)},d.$$s=this,d.$$arity=-1,d),b).call(this);(b=this.$each,b.$$p=(g=function(a){var b,d,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var h=0;h<e;h++)b[h-0]=arguments[h];return(d=c.yieldX(l,b))===f||null==d||d.$$is_boolean&&1!=d?f:k++},g.$$s=this,g.$$arity=-1,g),b).call(this);return k},w.$$arity=-1);c.defn(n,
"$cycle",t=function(a){var b,d,h=t.$$p||f;null==a&&(a=f);t.$$p=null;if(h===f)return(b=this.$enum_for,b.$$p=(d=function(){var c=d.$$s||this,b;if(a["$=="](f))return(b=c["$respond_to?"]("size"))===f||null==b||b.$$is_boolean&&1!=b?f:e.get("Float").$$scope.get("INFINITY");a=e.get("Opal")["$coerce_to!"](a,e.get("Integer"),"to_int");if((b=r(a,0))===f||null==b||b.$$is_boolean&&1!=b)return 0;c=c.$enumerator_size();return"number"===typeof c&&"number"===typeof a?c*a:c["$*"](a)},d.$$s=this,d.$$arity=0,d),b).call(this,
"cycle",a);if((b=a["$nil?"]())===f||null==b||b.$$is_boolean&&1!=b)if(a=e.get("Opal")["$coerce_to!"](a,e.get("Integer"),"to_int"),(b=0>=a)!==f&&null!=b&&(!b.$$is_boolean||1==b))return f;var g=[],l;this.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);c.yield1(h,a);g.push(a)};this.$each();if(0===g.length)return f;if(a===f)for(;;)for(b=0,l=g.length;b<l;b++)c.yield1(h,g[b]);else for(;1<a;){b=0;for(l=g.length;b<l;b++)c.yield1(h,g[b]);a--}},t.$$arity=-1);c.defn(n,"$detect",k=function(a){try{var b,
d,h=k.$$p||f;k.$$p=null;if(h===f)return this.$enum_for("detect",a);(b=this.$each,b.$$p=(d=function(a){var b,d,g=f,g=arguments.length;b=g-0;0>b&&(b=0);b=Array(b);for(var l=0;l<g;l++)b[l-0]=arguments[l];g=e.get("Opal").$destructure(b);if((d=c.yield1(h,g))===f||null==d||d.$$is_boolean&&1!=d)return f;c.ret(g)},d.$$s=this,d.$$arity=-1,d),b).call(this);return void 0!==a?"function"===typeof a?a():a:f}catch(g){if(g===c.returner)return g.$v;throw g;}},k.$$arity=-1);c.defn(n,"$drop",l=function(a){var c;a=e.get("Opal").$coerce_to(a,
e.get("Integer"),"to_int");(c=0>a)===f||null==c||c.$$is_boolean&&1!=c||this.$raise(e.get("ArgumentError"),"attempt to drop negative size");var b=[],d=0;this.$each.$$p=function(){a<=d&&b.push(e.get("Opal").$destructure(arguments));d++};this.$each();return b},l.$$arity=1);c.defn(n,"$drop_while",M=function(){var a,b=M.$$p||f;M.$$p=null;if(b===f)return this.$enum_for("drop_while");var d=[],h=!0;this.$each.$$p=function(){var g=e.get("Opal").$destructure(arguments);if(h){if((a=c.yield1(b,g))===f||null==
a||a.$$is_boolean&&0==a)h=!1,d.push(g)}else d.push(g)};this.$each();return d},M.$$arity=0);c.defn(n,"$each_cons",x=function(b){var d,h,g=x.$$p||f;x.$$p=null;(d=1!=arguments.length)===f||null==d||d.$$is_boolean&&1!=d||this.$raise(e.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");b=e.get("Opal").$try_convert(b,e.get("Integer"),"to_int");(d=0>=b)===f||null==d||d.$$is_boolean&&1!=d||this.$raise(e.get("ArgumentError"),"invalid size");if(g===f)return(d=this.$enum_for,d.$$p=
(h=function(){var c,d,e=f,e=(h.$$s||this).$enumerator_size();return(c=e["$nil?"]())===f||null==c||c.$$is_boolean&&1!=c?(c=!1!==(d=e["$=="](0))&&d!==f&&null!=d?d:"number"===typeof e&&"number"===typeof b?e<b:e["$<"](b))===f||null==c||c.$$is_boolean&&1!=c?a("number"===typeof e&&"number"===typeof b?e-b:e["$-"](b),1):0:f},h.$$s=this,h.$$arity=0,h),d).call(this,"each_cons",b);var l=[];this.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);l.push(a);l.length>b&&l.shift();l.length==b&&c.yield1(g,
l.slice(0,b))};this.$each();return f},x.$$arity=1);c.defn(n,"$each_entry",C=function(a){var b,d,h,g=C.$$p||f,l=arguments.length;h=l-0;0>h&&(h=0);h=Array(h);for(var k=0;k<l;k++)h[k-0]=arguments[k];C.$$p=null;if(g===f)return(b=this.$to_enum,b.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),b).apply(this,["each_entry"].concat(c.to_a(h)));this.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);c.yield1(g,a)};this.$each.apply(this,h);return this},C.$$arity=
-1);c.defn(n,"$each_slice",E=function(a){var b,d,h=E.$$p||f;E.$$p=null;a=e.get("Opal").$coerce_to(a,e.get("Integer"),"to_int");(b=0>=a)===f||null==b||b.$$is_boolean&&1!=b||this.$raise(e.get("ArgumentError"),"invalid slice size");if(h===f)return(b=this.$enum_for,b.$$p=(d=function(){var c=d.$$s||this,b;if((b=c["$respond_to?"]("size"))===f||null==b||b.$$is_boolean&&1!=b)return f;c=c.$size();return("number"===typeof c&&"number"===typeof a?c/a:c["$/"](a)).$ceil()},d.$$s=this,d.$$arity=0,d),b).call(this,
"each_slice",a);var g=[];this.$each.$$p=function(){var b=e.get("Opal").$destructure(arguments);g.push(b);g.length===a&&(c.yield1(h,g),g=[])};this.$each();0<g.length&&c.yield1(h,g);return f},E.$$arity=1);c.defn(n,"$each_with_index",D=function(a){var b,d,h,g=D.$$p||f,l=arguments.length;h=l-0;0>h&&(h=0);h=Array(h);for(var k=0;k<l;k++)h[k-0]=arguments[k];D.$$p=null;if(g===f)return(b=this.$enum_for,b.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),b).apply(this,["each_with_index"].concat(c.to_a(h)));
var m=0;this.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);g(a,m);m++};this.$each.apply(this,h);return this},D.$$arity=-1);c.defn(n,"$each_with_object",y=function(a){var c,b,d=y.$$p||f;y.$$p=null;if(d===f)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b),c).call(this,"each_with_object",a);this.$each.$$p=function(){var c=e.get("Opal").$destructure(arguments);d(c,a)};this.$each();return a},y.$$arity=1);c.defn(n,"$entries",
v=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];var f=[];this.$each.$$p=function(){f.push(e.get("Opal").$destructure(arguments))};this.$each.apply(this,c);return f},v.$$arity=-1);c.alias(n,"find","detect");c.defn(n,"$find_all",N=function(){var a,b,d=N.$$p||f;N.$$p=null;if(d===f)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b),a).call(this,"find_all");var h=[];this.$each.$$p=function(){var b=
e.get("Opal").$destructure(arguments);(a=c.yield1(d,b))===f||null==a||a.$$is_boolean&&1!=a||h.push(b)};this.$each();return h},N.$$arity=0);c.defn(n,"$find_index",F=function(a){try{var b,d,h,g=F.$$p||f,l=f;F.$$p=null;if((b=void 0===a&&g===f)!==f&&null!=b&&(!b.$$is_boolean||1==b))return this.$enum_for("find_index");l=0;(b=null!=a)===f||null==b||b.$$is_boolean&&1!=b?(b=this.$each,b.$$p=(h=function(a){var b,d,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var h=0;h<e;h++)b[h-0]=arguments[h];(d=c.yieldX(g,
c.to_a(b)))===f||null==d||d.$$is_boolean&&1!=d||c.ret(l);return l+=1},h.$$s=this,h.$$arity=-1,h),b).call(this):(b=this.$each,b.$$p=(d=function(b){var d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var h=0;h<f;h++)d[h-0]=arguments[h];e.get("Opal").$destructure(d)["$=="](a)&&c.ret(l);return l+=1},d.$$s=this,d.$$arity=-1,d),b).call(this);return f}catch(k){if(k===c.returner)return k.$v;throw k;}},F.$$arity=-1);c.defn(n,"$first",I=function(a){try{var b,d,h,g=f,l=f;if((b=void 0===a)===f||null==b||
b.$$is_boolean&&1!=b){g=[];a=e.get("Opal").$coerce_to(a,e.get("Integer"),"to_int");(b=0>a)===f||null==b||b.$$is_boolean&&1!=b||this.$raise(e.get("ArgumentError"),"attempt to take negative size");if((b=0==a)!==f&&null!=b&&(!b.$$is_boolean||1==b))return[];l=0;(b=this.$each,b.$$p=(h=function(b){var d,h,k=arguments.length;d=k-0;0>d&&(d=0);d=Array(d);for(var m=0;m<k;m++)d[m-0]=arguments[m];g.push(e.get("Opal").$destructure(d));if((h=a<=++l)===f||null==h||h.$$is_boolean&&1!=h)return f;c.ret(g)},h.$$s=this,
h.$$arity=-1,h),b).call(this);return g}return(b=this.$each,b.$$p=(d=function(a){null==a&&(a=f);c.ret(a)},d.$$s=this,d.$$arity=1,d),b).call(this)}catch(k){if(k===c.returner)return k.$v;throw k;}},I.$$arity=-1);c.alias(n,"flat_map","collect_concat");c.defn(n,"$grep",G=function(a){var b,d=G.$$p||f;G.$$p=null;var h=[];this.$each.$$p=d!==f?function(){var g=e.get("Opal").$destructure(arguments),l=a["$==="](g);(b=l)===f||null==b||b.$$is_boolean&&1!=b||(l=c.yield1(d,g),h.push(l))}:function(){var c=e.get("Opal").$destructure(arguments);
(b=a["$==="](c))===f||null==b||b.$$is_boolean&&1!=b||h.push(c)};this.$each();return h},G.$$arity=1);c.defn(n,"$group_by",K=function(){var a,b,d,h,g=K.$$p||f,l=f;K.$$p=null;if(g===f)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b),a).call(this,"group_by");l=e.get("Hash").$new();this.$each.$$p=function(){var b=e.get("Opal").$destructure(arguments);(a=c.yield1(g,b),d=l,!1!==(h=d["$[]"](a))&&h!==f&&null!=h?h:d["$[]="](a,[]))["$<<"](b)};this.$each();
return l},K.$$arity=0);c.defn(n,"$include?",z=function(a){try{var b,d;(b=this.$each,b.$$p=(d=function(b){var d,h=arguments.length;d=h-0;0>d&&(d=0);d=Array(d);for(var g=0;g<h;g++)d[g-0]=arguments[g];if(e.get("Opal").$destructure(d)["$=="](a))c.ret(!0);else return f},d.$$s=this,d.$$arity=-1,d),b).call(this);return!1}catch(h){if(h===c.returner)return h.$v;throw h;}},z.$$arity=1);c.defn(n,"$inject",q=function(a,b){var d=q.$$p||f;q.$$p=null;var h=a;d!==f&&void 0===b?this.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);
void 0!==h&&(a=c.yieldX(d,[h,a]));h=a}:(void 0===b&&(e.get("Symbol")["$==="](a)||this.$raise(e.get("TypeError"),""+a.$inspect()+" is not a Symbol"),b=a,h=void 0),this.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);h=void 0===h?a:h.$__send__(b,a)});this.$each();return void 0==h?f:h},q.$$arity=-1);c.defn(n,"$lazy",A=function(){var a,b,d;return(a=(b=e.get("Enumerator").$$scope.get("Lazy")).$new,a.$$p=(d=function(a,b){var d,e,h=arguments.length;d=h-1;0>d&&(d=0);d=Array(d);for(var g=
1;g<h;g++)d[g-1]=arguments[g];null==a&&(a=f);return(e=a).$yield.apply(e,c.to_a(d))},d.$$s=this,d.$$arity=-2,d),a).call(b,this,this.$enumerator_size())},A.$$arity=0);c.defn(n,"$enumerator_size",U=function(){var a;return(a=this["$respond_to?"]("size"))===f||null==a||a.$$is_boolean&&1!=a?f:this.$size()},U.$$arity=0);c.alias(n,"map","collect");c.defn(n,"$max",S=function(a){var b,d=this,h=S.$$p||f;S.$$p=null;if(void 0===a||a===f){var g,l;d.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);
void 0===g?g=a:(l=h!==f?c.yieldX(h,[a,g]):a["$<=>"](g),l===f&&d.$raise(e.get("ArgumentError"),"comparison failed"),0<l&&(g=a))};d.$each();return void 0===g?f:g}a=e.get("Opal").$coerce_to(a,e.get("Integer"),"to_int");return(b=d.$sort,b.$$p=h.$to_proc(),b).call(d).$reverse().$first(a)},S.$$arity=-1);c.defn(n,"$max_by",Y=function(){var a,b,d=Y.$$p||f;Y.$$p=null;if(!1===d||d===f||null==d)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b),a).call(this,
"max_by");var h,g;this.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments),b=c.yield1(d,a);void 0===h?(h=a,g=b):0<b["$<=>"](g)&&(h=a,g=b)};this.$each();return void 0===h?f:h},Y.$$arity=0);c.alias(n,"member?","include?");c.defn(n,"$min",ea=function(){var a=this,c=ea.$$p||f;ea.$$p=null;var b;a.$each.$$p=c!==f?function(){var d=e.get("Opal").$destructure(arguments);if(void 0===b)b=d;else{var h=c(d,b);h===f&&a.$raise(e.get("ArgumentError"),"comparison failed");0>h&&(b=d)}}:function(){var a=
e.get("Opal").$destructure(arguments);void 0===b?b=a:0>e.get("Opal").$compare(a,b)&&(b=a)};a.$each();return void 0===b?f:b},ea.$$arity=0);c.defn(n,"$min_by",ca=function(){var a,b,d=ca.$$p||f;ca.$$p=null;if(!1===d||d===f||null==d)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b),a).call(this,"min_by");var h,g;this.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments),b=c.yield1(d,a);void 0===h?(h=a,g=b):0>b["$<=>"](g)&&(h=a,g=b)};
this.$each();return void 0===h?f:h},ca.$$arity=0);c.defn(n,"$minmax",B=function(){var a,c,b,d=this,h=B.$$p||f;B.$$p=null;!1!==(a=h)&&a!==f&&null!=a?a:h=(c=d.$proc,c.$$p=(b=function(a,c){null==a&&(a=f);null==c&&(c=f);return a["$<=>"](c)},b.$$s=d,b.$$arity=2,b),c).call(d);var g=f,l=f,k=!0;d.$each.$$p=function(){var a=e.get("Opal").$destructure(arguments);if(k)g=l=a,k=!1;else{var c=h.$call(g,a);c===f?d.$raise(e.get("ArgumentError"),"comparison failed"):0<c&&(g=a);c=h.$call(l,a);c===f?d.$raise(e.get("ArgumentError"),
"comparison failed"):0>c&&(l=a)}};d.$each();return[g,l]},B.$$arity=0);c.defn(n,"$minmax_by",Q=function(){Q.$$p=null;return this.$raise(e.get("NotImplementedError"))},Q.$$arity=0);c.defn(n,"$none?",Z=function(){try{var a,b,d,h=Z.$$p||f;Z.$$p=null;h!==f?(a=this.$each,a.$$p=(b=function(a){var b,d,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var g=0;g<e;g++)b[g-0]=arguments[g];if((d=c.yieldX(h,c.to_a(b)))===f||null==d||d.$$is_boolean&&1!=d)return f;c.ret(!1)},b.$$s=this,b.$$arity=-1,b),a).call(this):
(a=this.$each,a.$$p=(d=function(a){var b,d,h=arguments.length;b=h-0;0>b&&(b=0);b=Array(b);for(var g=0;g<h;g++)b[g-0]=arguments[g];if((d=e.get("Opal").$destructure(b))===f||null==d||d.$$is_boolean&&1!=d)return f;c.ret(!1)},d.$$s=this,d.$$arity=-1,d),a).call(this);return!0}catch(g){if(g===c.returner)return g.$v;throw g;}},Z.$$arity=0);c.defn(n,"$one?",R=function(){try{var b,d,h,g=R.$$p||f,l=f;R.$$p=null;l=0;g!==f?(b=this.$each,b.$$p=(d=function(b){var d,e,h=arguments.length;d=h-0;0>d&&(d=0);d=Array(d);
for(var k=0;k<h;k++)d[k-0]=arguments[k];if((e=c.yieldX(g,c.to_a(d)))===f||null==e||e.$$is_boolean&&1!=e)return f;l=a(l,1);if((e=r(l,1))===f||null==e||e.$$is_boolean&&1!=e)return f;c.ret(!1)},d.$$s=this,d.$$arity=-1,d),b).call(this):(b=this.$each,b.$$p=(h=function(b){var d,h,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var k=0;k<g;k++)d[k-0]=arguments[k];if((h=e.get("Opal").$destructure(d))===f||null==h||h.$$is_boolean&&1!=h)return f;l=a(l,1);if((h=r(l,1))===f||null==h||h.$$is_boolean&&1!=h)return f;
c.ret(!1)},h.$$s=this,h.$$arity=-1,h),b).call(this);return l["$=="](1)}catch(k){if(k===c.returner)return k.$v;throw k;}},R.$$arity=0);c.defn(n,"$partition",ba=function(){var a,b,d=ba.$$p||f;ba.$$p=null;if(d===f)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b),a).call(this,"partition");var h=[],g=[];this.$each.$$p=function(){var b=e.get("Opal").$destructure(arguments);(a=c.yield1(d,b))===f||null==a||a.$$is_boolean&&1!=a?g.push(b):h.push(b)};
this.$each();return[h,g]},ba.$$arity=0);c.alias(n,"reduce","inject");c.defn(n,"$reject",ga=function(){var a,b,d=ga.$$p||f;ga.$$p=null;if(d===f)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b),a).call(this,"reject");var h=[];this.$each.$$p=function(){var b=e.get("Opal").$destructure(arguments);((a=c.yield1(d,b))===f||null==a||a.$$is_boolean&&0==a)&&h.push(b)};this.$each();return h},ga.$$arity=0);c.defn(n,"$reverse_each",ia=function(){var a,
b,d=ia.$$p||f;ia.$$p=null;if(d===f)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b),a).call(this,"reverse_each");var e=[];this.$each.$$p=function(){e.push(arguments)};this.$each();for(a=e.length-1;0<=a;a--)c.yieldX(d,e[a]);return e},ia.$$arity=0);c.alias(n,"select","find_all");c.defn(n,"$slice_before",ma=function(a){var b,d,h,g=ma.$$p||f;ma.$$p=null;(b=void 0===a&&g===f||1<arguments.length)===f||null==b||b.$$is_boolean&&1!=b||this.$raise(e.get("ArgumentError"),
"wrong number of arguments ("+arguments.length+" for 1)");return(b=(d=e.get("Enumerator")).$new,b.$$p=(h=function(b){var d=h.$$s||this,l;null==b&&(b=f);var k=[];d.$each.$$p=g!==f?void 0===a?function(){var a=e.get("Opal").$destructure(arguments);(l=c.yield1(g,a))!==f&&null!=l&&(!l.$$is_boolean||1==l)&&0<k.length&&(b["$<<"](k),k=[]);k.push(a)}:function(){var c=e.get("Opal").$destructure(arguments);(l=g(c,a.$dup()))!==f&&null!=l&&(!l.$$is_boolean||1==l)&&0<k.length&&(b["$<<"](k),k=[]);k.push(c)}:function(){var c=
e.get("Opal").$destructure(arguments);(l=a["$==="](c))!==f&&null!=l&&(!l.$$is_boolean||1==l)&&0<k.length&&(b["$<<"](k),k=[]);k.push(c)};d.$each();if(0<k.length)b["$<<"](k)},h.$$s=this,h.$$arity=1,h),b).call(d)},ma.$$arity=-1);c.defn(n,"$sort",la=function(){var a,b,c,d=la.$$p||f,e=f;la.$$p=null;e=this.$to_a();d===f&&(d=(a=this.$lambda,a.$$p=(b=function(a,b){null==a&&(a=f);null==b&&(b=f);return a["$<=>"](b)},b.$$s=this,b.$$arity=2,b),a).call(this));return(a=(c=e).$sort,a.$$p=d.$to_proc(),a).call(c)},
la.$$arity=0);c.defn(n,"$sort_by",na=function(){var a,b,d,h,g,l,k,m=na.$$p||f,q=f;na.$$p=null;if(m===f)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b),a).call(this,"sort_by");q=(a=this.$map,a.$$p=(d=function(){var a=f,a=e.get("Opal").$destructure(arguments);return[c.yield1(m,a),a]},d.$$s=this,d.$$arity=0,d),a).call(this);(a=(h=q)["$sort!"],a.$$p=(g=function(a,b){null==a&&(a=f);null==b&&(b=f);return a[0]["$<=>"](b[0])},g.$$s=this,g.$$arity=
2,g),a).call(h);return(a=(l=q)["$map!"],a.$$p=(k=function(a){null==a&&(a=f);return a[1]},k.$$s=this,k.$$arity=1,k),a).call(l)},na.$$arity=0);c.defn(n,"$take",fa=function(a){return this.$first(a)},fa.$$arity=1);c.defn(n,"$take_while",T=function(){try{var a,b,d=T.$$p||f,h=f;T.$$p=null;if(!1===d||d===f||null==d)return this.$enum_for("take_while");h=[];return(a=this.$each,a.$$p=(b=function(a){var b,g,l=f,l=arguments.length;b=l-0;0>b&&(b=0);b=Array(b);for(var k=0;k<l;k++)b[k-0]=arguments[k];l=e.get("Opal").$destructure(b);
((g=c.yield1(d,l))===f||null==g||g.$$is_boolean&&1!=g)&&c.ret(h);return h.push(l)},b.$$s=this,b.$$arity=-1,b),a).call(this)}catch(g){if(g===c.returner)return g.$v;throw g;}},T.$$arity=0);c.alias(n,"to_a","entries");c.defn(n,"$zip",ja=function(a){var b,d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];ja.$$p=null;return(b=this.$to_a()).$zip.apply(b,c.to_a(d))},ja.$$arity=-1)}(c.base)},Opal.modules["corelib/enumerator"]=function(c){function r(a,c){return"number"===
typeof a&&"number"===typeof c?a+c:a["$+"](c)}function a(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}var f=c.top,p=c.nil,n=c.breaker,e=c.slice,g=c.klass;c.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));f.$require("corelib/enumerable");return function(f,$super){function b(){}var m=b=g(f,$super,
"Enumerator",b),w=m.$$proto,t=m.$$scope,k,l,M,x,C,E;w.size=w.args=w.object=w.method=p;m.$include(t.get("Enumerable"));w.$$is_enumerator=!0;c.defs(m,"$for",k=function(a,b,c){var e,f=k.$$p||p;null==b&&(b="each");var h=arguments.length;e=h-2;0>e&&(e=0);e=Array(e);for(var g=2;g<h;g++)e[g-2]=arguments[g];k.$$p=null;h=this.$allocate();h.object=a;h.size=f;h.method=b;h.args=e;return h},k.$$arity=-2);c.defn(m,"$initialize",l=function(a){var b,c,f=l.$$p||p;l.$$p=null;if(!1!==f&&f!==p&&null!=f)return this.object=
(b=(c=t.get("Generator")).$new,b.$$p=f.$to_proc(),b).call(c),this.method="each",this.args=[],this.size=arguments[0]||p,(b=this.size)===p||null==b||b.$$is_boolean&&1!=b?p:this.size=t.get("Opal").$coerce_to(this.size,t.get("Integer"),"to_int");this.object=arguments[0];this.method=arguments[1]||"each";this.args=e.call(arguments,2);return this.size=p},l.$$arity=-1);c.defn(m,"$each",M=function(a){var b,e,f,h,g=M.$$p||p,l=arguments.length;h=l-0;0>h&&(h=0);h=Array(h);for(var k=0;k<l;k++)h[k-0]=arguments[k];
M.$$p=null;if((b=(e=g["$nil?"](),!1!==e&&e!==p&&null!=e?h["$empty?"]():e))!==p&&null!=b&&(!b.$$is_boolean||1==b))return this;h=r(this.args,h);return(b=g["$nil?"]())===p||null==b||b.$$is_boolean&&1!=b?(e=(f=this.object).$__send__,e.$$p=g.$to_proc(),e).apply(f,[this.method].concat(c.to_a(h))):(b=this.$class()).$new.apply(b,[this.object,this.method].concat(c.to_a(h)))},M.$$arity=-1);c.defn(m,"$size",x=function(){var a;return(a=t.get("Proc")["$==="](this.size))===p||null==a||a.$$is_boolean&&1!=a?this.size:
(a=this.size).$call.apply(a,c.to_a(this.args))},x.$$arity=0);c.defn(m,"$with_index",C=function(a){var b,c,e=C.$$p||p;null==a&&(a=0);C.$$p=null;a=!1!==a&&a!==p&&null!=a?t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int"):0;if(!1===e||e===p||null==e)return(b=this.$enum_for,b.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),b).call(this,"with_index",a);var f=a;this.$each.$$p=function(){var a=t.get("Opal").$destructure(arguments),a=e(a,f);f++;return a};return this.$each()},C.$$arity=
-1);c.alias(m,"with_object","each_with_object");c.defn(m,"$inspect",E=function(){var a,b=p,b="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;if((a=this.args["$empty?"]())===p||null==a||a.$$is_boolean&&1!=a)b=r(b,"("+this.args.$inspect()["$[]"](t.get("Range").$new(1,-2))+")");return r(b,">")},E.$$arity=0);(function(a,$super){function b(){}var e=b=g(a,$super,"Generator",b),f=e.$$scope,h,l;e.$$proto.block=p;e.$include(f.get("Enumerable"));c.defn(e,"$initialize",h=function(){var a=h.$$p||
p;h.$$p=null;!1!==a&&a!==p&&null!=a||this.$raise(f.get("LocalJumpError"),"no block given");return this.block=a},h.$$arity=0);return(c.defn(e,"$each",l=function(a){var b,e,h,g=l.$$p||p,k=p,k=arguments.length;h=k-0;0>h&&(h=0);h=Array(h);for(var m=0;m<k;m++)h[m-0]=arguments[m];l.$$p=null;k=(b=(e=f.get("Yielder")).$new,b.$$p=g.$to_proc(),b).call(e);try{h.unshift(k),c.yieldX(this.block,h)}catch(t){if(t===n)return n.$v;throw t;}return this},l.$$arity=-1),p)&&"each"})(t.base,null);(function(a,$super){function b(){}
var e=b=g(a,$super,"Yielder",b),f,h,l;e.$$proto.block=p;c.defn(e,"$initialize",f=function(){var a=f.$$p||p;f.$$p=null;return this.block=a},f.$$arity=0);c.defn(e,"$yield",h=function(a){var b,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var f=0;f<e;f++)b[f-0]=arguments[f];e=c.yieldX(this.block,b);if(e===n)throw n;return e},h.$$arity=-1);return(c.defn(e,"$<<",l=function(a){var b,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var f=0;f<e;f++)b[f-0]=arguments[f];this.$yield.apply(this,c.to_a(b));
return this},l.$$arity=-1),p)&&"<<"})(t.base,null);return function(b,$super){function e(){}var f=e=g(b,$super,"Lazy",e),h=f.$$scope,l,k,m,t,q,n,w,x,C,M,ca,B,Q;f.$$proto.enumerator=p;(function(a,$super){function b(){}b=g(a,$super,"StopLazyError",b);return p})(h.base,h.get("Exception"));c.defn(f,"$initialize",l=function(a,b){var e,f,g=l.$$p||p;null==b&&(b=p);l.$$p=null;g===p&&this.$raise(h.get("ArgumentError"),"tried to call lazy new without a block");this.enumerator=a;return(e=c.find_super_dispatcher(this,
"initialize",l,!1),e.$$p=(f=function(b,e){var l=f.$$s||this,k,m,q,t=arguments.length;k=t-1;0>k&&(k=0);k=Array(k);for(var v=1;v<t;v++)k[v-1]=arguments[v];null==b&&(b=p);try{return(m=a.$each,m.$$p=(q=function(a){var e,f=arguments.length;e=f-0;0>e&&(e=0);e=Array(e);for(var h=0;h<f;h++)e[h-0]=arguments[h];e.unshift(b);c.yieldX(g,e)},q.$$s=l,q.$$arity=-1,q),m).apply(a,c.to_a(k))}catch(n){if(c.rescue(n,[h.get("Exception")]))try{return p}finally{c.pop_exception()}else throw n;}},f.$$s=this,f.$$arity=-2,
f),e).call(this,b)},l.$$arity=-2);c.alias(f,"force","to_a");c.defn(f,"$lazy",k=function(){return this},k.$$arity=0);c.defn(f,"$collect",m=function(){var a,b,e,f=m.$$p||p;m.$$p=null;!1!==f&&f!==p&&null!=f||this.$raise(h.get("ArgumentError"),"tried to call lazy map without a block");return(a=(b=h.get("Lazy")).$new,a.$$p=(e=function(a,b){var e,h=arguments.length;e=h-1;0>e&&(e=0);e=Array(e);for(var g=1;g<h;g++)e[g-1]=arguments[g];null==a&&(a=p);h=c.yieldX(f,e);a.$yield(h)},e.$$s=this,e.$$arity=-2,e),
a).call(b,this,this.$enumerator_size())},m.$$arity=0);c.defn(f,"$collect_concat",t=function(){var a,b,e,f=t.$$p||p;t.$$p=null;!1!==f&&f!==p&&null!=f||this.$raise(h.get("ArgumentError"),"tried to call lazy map without a block");return(a=(b=h.get("Lazy")).$new,a.$$p=(e=function(a,b){var g=e.$$s||this,l,k,m,q,t=arguments.length;l=t-1;0>l&&(l=0);l=Array(l);for(var v=1;v<t;v++)l[v-1]=arguments[v];null==a&&(a=p);t=c.yieldX(f,l);t["$respond_to?"]("force")&&t["$respond_to?"]("each")?(k=t.$each,k.$$p=(m=function(b){null==
b&&(b=p);return a.$yield(b)},m.$$s=g,m.$$arity=1,m),k).call(t):h.get("Opal").$try_convert(t,h.get("Array"),"to_ary")===p?a.$yield(t):(k=t.$each,k.$$p=(q=function(b){null==b&&(b=p);return a.$yield(b)},q.$$s=g,q.$$arity=1,q),k).call(t)},e.$$s=this,e.$$arity=-2,e),a).call(b,this,p)},t.$$arity=0);c.defn(f,"$drop",q=function(b){var e,f,g,l=p,k=l=p;b=h.get("Opal").$coerce_to(b,h.get("Integer"),"to_int");(e=a(b,0))===p||null==e||e.$$is_boolean&&1!=e||this.$raise(h.get("ArgumentError"),"attempt to drop negative size");
l=this.$enumerator_size();l=(e=h.get("Integer")["$==="](l))===p||null==e||e.$$is_boolean&&1!=e?l:(e=a(b,l))===p||null==e||e.$$is_boolean&&1!=e?l:b;k=0;return(e=(f=h.get("Lazy")).$new,e.$$p=(g=function(e,f){var h,g,l=arguments.length;h=l-1;0>h&&(h=0);h=Array(h);for(var m=1;m<l;m++)h[m-1]=arguments[m];null==e&&(e=p);return(g=a(k,b))===p||null==g||g.$$is_boolean&&1!=g?(g=e).$yield.apply(g,c.to_a(h)):k=r(k,1)},g.$$s=this,g.$$arity=-2,g),e).call(f,this,l)},q.$$arity=1);c.defn(f,"$drop_while",n=function(){var a,
b,e,f=n.$$p||p,g=p;n.$$p=null;!1!==f&&f!==p&&null!=f||this.$raise(h.get("ArgumentError"),"tried to call lazy drop_while without a block");g=!0;return(a=(b=h.get("Lazy")).$new,a.$$p=(e=function(a,b){var e,h,l,k=arguments.length;e=k-1;0>e&&(e=0);e=Array(e);for(var m=1;m<k;m++)e[m-1]=arguments[m];null==a&&(a=p);if(!1!==g&&g!==p&&null!=g){if((h=c.yieldX(f,e))===p||null==h||h.$$is_boolean&&0==h)g=!1,(h=a).$yield.apply(h,c.to_a(e))}else return(l=a).$yield.apply(l,c.to_a(e))},e.$$s=this,e.$$arity=-2,e),
a).call(b,this,p)},n.$$arity=0);c.defn(f,"$enum_for",w=function(a,b){var e,f,h,g=w.$$p||p;null==a&&(a="each");var l=arguments.length;h=l-1;0>h&&(h=0);h=Array(h);for(var k=1;k<l;k++)h[k-1]=arguments[k];w.$$p=null;return(e=(f=this.$class()).$for,e.$$p=g.$to_proc(),e).apply(f,[this,a].concat(c.to_a(h)))},w.$$arity=-1);c.defn(f,"$find_all",x=function(){var a,b,e,f=x.$$p||p;x.$$p=null;!1!==f&&f!==p&&null!=f||this.$raise(h.get("ArgumentError"),"tried to call lazy select without a block");return(a=(b=h.get("Lazy")).$new,
a.$$p=(e=function(a,b){var e,h,g=arguments.length;e=g-1;0>e&&(e=0);e=Array(e);for(var l=1;l<g;l++)e[l-1]=arguments[l];null==a&&(a=p);(h=c.yieldX(f,e))===p||null==h||h.$$is_boolean&&1!=h||(h=a).$yield.apply(h,c.to_a(e))},e.$$s=this,e.$$arity=-2,e),a).call(b,this,p)},x.$$arity=0);c.alias(f,"flat_map","collect_concat");c.defn(f,"$grep",C=function(a){var b,e,f,g,l,k=C.$$p||p;C.$$p=null;return!1!==k&&k!==p&&null!=k?(b=(e=h.get("Lazy")).$new,b.$$p=(f=function(b,e){var f,g,l=arguments.length;f=l-1;0>f&&
(f=0);f=Array(f);for(var m=1;m<l;m++)f[m-1]=arguments[m];null==b&&(b=p);l=h.get("Opal").$destructure(f);(g=a["$==="](l))===p||null==g||g.$$is_boolean&&1!=g||(c.yield1(k,l),b.$yield(c.yield1(k,l)))},f.$$s=this,f.$$arity=-2,f),b).call(e,this,p):(b=(g=h.get("Lazy")).$new,b.$$p=(l=function(b,c){var e,f,g=arguments.length;e=g-1;0>e&&(e=0);e=Array(e);for(var l=1;l<g;l++)e[l-1]=arguments[l];null==b&&(b=p);g=h.get("Opal").$destructure(e);(f=a["$==="](g))===p||null==f||f.$$is_boolean&&1!=f||b.$yield(g)},l.$$s=
this,l.$$arity=-2,l),b).call(g,this,p)},C.$$arity=1);c.alias(f,"map","collect");c.alias(f,"select","find_all");c.defn(f,"$reject",M=function(){var a,b,e,f=M.$$p||p;M.$$p=null;!1!==f&&f!==p&&null!=f||this.$raise(h.get("ArgumentError"),"tried to call lazy reject without a block");return(a=(b=h.get("Lazy")).$new,a.$$p=(e=function(a,b){var e,h,g=arguments.length;e=g-1;0>e&&(e=0);e=Array(e);for(var l=1;l<g;l++)e[l-1]=arguments[l];null==a&&(a=p);((h=c.yieldX(f,e))===p||null==h||h.$$is_boolean&&0==h)&&(h=
a).$yield.apply(h,c.to_a(e))},e.$$s=this,e.$$arity=-2,e),a).call(b,this,p)},M.$$arity=0);c.defn(f,"$take",ca=function(b){var e,f,g,l=p,k=l=p;b=h.get("Opal").$coerce_to(b,h.get("Integer"),"to_int");(e=a(b,0))===p||null==e||e.$$is_boolean&&1!=e||this.$raise(h.get("ArgumentError"),"attempt to take negative size");l=this.$enumerator_size();l=(e=h.get("Integer")["$==="](l))===p||null==e||e.$$is_boolean&&1!=e?l:(e=a(b,l))===p||null==e||e.$$is_boolean&&1!=e?l:b;k=0;return(e=(f=h.get("Lazy")).$new,e.$$p=
(g=function(e,f){var l=g.$$s||this,m,q,t=arguments.length;m=t-1;0>m&&(m=0);m=Array(m);for(var v=1;v<t;v++)m[v-1]=arguments[v];null==e&&(e=p);if((q=a(k,b))===p||null==q||q.$$is_boolean&&1!=q)return l.$raise(h.get("StopLazyError"));(q=e).$yield.apply(q,c.to_a(m));return k=r(k,1)},g.$$s=this,g.$$arity=-2,g),e).call(f,this,l)},ca.$$arity=1);c.defn(f,"$take_while",B=function(){var a,b,e,f=B.$$p||p;B.$$p=null;!1!==f&&f!==p&&null!=f||this.$raise(h.get("ArgumentError"),"tried to call lazy take_while without a block");
return(a=(b=h.get("Lazy")).$new,a.$$p=(e=function(a,b){var g=e.$$s||this,l,k,m=arguments.length;l=m-1;0>l&&(l=0);l=Array(l);for(var q=1;q<m;q++)l[q-1]=arguments[q];null==a&&(a=p);(k=c.yieldX(f,l))===p||null==k||k.$$is_boolean&&1!=k?g.$raise(h.get("StopLazyError")):(k=a).$yield.apply(k,c.to_a(l))},e.$$s=this,e.$$arity=-2,e),a).call(b,this,p)},B.$$arity=0);c.alias(f,"to_enum","enum_for");return(c.defn(f,"$inspect",Q=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},Q.$$arity=
0),p)&&"inspect"}(t.base,m)}(c.base,null)},Opal.modules["corelib/numeric"]=function(c){function r(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function a(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function f(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}var n=c.top,e=c.nil,g=c.klass;c.add_stubs("$require $include $instance_of? $class $Float $coerce $=== $raise $__send__ $equal? $coerce_to! $-@ $** $- $* $div $< $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $round $to_i $truncate $>".split(" "));
n.$require("corelib/comparable");return function(h,$super){function b(){}var m=b=g(h,$super,"Numeric",b),n=m.$$scope,t,k,l,M,x,C,E,D,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q,Z,R,ba,ga,ia,ma,la,na,fa,T,ja;m.$include(n.get("Comparable"));c.defn(m,"$coerce",t=function(a){var b;return(b=a["$instance_of?"](this.$class()))===e||null==b||b.$$is_boolean&&1!=b?[this.$Float(a),this.$Float(this)]:[a,this]},t.$$arity=1);c.defn(m,"$__coerced__",k=function(a,b){var f,h,g=e,l=e,k=e;try{h=b.$coerce(this),f=c.to_ary(h),
g=null==f[0]?e:f[0],l=null==f[1]?e:f[1],h}catch(m){if(c.rescue(m,[n.get("StandardError")]))try{k=a,"+"["$==="](k)||"-"["$==="](k)||"*"["$==="](k)||"/"["$==="](k)||"%"["$==="](k)||"&"["$==="](k)||"|"["$==="](k)||"^"["$==="](k)||"**"["$==="](k)?this.$raise(n.get("TypeError"),""+b.$class()+" can't be coerce into Numeric"):(">"["$==="](k)||">="["$==="](k)||"<"["$==="](k)||"<="["$==="](k)||"<=>"["$==="](k))&&this.$raise(n.get("ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed")}finally{c.pop_exception()}else throw m;
}return g.$__send__(a,l)},k.$$arity=2);c.defn(m,"$<=>",l=function(a){var b;return(b=this["$equal?"](a))===e||null==b||b.$$is_boolean&&1!=b?e:0},l.$$arity=1);c.defn(m,"$[]",M=function(a){var b=e,c=e;a=n.get("Opal")["$coerce_to!"](a,n.get("Integer"),"to_int");b=2["$**"](30)["$-@"]();c=r(2["$**"](30),1);return a<b||a>c?0:(this>>a)%2},M.$$arity=1);c.defn(m,"$+@",x=function(){return this},x.$$arity=0);c.defn(m,"$-@",C=function(){return r(0,this)},C.$$arity=0);c.defn(m,"$%",E=function(b){return r(this,
a(b,this.$div(b)))},E.$$arity=1);c.defn(m,"$abs",D=function(){return f(this,0)?this["$-@"]():this},D.$$arity=0);c.defn(m,"$abs2",y=function(){return a(this,this)},y.$$arity=0);c.defn(m,"$angle",v=function(){return f(this,0)?n.get("Math").$$scope.get("PI"):0},v.$$arity=0);c.alias(m,"arg","angle");c.defn(m,"$ceil",N=function(){return this.$to_f().$ceil()},N.$$arity=0);c.defn(m,"$conj",F=function(){return this},F.$$arity=0);c.alias(m,"conjugate","conj");c.defn(m,"$denominator",I=function(){return this.$to_r().$denominator()},
I.$$arity=0);c.defn(m,"$div",G=function(a){a["$=="](0)&&this.$raise(n.get("ZeroDivisionError"),"divided by o");return p(this,a).$floor()},G.$$arity=1);c.defn(m,"$divmod",K=function(a){return[this.$div(a),this["$%"](a)]},K.$$arity=1);c.defn(m,"$fdiv",z=function(a){return p(this.$to_f(),a)},z.$$arity=1);c.defn(m,"$floor",q=function(){return this.$to_f().$floor()},q.$$arity=0);c.defn(m,"$i",A=function(){return this.$Complex(0,this)},A.$$arity=0);c.defn(m,"$imag",U=function(){return 0},U.$$arity=0);c.alias(m,
"imaginary","imag");c.defn(m,"$integer?",S=function(){return!1},S.$$arity=0);c.alias(m,"magnitude","abs");c.alias(m,"modulo","%");c.defn(m,"$nonzero?",Y=function(){var a;return(a=this["$zero?"]())===e||null==a||a.$$is_boolean&&1!=a?this:e},Y.$$arity=0);c.defn(m,"$numerator",ea=function(){return this.$to_r().$numerator()},ea.$$arity=0);c.alias(m,"phase","arg");c.defn(m,"$polar",ca=function(){return[this.$abs(),this.$arg()]},ca.$$arity=0);c.defn(m,"$quo",B=function(a){return p(n.get("Opal")["$coerce_to!"](this,
n.get("Rational"),"to_r"),a)},B.$$arity=1);c.defn(m,"$real",Q=function(){return this},Q.$$arity=0);c.defn(m,"$real?",Z=function(){return!0},Z.$$arity=0);c.defn(m,"$rect",R=function(){return[this,0]},R.$$arity=0);c.alias(m,"rectangular","rect");c.defn(m,"$round",ba=function(a){return this.$to_f().$round(a)},ba.$$arity=-1);c.defn(m,"$to_c",ga=function(){return this.$Complex(this,0)},ga.$$arity=0);c.defn(m,"$to_int",ia=function(){return this.$to_i()},ia.$$arity=0);c.defn(m,"$truncate",ma=function(){return this.$to_f().$truncate()},
ma.$$arity=0);c.defn(m,"$zero?",la=function(){return this["$=="](0)},la.$$arity=0);c.defn(m,"$positive?",na=function(){return"number"===typeof this?0<this:this["$>"](0)},na.$$arity=0);c.defn(m,"$negative?",fa=function(){return f(this,0)},fa.$$arity=0);c.defn(m,"$dup",T=function(){return this.$raise(n.get("TypeError"),"can't dup "+this.$class())},T.$$arity=0);return(c.defn(m,"$clone",ja=function(){return this.$raise(n.get("TypeError"),"can't clone "+this.$class())},ja.$$arity=0),e)&&"clone"}(c.base,
null)},Opal.modules["corelib/array"]=function(c){function r(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}var a=c.top,f=c.nil,p=c.klass,n=c.hash2,e=c.gvars;c.add_stubs("$require $include $to_a $raise $=== $replace $respond_to? $to_ary $coerce_to $coerce_to? $join $to_str $class $clone $hash $<=> $== $object_id $inspect $enum_for $coerce_to! $> $* $enumerator_size $empty? $size $eql? $length $begin $end $exclude_end? $flatten $__id__ $[] $to_s $new $! $>= $** $delete_if $to_proc $each $reverse $rotate $rand $at $keep_if $shuffle! $dup $< $sort $sort_by $!= $times $[]= $<< $values $kind_of? $last $first $upto $reject $pristine".split(" "));
a.$require("corelib/enumerable");a.$require("corelib/numeric");return function(a,$super){function d(){}function b(a,b){return b.$$name===c.Array?a:b.$allocate().$replace(a.$to_a())}function m(a,b){return a===b||0===b?1:0<b&&a>b?m(a-1,b-1)+m(a-1,b):0}var w=d=p(a,$super,"Array",d),t=w.$$proto,k=w.$$scope,l,M,x,C,E,D,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q,Z,R,ba,ga,ia,ma,la,na,fa,T,ja,L,O,ka,J,pa,ra,ua,ta,ha,za,va,ya,wa,P,u,da,qa,sa,Ca,Da,Ea,Aa,aa,xa,V,X,H,W,Ba,Fa,oa,Ua,Ka,La,Qa,Ra,Va,Wa,Ia,Ja,Ma,Xa,Na,
Ya,Za,ab,Oa,Pa,bb,Ta,Ha,Sa,Ga;t.length=f;w.$include(k.get("Enumerable"));t.$$is_array=!0;c.defs(w,"$[]",l=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return b(c,this)},l.$$arity=-1);c.defn(w,"$initialize",M=function(a,b){var c,d=M.$$p||f;null==a&&(a=f);null==b&&(b=f);M.$$p=null;(c=2<arguments.length)===f||null==c||c.$$is_boolean&&1!=c||this.$raise(k.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===
arguments.length)return this.splice(0,this.length),this;if((c=1===arguments.length)!==f&&null!=c&&(!c.$$is_boolean||1==c)){if((c=k.get("Array")["$==="](a))!==f&&null!=c&&(!c.$$is_boolean||1==c))return this.$replace(a.$to_a()),this;if((c=a["$respond_to?"]("to_ary"))!==f&&null!=c&&(!c.$$is_boolean||1==c))return this.$replace(a.$to_ary()),this}a=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int");(c=0>a)===f||null==c||c.$$is_boolean&&1!=c||this.$raise(k.get("ArgumentError"),"negative array size");
this.splice(0,this.length);var e;if(d===f)for(c=0;c<a;c++)this.push(b);else for(c=0,e;c<a;c++)e=d(c),this[c]=e;return this},M.$$arity=-1);c.defs(w,"$try_convert",x=function(a){return k.get("Opal")["$coerce_to?"](a,k.get("Array"),"to_ary")},x.$$arity=1);c.defn(w,"$&",C=function(a){var b;a=(b=k.get("Array")["$==="](a))===f||null==b||b.$$is_boolean&&1!=b?k.get("Opal").$coerce_to(a,k.get("Array"),"to_ary").$to_a():a.$to_a();b=[];var d=n([],{}),e,g;e=0;for(g=a.length;e<g;e++)c.hash_put(d,a[e],!0);e=0;
for(g=this.length;e<g;e++)a=this[e],void 0!==c.hash_delete(d,a)&&b.push(a);return b},C.$$arity=1);c.defn(w,"$|",E=function(a){var b;a=(b=k.get("Array")["$==="](a))===f||null==b||b.$$is_boolean&&1!=b?k.get("Opal").$coerce_to(a,k.get("Array"),"to_ary").$to_a():a.$to_a();b=n([],{});var d,e;d=0;for(e=this.length;d<e;d++)c.hash_put(b,this[d],!0);d=0;for(e=a.length;d<e;d++)c.hash_put(b,a[d],!0);return b.$keys()},E.$$arity=1);c.defn(w,"$*",D=function(a){var c;if((c=a["$respond_to?"]("to_str"))!==f&&null!=
c&&(!c.$$is_boolean||1==c))return this.$join(a.$to_str());a=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int");(c=0>a)===f||null==c||c.$$is_boolean&&1!=c||this.$raise(k.get("ArgumentError"),"negative argument");c=[];for(var d=this.$to_a(),e=0;e<a;e++)c=c.concat(d);return b(c,this.$class())},D.$$arity=1);c.defn(w,"$+",y=function(a){var b;a=(b=k.get("Array")["$==="](a))===f||null==b||b.$$is_boolean&&1!=b?k.get("Opal").$coerce_to(a,k.get("Array"),"to_ary").$to_a():a.$to_a();return this.concat(a)},
y.$$arity=1);c.defn(w,"$-",v=function(a){var b;a=(b=k.get("Array")["$==="](a))===f||null==b||b.$$is_boolean&&1!=b?k.get("Opal").$coerce_to(a,k.get("Array"),"to_ary").$to_a():a.$to_a();if((b=0===this.length)!==f&&null!=b&&(!b.$$is_boolean||1==b))return[];if((b=0===a.length)!==f&&null!=b&&(!b.$$is_boolean||1==b))return this.$clone().$to_a();b=[];var d=n([],{}),e,g;e=0;for(g=a.length;e<g;e++)c.hash_put(d,a[e],!0);e=0;for(g=this.length;e<g;e++)a=this[e],void 0===c.hash_get(d,a)&&b.push(a);return b},v.$$arity=
1);c.defn(w,"$<<",N=function(a){this.push(a);return this},N.$$arity=1);c.defn(w,"$<=>",F=function(a){var b;if((b=k.get("Array")["$==="](a))===f||null==b||b.$$is_boolean&&1!=b){if((b=a["$respond_to?"]("to_ary"))===f||null==b||b.$$is_boolean&&1!=b)return f;a=a.$to_ary().$to_a()}else a=a.$to_a();if(this.$hash()===a.$hash())return 0;b=Math.min(this.length,a.length);for(var c=0;c<b;c++){var d=this[c]["$<=>"](a[c]);if(0!==d)return d}return this.length["$<=>"](a.length)},F.$$arity=1);c.defn(w,"$==",I=function(a){function b(a,
d){var e,f,g,u;if(a===d)return!0;if(!d.$$is_array)return k.get("Opal")["$respond_to?"](d,"to_ary")?d["$=="](a):!1;a.constructor!==Array&&(a=a.$to_a());d.constructor!==Array&&(d=d.$to_a());if(a.length!==d.length)return!1;c[a.$object_id()]=!0;e=0;for(f=a.length;e<f;e++)if(g=a[e],u=d[e],g.$$is_array){if(u.$$is_array&&u.length!==g.length||!c.hasOwnProperty(g.$object_id())&&!b(g,u))return!1}else if(!g["$=="](u))return!1;return!0}var c={};return b(this,a)},I.$$arity=1);c.defn(w,"$[]",G=function(a,c){var d=
this.length,e,g,u;if(a.$$is_range){e=a.exclude;g=k.get("Opal").$coerce_to(a.begin,k.get("Integer"),"to_int");u=k.get("Opal").$coerce_to(a.end,k.get("Integer"),"to_int");if(0>g&&(g+=d,0>g)||g>d)return f;if(0>u&&(u+=d,0>u))return[];e||(u+=1);d=this.slice(g,u)}else{a=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int");if(0>a&&(a+=d,0>a))return f;if(void 0===c)return a>=d||0>a?f:this[a];c=k.get("Opal").$coerce_to(c,k.get("Integer"),"to_int");if(0>c||a>d||0>a)return f;d=this.slice(a,a+c)}return b(d,
this.$class())},G.$$arity=-2);c.defn(w,"$[]=",K=function(a,b,c){var d,e=f,g=f,u;u=this.length;if((d=k.get("Range")["$==="](a))===f||null==d||d.$$is_boolean&&1!=d){(d=void 0===c)===f||null==d||d.$$is_boolean&&1!=d?(g=b,b=c,e=(d=k.get("Array")["$==="](b))===f||null==d||d.$$is_boolean&&1!=d?(d=b["$respond_to?"]("to_ary"))===f||null==d||d.$$is_boolean&&1!=d?[b]:b.$to_ary().$to_a():b.$to_a()):g=1;a=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int");g=k.get("Opal").$coerce_to(g,k.get("Integer"),"to_int");
0>a&&(d=a,a+=u,0>a&&this.$raise(k.get("IndexError"),"index "+d+" too small for array; minimum "+-this.length));0>g&&this.$raise(k.get("IndexError"),"negative length ("+g+")");if(a>u)for(;u<a;u++)this[u]=f;void 0===c?this[a]=b:this.splice.apply(this,[a,g].concat(e))}else{e=(d=k.get("Array")["$==="](b))===f||null==d||d.$$is_boolean&&1!=d?(d=b["$respond_to?"]("to_ary"))===f||null==d||d.$$is_boolean&&1!=d?[b]:b.$to_ary().$to_a():b.$to_a();d=a.exclude;c=k.get("Opal").$coerce_to(a.begin,k.get("Integer"),
"to_int");g=k.get("Opal").$coerce_to(a.end,k.get("Integer"),"to_int");0>c&&(c+=u,0>c&&this.$raise(k.get("RangeError"),""+a.$inspect()+" out of range"));0>g&&(g+=u);d||(g+=1);if(c>u)for(;u<c;u++)this[u]=f;0>g?this.splice.apply(this,[c,0].concat(e)):this.splice.apply(this,[c,g-c].concat(e))}return b},K.$$arity=-3);c.defn(w,"$assoc",z=function(a){for(var b=0,c=this.length,d;b<c;b++)if(d=this[b],d.length&&d[0]["$=="](a))return d;return f},z.$$arity=1);c.defn(w,"$at",q=function(a){a=k.get("Opal").$coerce_to(a,
k.get("Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?f:this[a]},q.$$arity=1);c.defn(w,"$bsearch",A=function(){var a=A.$$p||f;A.$$p=null;if(a===f)return this.$enum_for("bsearch");for(var b=0,c=this.length,d,e,g,u=!1,l=f;b<c;){d=b+Math.floor((c-b)/2);e=this[d];g=a(e);if(!0===g)l=e,u=!0;else if(!1===g||g===f)u=!1;else if(g.$$is_number){if(0===g)return e;u=0>g}else this.$raise(k.get("TypeError"),"wrong argument type "+g.$class()+" (must be numeric, true, false or nil)");u?c=d:b=
d+1}return l},A.$$arity=0);c.defn(w,"$cycle",U=function(a){var b,d,e,g=U.$$p||f;null==a&&(a=f);U.$$p=null;if(g===f)return(b=this.$enum_for,b.$$p=(d=function(){var b=d.$$s||this,c;if(a["$=="](f))return k.get("Float").$$scope.get("INFINITY");a=k.get("Opal")["$coerce_to!"](a,k.get("Integer"),"to_int");if((c=r(a,0))===f||null==c||c.$$is_boolean&&1!=c)return 0;b=b.$enumerator_size();return"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)},d.$$s=this,d.$$arity=0,d),b).call(this,"cycle",a);if((b=!1!==
(e=this["$empty?"]())&&e!==f&&null!=e?e:a["$=="](0))!==f&&null!=b&&(!b.$$is_boolean||1==b))return f;if(a===f)for(;;)for(b=0,e=this.length;b<e;b++)c.yield1(g,this[b]);else{a=k.get("Opal")["$coerce_to!"](a,k.get("Integer"),"to_int");if(0>=a)return this;for(;0<a;){b=0;for(e=this.length;b<e;b++)c.yield1(g,this[b]);a--}}return this},U.$$arity=-1);c.defn(w,"$clear",S=function(){this.splice(0,this.length);return this},S.$$arity=0);c.defn(w,"$count",Y=function(a){var b,d,e=Y.$$p,g=e||f,u=f,l=f;null==a&&(a=
f);Y.$$p=null;u=[];for(l=0;l<arguments.length;l++)u[l]=arguments[l];return(b=!1!==(d=a)&&d!==f&&null!=d?d:g)===f||null==b||b.$$is_boolean&&1!=b?this.$size():(b=(d=this,c.find_super_dispatcher(this,"count",Y,!1)),b.$$p=e,b).apply(d,u)},Y.$$arity=-1);c.defn(w,"$initialize_copy",ea=function(a){return this.$replace(a)},ea.$$arity=1);c.defn(w,"$collect",ca=function(){var a,b,d=ca.$$p||f;ca.$$p=null;if(d===f)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,
b),a).call(this,"collect");a=[];for(var e=0,g=this.length;e<g;e++){var u=c.yield1(d,this[e]);a.push(u)}return a},ca.$$arity=0);c.defn(w,"$collect!",B=function(){var a,b,d=B.$$p||f;B.$$p=null;if(d===f)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),a).call(this,"collect!");a=0;for(var e=this.length;a<e;a++){var g=c.yield1(d,this[a]);this[a]=g}return this},B.$$arity=0);c.defn(w,"$combination",Q=function(a){var b,d,e=Q.$$p||f,g=f;Q.$$p=null;g=k.get("Opal")["$coerce_to!"](a,
k.get("Integer"),"to_int");if(e===f)return(b=this.$enum_for,b.$$p=(d=function(){return m((d.$$s||this).length,g)},d.$$s=this,d.$$arity=0,d),b).call(this,"combination",g);var u,l;if(0===g)c.yield1(e,[]);else if(1===g)for(b=0,a=this.length;b<a;b++)c.yield1(e,[this[b]]);else if(g===this.length)c.yield1(e,this.slice());else if(0<=g&&g<this.length){a=[];for(b=0;b<=g+1;b++)a.push(0);b=[];u=0;l=!1;for(a[0]=-1;!l;){for(b[u]=this[a[u+1]];u<g-1;)u++,l=a[u+1]=a[u]+1,b[u]=this[l];c.yield1(e,b.slice());u++;do l=
0===u,a[u]++,u--;while(a[u+1]+g===this.length+u+1)}}return this},Q.$$arity=1);c.defn(w,"$repeated_combination",Z=function(a){function b(a,d,e,f){if(e.length==a)a=e.slice(),c.yield1(g,a);else for(;d<f.length;d++)e.push(f[d]),b(a,d,e,f),e.pop()}var d,e,g=Z.$$p||f,u=f;Z.$$p=null;u=k.get("Opal")["$coerce_to!"](a,k.get("Integer"),"to_int");if(g===f)return(d=this.$enum_for,d.$$p=(e=function(){return m((e.$$s||this).length+u-1,u)},e.$$s=this,e.$$arity=0,e),d).call(this,"repeated_combination",u);0<=u&&b(u,
0,[],this);return this},Z.$$arity=1);c.defn(w,"$compact",R=function(){for(var a=[],b=0,c=this.length,d;b<c;b++)(d=this[b])!==f&&a.push(d);return a},R.$$arity=0);c.defn(w,"$compact!",ba=function(){for(var a=this.length,b=0,c=this.length;b<c;b++)this[b]===f&&(this.splice(b,1),c--,b--);return this.length===a?f:this},ba.$$arity=0);c.defn(w,"$concat",ga=function(a){var b;a=(b=k.get("Array")["$==="](a))===f||null==b||b.$$is_boolean&&1!=b?k.get("Opal").$coerce_to(a,k.get("Array"),"to_ary").$to_a():a.$to_a();
b=0;for(var c=a.length;b<c;b++)this.push(a[b]);return this},ga.$$arity=1);c.defn(w,"$delete",ia=function(a){var b=ia.$$p||f;ia.$$p=null;for(var d=this.length,e=0,g=d;e<g;e++)this[e]["$=="](a)&&(this.splice(e,1),g--,e--);return this.length===d?b!==f?c.yieldX(b,[]):f:a},ia.$$arity=1);c.defn(w,"$delete_at",ma=function(a){a=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return f;var b=this[a];this.splice(a,1);return b},ma.$$arity=1);c.defn(w,"$delete_if",
la=function(){var a,b,c=la.$$p||f;la.$$p=null;if(c===f)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),a).call(this,"delete_if");a=0;for(var d=this.length,e;a<d;a++)e=c(this[a]),!1!==e&&e!==f&&(this.splice(a,1),d--,a--);return this},la.$$arity=0);c.defn(w,"$drop",na=function(a){0>a&&this.$raise(k.get("ArgumentError"));return this.slice(a)},na.$$arity=1);c.defn(w,"$dup",fa=function(){var a,b=fa.$$p,d=f,e=f;fa.$$p=null;d=[];for(e=0;e<arguments.length;e++)d[e]=
arguments[e];return this.$$class===c.Array&&this.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):(a=c.find_super_dispatcher(this,"dup",fa,!1),a.$$p=b,a).apply(this,d)},fa.$$arity=0);c.defn(w,"$each",T=function(){var a,b,d=T.$$p||f;T.$$p=null;if(d===f)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),a).call(this,"each");a=0;for(var e=this.length;a<e;a++)c.yield1(d,this[a]);return this},T.$$arity=
0);c.defn(w,"$each_index",ja=function(){var a,b,d=ja.$$p||f;ja.$$p=null;if(d===f)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),a).call(this,"each_index");a=0;for(var e=this.length;a<e;a++)c.yield1(d,a);return this},ja.$$arity=0);c.defn(w,"$empty?",L=function(){return 0===this.length},L.$$arity=0);c.defn(w,"$eql?",O=function(a){function b(a,d){var e,f,g,u;if(!d.$$is_array)return!1;d=d.$to_a();if(a.length!==d.length)return!1;c[a.$object_id()]=!0;
e=0;for(f=a.length;e<f;e++)if(g=a[e],u=d[e],g.$$is_array){if(u.$$is_array&&u.length!==g.length||!c.hasOwnProperty(g.$object_id())&&!b(g,u))return!1}else if(!g["$eql?"](u))return!1;return!0}var c={};return b(this,a)},O.$$arity=1);c.defn(w,"$fetch",ka=function(a,b){var c=ka.$$p||f;ka.$$p=null;var d=a;a=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];if(c!==f)return c(d);if(null!=b)return b;0===this.length?this.$raise(k.get("IndexError"),
"index "+d+" outside of array bounds: 0...0"):this.$raise(k.get("IndexError"),"index "+d+" outside of array bounds: -"+this.length+"..."+this.length)},ka.$$arity=-2);c.defn(w,"$fill",J=function(a){var b,d,e,g=J.$$p||f,u=e=f,l=f,u=d=f;d=arguments.length;e=d-0;0>e&&(e=0);e=Array(e);for(u=0;u<d;u++)e[u-0]=arguments[u];J.$$p=null;!1!==g&&g!==f&&null!=g?((b=2<e.length)===f||null==b||b.$$is_boolean&&1!=b||this.$raise(k.get("ArgumentError"),"wrong number of arguments ("+e.$length()+" for 0..2)"),d=e,b=c.to_ary(d),
e=null==b[0]?f:b[0],u=null==b[1]?f:b[1]):((b=0==e.length)===f||null==b||b.$$is_boolean&&1!=b?(b=3<e.length)===f||null==b||b.$$is_boolean&&1!=b||this.$raise(k.get("ArgumentError"),"wrong number of arguments ("+e.$length()+" for 1..3)"):this.$raise(k.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),d=e,b=c.to_ary(d),l=null==b[0]?f:b[0],e=null==b[1]?f:b[1],u=null==b[2]?f:b[2]);d;if((b=k.get("Range")["$==="](e))===f||null==b||b.$$is_boolean&&1!=b)if(!1!==e&&e!==f&&null!=e)if(d=k.get("Opal").$coerce_to(e,
k.get("Integer"),"to_int"),(b=0>d)===f||null==b||b.$$is_boolean&&1!=b||(d+=this.length),(b=0>d)===f||null==b||b.$$is_boolean&&1!=b||(d=0),!1!==u&&u!==f&&null!=u){u=k.get("Opal").$coerce_to(u,k.get("Integer"),"to_int");if((b=0==u)!==f&&null!=b&&(!b.$$is_boolean||1==b))return this;u+=d}else u=this.length;else d=0,u=this.length;else{!1!==u&&u!==f&&null!=u&&this.$raise(k.get("TypeError"),"length invalid with range");d=k.get("Opal").$coerce_to(e.$begin(),k.get("Integer"),"to_int");(b=0>d)===f||null==b||
b.$$is_boolean&&1!=b||(d+=this.length);(b=0>d)===f||null==b||b.$$is_boolean&&1!=b||this.$raise(k.get("RangeError"),""+e.$inspect()+" out of range");u=k.get("Opal").$coerce_to(e.$end(),k.get("Integer"),"to_int");(b=0>u)===f||null==b||b.$$is_boolean&&1!=b||(u+=this.length);if((b=e["$exclude_end?"]())===f||null==b||b.$$is_boolean&&1!=b)u+=1;if((b=u<=d)!==f&&null!=b&&(!b.$$is_boolean||1==b))return this}if((b=d>this.length)!==f&&null!=b&&(!b.$$is_boolean||1==b))for(e=this.length;e<u;e++)this[e]=f;(b=u>
this.length)===f||null==b||b.$$is_boolean&&1!=b||(this.length=u);if(!1!==g&&g!==f&&null!=g)for(;d<u;d++)b=g(d),this[d]=b;else for(;d<u;d++)this[d]=l;return this},J.$$arity=-1);c.defn(w,"$first",pa=function(a){if(null==a)return 0===this.length?f:this[0];a=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int");0>a&&this.$raise(k.get("ArgumentError"),"negative array size");return this.slice(0,a)},pa.$$arity=-1);c.defn(w,"$flatten",ra=function(a){function c(a,b){var e=[],g,u,l,m;a=a.$to_a();g=0;for(u=
a.length;g<u;g++)if(l=a[g],k.get("Opal")["$respond_to?"](l,"to_ary"))if(m=l.$to_ary(),m===f)e.push(l);else switch(m.$$is_array||d.$raise(k.get("TypeError")),m===d&&d.$raise(k.get("ArgumentError")),b){case void 0:e=e.concat(c(m));break;case 0:e.push(m);break;default:e.push.apply(e,c(m,b-1))}else e.push(l);return e}var d=this;void 0!==a&&(a=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int"));return b(c(d,a),d.$class())},ra.$$arity=-1);c.defn(w,"$flatten!",ua=function(a){a=this.$flatten(a);if(this.length==
a.length){for(var b=0,c=this.length;b<c&&this[b]===a[b];b++);if(b==c)return f}this.$replace(a);return this},ua.$$arity=-1);c.defn(w,"$hash",ta=function(){var a=void 0==c.hash_ids,b=["A"],d=this.$object_id(),e,f,g;try{a&&(c.hash_ids={});if(c.hash_ids.hasOwnProperty(d))return"self";for(g in c.hash_ids)if(c.hash_ids.hasOwnProperty(g)&&(e=c.hash_ids[g],this["$eql?"](e)))return"self";c.hash_ids[d]=this;for(f=0;f<this.length;f++)e=this[f],b.push(e.$hash());return b.join(",")}finally{a&&delete c.hash_ids}},
ta.$$arity=0);c.defn(w,"$include?",ha=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]["$=="](a))return!0;return!1},ha.$$arity=1);c.defn(w,"$index",za=function(a){var b=za.$$p||f;za.$$p=null;var c,d;if(null!=a)for(c=0,d=this.length;c<d;c++){if(this[c]["$=="](a))return c}else if(b!==f)for(c=0,d=this.length;c<d;c++){if(a=b(this[c]),!1!==a&&a!==f)return c}else return this.$enum_for("index");return f},za.$$arity=-1);c.defn(w,"$insert",va=function(a,b){var c,d=arguments.length;c=d-1;0>c&&(c=0);
c=Array(c);for(var e=1;e<d;e++)c[e-1]=arguments[e];a=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int");if(0<c.length){0>a&&(a+=this.length+1,0>a&&this.$raise(k.get("IndexError"),""+a+" is out of bounds"));if(a>this.length)for(d=this.length;d<a;d++)this.push(f);this.splice.apply(this,[a,0].concat(c))}return this},va.$$arity=-2);c.defn(w,"$inspect",ya=function(){for(var a=[],b=this.$__id__(),c=0,d=this.length;c<d;c++){var e=this["$[]"](c);e.$__id__()===b?a.push("[...]"):a.push(e.$inspect())}return"["+
a.join(", ")+"]"},ya.$$arity=0);c.defn(w,"$join",wa=function(a){var b;null==e[","]&&(e[","]=f);null==a&&(a=f);if((b=0===this.length)!==f&&null!=b&&(!b.$$is_boolean||1==b))return"";(b=a===f)===f||null==b||b.$$is_boolean&&1!=b||(a=e[","]);b=[];var c,d,g,u;c=0;for(d=this.length;c<d;c++){g=this[c];if(k.get("Opal")["$respond_to?"](g,"to_str")&&(u=g.$to_str(),u!==f)){b.push(u.$to_s());continue}if(k.get("Opal")["$respond_to?"](g,"to_ary")&&(u=g.$to_ary(),u===this&&this.$raise(k.get("ArgumentError")),u!==
f)){b.push(u.$join(a));continue}if(k.get("Opal")["$respond_to?"](g,"to_s")&&(u=g.$to_s(),u!==f)){b.push(u);continue}this.$raise(k.get("NoMethodError").$new(""+k.get("Opal").$inspect(g)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===f?b.join(""):b.join(k.get("Opal")["$coerce_to!"](a,k.get("String"),"to_str").$to_s())},wa.$$arity=-1);c.defn(w,"$keep_if",P=function(){var a,b,c=P.$$p||f;P.$$p=null;if(c===f)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},
b.$$s=this,b.$$arity=0,b),a).call(this,"keep_if");a=0;for(var d=this.length,e;a<d;a++)if(e=c(this[a]),!1===e||e===f)this.splice(a,1),d--,a--;return this},P.$$arity=0);c.defn(w,"$last",u=function(a){if(null==a)return 0===this.length?f:this[this.length-1];a=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int");0>a&&this.$raise(k.get("ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},u.$$arity=-1);c.defn(w,"$length",da=function(){return this.length},
da.$$arity=0);c.alias(w,"map","collect");c.alias(w,"map!","collect!");c.defn(w,"$permutation",qa=function(a){var b,d,e,g=this,u=qa.$$p||f,l=f,m=f;qa.$$p=null;if(u===f)return(b=(d=g).$enum_for,b.$$p=(e=function(){for(var b=e.$$s||this,c=b.length,b=void 0===a?b.length:a,d=0<=b?1:0;b;)d*=c,c--,b--;return d},e.$$s=g,e.$$arity=0,e),b).call(d,"permutation",a);var P,H;a=void 0===a?g.length:k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int");if(!(0>a||g.length<a))if(0===a)c.yield1(u,[]);else if(1===a)for(l=
0;l<g.length;l++)c.yield1(u,[g[l]]);else l=k.get("Array").$new(a),m=k.get("Array").$new(g.length,!1),P=function(a,b,d,e,f){g=this;for(var u=0;u<g.length;u++)if(e["$[]"](u)["$!"]())if(b[d]=u,d<a-1)e[u]=!0,P.call(g,a,b,d+1,e,f),e[u]=!1;else{H=[];for(var l=0;l<b.length;l++)H.push(g[b[l]]);c.yield1(f,H)}},u!==f?(b=g.slice(),P.call(b,a,l,0,m,u)):P.call(g,a,l,0,m,u);return g},qa.$$arity=-1);c.defn(w,"$repeated_permutation",sa=function(a){function b(a,d,e){if(d.length==a)a=d.slice(),c.yield1(g,a);else for(var f=
0;f<e.length;f++)d.push(e[f]),b(a,d,e),d.pop()}var d,e,g=sa.$$p||f,u=f;sa.$$p=null;u=k.get("Opal")["$coerce_to!"](a,k.get("Integer"),"to_int");if(g===f)return(d=this.$enum_for,d.$$p=(e=function(){var a=e.$$s||this,b;return(b="number"===typeof u?0<=u:u["$>="](0))===f||null==b||b.$$is_boolean&&1!=b?0:a.$size()["$**"](u)},e.$$s=this,e.$$arity=0,e),d).call(this,"repeated_permutation",u);b(u,[],this.slice());return this},sa.$$arity=1);c.defn(w,"$pop",Ca=function(a){var b;if((b=void 0===a)!==f&&null!=b&&
(!b.$$is_boolean||1==b))return(b=0===this.length)===f||null==b||b.$$is_boolean&&1!=b?this.pop():f;a=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int");(b=0>a)===f||null==b||b.$$is_boolean&&1!=b||this.$raise(k.get("ArgumentError"),"negative array size");return(b=0===this.length)===f||null==b||b.$$is_boolean&&1!=b?(b=a>this.length)===f||null==b||b.$$is_boolean&&1!=b?this.splice(this.length-a,this.length):this.splice(0,this.length):[]},Ca.$$arity=-1);c.defn(w,"$product",Da=function(a){var b,d=Da.$$p||
f,e=arguments.length,g=e-0;0>g&&(g=0);b=Array(g);for(g=0;g<e;g++)b[g-0]=arguments[g];Da.$$p=null;var e=d!==f?null:[],g=b.length+1,u=Array(g),l=Array(g),m=Array(g),P,H=1;m[0]=this;for(P=1;P<g;P++)m[P]=k.get("Opal").$coerce_to(b[P-1],k.get("Array"),"to_ary");for(P=0;P<g;P++){b=m[P].length;if(0===b)return e||this;H*=b;2147483647<H&&this.$raise(k.get("RangeError"),"too big to product");l[P]=b;u[P]=0}a:for(;;){b=[];for(P=0;P<g;P++)b.push(m[P][u[P]]);e?e.push(b):c.yield1(d,b);b=g-1;for(u[b]++;u[b]===l[b];){u[b]=
0;if(0>--b)break a;u[b]++}}return e||this},Da.$$arity=-1);c.defn(w,"$push",Ea=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];c=0;for(d=b.length;c<d;c++)this.push(b[c]);return this},Ea.$$arity=-1);c.defn(w,"$rassoc",Aa=function(a){for(var b=0,c=this.length,d;b<c;b++)if(d=this[b],d.length&&void 0!==d[1]&&d[1]["$=="](a))return d;return f},Aa.$$arity=1);c.defn(w,"$reject",aa=function(){var a,b,c=aa.$$p||f;aa.$$p=null;if(c===f)return(a=this.$enum_for,
a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),a).call(this,"reject");a=[];for(var d=0,e=this.length,g;d<e;d++)g=c(this[d]),!1!==g&&g!==f||a.push(this[d]);return a},aa.$$arity=0);c.defn(w,"$reject!",xa=function(){var a,b,c=xa.$$p||f,d=f;xa.$$p=null;if(c===f)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),a).call(this,"reject!");d=this.$length();(a=this.$delete_if,a.$$p=c.$to_proc(),a).call(this);return this.$length()["$=="](d)?
f:this},xa.$$arity=0);c.defn(w,"$replace",V=function(a){var b;a=(b=k.get("Array")["$==="](a))===f||null==b||b.$$is_boolean&&1!=b?k.get("Opal").$coerce_to(a,k.get("Array"),"to_ary").$to_a():a.$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},V.$$arity=1);c.defn(w,"$reverse",X=function(){return this.slice(0).reverse()},X.$$arity=0);c.defn(w,"$reverse!",H=function(){return this.reverse()},H.$$arity=0);c.defn(w,"$reverse_each",W=function(){var a,b,c,d=W.$$p||f;W.$$p=null;if(d===
f)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),a).call(this,"reverse_each");(a=(c=this.$reverse()).$each,a.$$p=d.$to_proc(),a).call(c);return this},W.$$arity=0);c.defn(w,"$rindex",Ba=function(a){var b=Ba.$$p||f;Ba.$$p=null;var c;if(null!=a)for(c=this.length-1;0<=c&&!(c>=this.length);c--){if(this[c]["$=="](a))return c}else if(b!==f)for(c=this.length-1;0<=c&&!(c>=this.length);c--){if(a=b(this[c]),!1!==a&&a!==f)return c}else if(null==a)return this.$enum_for("rindex");
return f},Ba.$$arity=-1);c.defn(w,"$rotate",Fa=function(a){null==a&&(a=1);a=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int");var b,c;if(1===this.length)return this.slice();if(0===this.length)return[];b=this.slice();c=a%b.length;a=b.slice(c);b=b.slice(0,c);return a.concat(b)},Fa.$$arity=-1);c.defn(w,"$rotate!",oa=function(a){var b=f;null==a&&(a=1);if(0===this.length||1===this.length)return this;a=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int");b=this.$rotate(a);return this.$replace(b)},
oa.$$arity=-1);(function(a,$super){function b(){}var d=b=p(a,$super,"SampleRandom",b),e=d.$$scope,g,u;d.$$proto.rng=f;c.defn(d,"$initialize",g=function(a){return this.rng=a},g.$$arity=1);return(c.defn(d,"$rand",u=function(a){var b,c=f,c=e.get("Opal").$coerce_to(this.rng.$rand(a),e.get("Integer"),"to_int");(b=0>c)===f||null==b||b.$$is_boolean&&1!=b||this.$raise(e.get("RangeError"),"random value must be >= 0");((b=c<a)===f||null==b||b.$$is_boolean&&1!=b)&&this.$raise(e.get("RangeError"),"random value must be less than Array size");
return c},u.$$arity=1),f)&&"rand"})(k.base,null);c.defn(w,"$sample",Ua=function(a,b){var c,d=f,e=f;if((c=void 0===a)!==f&&null!=c&&(!c.$$is_boolean||1==c))return this.$at(k.get("Kernel").$rand(this.length));(c=void 0===b)===f||null==c||c.$$is_boolean&&1!=c?(a=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int"),b=k.get("Opal").$coerce_to(b,k.get("Hash"),"to_hash")):(c=d=k.get("Opal")["$coerce_to?"](a,k.get("Hash"),"to_hash"))===f||null==c||c.$$is_boolean&&1!=c?(b=f,a=k.get("Opal").$coerce_to(a,k.get("Integer"),
"to_int")):(b=d,a=f);(c=!1!==a&&a!==f&&null!=a?0>a:a)===f||null==c||c.$$is_boolean&&1!=c||this.$raise(k.get("ArgumentError"),"count must be greater than 0");!1!==b&&b!==f&&null!=b&&(e=b["$[]"]("random"));e=(c=!1!==e&&e!==f&&null!=e?e["$respond_to?"]("rand"):e)===f||null==c||c.$$is_boolean&&1!=c?k.get("Kernel"):k.get("SampleRandom").$new(e);if(!1===a||a===f||null==a)return this[e.$rand(this.length)];var g,u,l,m;a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[e.$rand(this.length)]];
case 2:return u=e.$rand(this.length),l=e.$rand(this.length),u===l&&(l=0===u?u+1:u-1),[this[u],this[l]];default:if(3<this.length/a){d=!1;g=0;c=k.get("Array").$new(a);u=1;for(c[0]=e.$rand(this.length);u<a;){m=e.$rand(this.length);for(l=0;l<u;){for(;m===c[l];){g++;if(100<g){d=!0;break}m=e.$rand(this.length)}if(d)break;l++}if(d)break;c[u]=m;u++}if(!d){for(u=0;u<a;)c[u]=this[c[u]],u++;return c}}c=this.slice();for(u=0;u<a;u++)d=e.$rand(this.length),g=c[u],c[u]=c[d],c[d]=g;return a===this.length?c:c["$[]"](0,
a)}},Ua.$$arity=-1);c.defn(w,"$select",Ka=function(){var a,b,d=Ka.$$p||f;Ka.$$p=null;if(d===f)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),a).call(this,"select");a=[];for(var e=0,g=this.length,u,l;e<g;e++)u=this[e],l=c.yield1(d,u),!1!==l&&l!==f&&a.push(u);return a},Ka.$$arity=0);c.defn(w,"$select!",La=function(){var a,b,c=La.$$p||f;La.$$p=null;if(c===f)return(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=
0,b),a).call(this,"select!");var d=this.length;(a=this.$keep_if,a.$$p=c.$to_proc(),a).call(this);return this.length===d?f:this},La.$$arity=0);c.defn(w,"$shift",Qa=function(a){var b;if((b=void 0===a)!==f&&null!=b&&(!b.$$is_boolean||1==b))return(b=0===this.length)===f||null==b||b.$$is_boolean&&1!=b?this.shift():f;a=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int");(b=0>a)===f||null==b||b.$$is_boolean&&1!=b||this.$raise(k.get("ArgumentError"),"negative array size");return(b=0===this.length)===f||
null==b||b.$$is_boolean&&1!=b?this.splice(0,a):[]},Qa.$$arity=-1);c.alias(w,"size","length");c.defn(w,"$shuffle",Ra=function(a){return this.$dup().$to_a()["$shuffle!"](a)},Ra.$$arity=-1);c.defn(w,"$shuffle!",Va=function(a){var b,c=this.length,d;void 0!==a&&(a=k.get("Opal")["$coerce_to?"](a,k.get("Hash"),"to_hash"),a!==f&&(a=a["$[]"]("random"),a!==f&&a["$respond_to?"]("rand")&&(b=a)));for(;c;)b?(a=b.$rand(c).$to_int(),0>a&&this.$raise(k.get("RangeError"),"random number too small "+a),a>=c&&this.$raise(k.get("RangeError"),
"random number too big "+a)):a=Math.floor(Math.random()*c),d=this[--c],this[c]=this[a],this[a]=d;return this},Va.$$arity=-1);c.alias(w,"slice","[]");c.defn(w,"$slice!",Wa=function(a,b){var c,d=f,e=f,g=f,u=f,e=f;if((c=void 0===b)===f||null==c||c.$$is_boolean&&1!=c){e=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int");b=k.get("Opal").$coerce_to(b,k.get("Integer"),"to_int");if(0>b)return f;d=this["$[]"](e,b);0>e&&(e+=this.length);e+b>this.length&&(b=this.length-e);e<this.length&&0<=e&&this.splice(e,
b)}else if((c=k.get("Range")["$==="](a))===f||null==c||c.$$is_boolean&&1!=c){e=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int");0>e&&(e+=this.length);if(0>e||e>=this.length)return f;d=this[e];0===e?this.shift():this.splice(e,1)}else e=a,d=this["$[]"](e),g=k.get("Opal").$coerce_to(e.$begin(),k.get("Integer"),"to_int"),u=k.get("Opal").$coerce_to(e.$end(),k.get("Integer"),"to_int"),0>g&&(g+=this.length),0>u?u+=this.length:u>=this.length&&(u=this.length-1,e.exclude&&(u+=1)),c=u-g,e.exclude?--u:c+=
1,g<this.length&&0<=g&&u<this.length&&0<=u&&0<c&&this.splice(g,c);return d},Wa.$$arity=-2);c.defn(w,"$sort",Ia=function(){var a,b=this,c=Ia.$$p||f;Ia.$$p=null;if((a=1<b.length)===f||null==a||a.$$is_boolean&&1!=a)return b;c===f&&(c=function(a,b){return a["$<=>"](b)});return b.slice().sort(function(a,d){var e=c(a,d);e===f&&b.$raise(k.get("ArgumentError"),"comparison of "+a.$inspect()+" with "+d.$inspect()+" failed");return r(e,0)?1:("number"===typeof e?0>e:e["$<"](0))?-1:0})},Ia.$$arity=0);c.defn(w,
"$sort!",Ja=function(){var a,b,c=Ja.$$p||f;Ja.$$p=null;c=c!==f?(a=(b=this.slice()).$sort,a.$$p=c.$to_proc(),a).call(b):this.slice().$sort();a=this.length=0;for(b=c.length;a<b;a++)this.push(c[a]);return this},Ja.$$arity=0);c.defn(w,"$sort_by!",Ma=function(){var a,b,c=Ma.$$p||f;Ma.$$p=null;return c===f?(a=this.$enum_for,a.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),a).call(this,"sort_by!"):this.$replace((a=this.$sort_by,a.$$p=c.$to_proc(),a).call(this))},Ma.$$arity=0);c.defn(w,
"$take",Xa=function(a){0>a&&this.$raise(k.get("ArgumentError"));return this.slice(0,a)},Xa.$$arity=1);c.defn(w,"$take_while",Na=function(){var a=Na.$$p||f;Na.$$p=null;for(var b=[],c=0,d=this.length,e,g;c<d;c++){e=this[c];g=a(e);if(!1===g||g===f)break;b.push(e)}return b},Na.$$arity=0);c.defn(w,"$to_a",Ya=function(){return this},Ya.$$arity=0);c.alias(w,"to_ary","to_a");c.defn(w,"$to_h",Za=function(){var a,b=this.length,d,e,f=n([],{});for(a=0;a<b;a++)d=k.get("Opal")["$coerce_to?"](this[a],k.get("Array"),
"to_ary"),d.$$is_array||this.$raise(k.get("TypeError"),"wrong element type "+d.$class()+" at "+a+" (expected array)"),2!==d.length&&this.$raise(k.get("ArgumentError"),"wrong array length at "+a+" (expected 2, was "+d.$length()+")"),e=d[0],d=d[1],c.hash_put(f,e,d);return f},Za.$$arity=0);c.alias(w,"to_s","inspect");c.defn(w,"$transpose",ab=function(){var a,b,c=f,d=f;if((a=this["$empty?"]())!==f&&null!=a&&(!a.$$is_boolean||1==a))return[];c=[];d=f;(a=this.$each,a.$$p=(b=function(a){var e=b.$$s||this,
g,u,l;null==a&&(a=f);a=(g=k.get("Array")["$==="](a))===f||null==g||g.$$is_boolean&&1!=g?k.get("Opal").$coerce_to(a,k.get("Array"),"to_ary").$to_a():a.$to_a();!1!==(g=d)&&g!==f&&null!=g?g:d=a.length;(g=a.length["$!="](d))===f||null==g||g.$$is_boolean&&1!=g||e.$raise(k.get("IndexError"),"element size differs ("+a.length+" should be "+d);return(g=(u=a.length).$times,g.$$p=(l=function(b){var d,e,g,u=f;null==b&&(b=f);u=(d=b,e=c,!1!==(g=e["$[]"](d))&&g!==f&&null!=g?g:e["$[]="](d,[]));return u["$<<"](a.$at(b))},
l.$$s=e,l.$$arity=1,l),g).call(u)},b.$$s=this,b.$$arity=1,b),a).call(this);return c},ab.$$arity=0);c.defn(w,"$uniq",Oa=function(){var a=Oa.$$p||f;Oa.$$p=null;var d=n([],{}),e,g,u,l;if(a===f)for(e=0,g=this.length;e<g;e++)u=this[e],void 0===c.hash_get(d,u)&&c.hash_put(d,u,u);else for(e=0,g=this.length;e<g;e++)u=this[e],l=c.yield1(a,u),void 0===c.hash_get(d,l)&&c.hash_put(d,l,u);return b(d.$values(),this.$class())},Oa.$$arity=0);c.defn(w,"$uniq!",Pa=function(){var a=Pa.$$p||f;Pa.$$p=null;var b=this.length,
d=n([],{}),e,g,u,l;e=0;for(g=b;e<g;e++)u=this[e],l=a===f?u:c.yield1(a,u),void 0===c.hash_get(d,l)?c.hash_put(d,l,u):(this.splice(e,1),g--,e--);return this.length===b?f:this},Pa.$$arity=0);c.defn(w,"$unshift",bb=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];for(c=b.length-1;0<=c;c--)this.unshift(b[c]);return this},bb.$$arity=-1);c.defn(w,"$values_at",Ta=function(a){var b,c,d,e=f,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var u=0;u<
g;u++)d[u-0]=arguments[u];e=[];(b=d.$each,b.$$p=(c=function(a){var b=c.$$s||this,d,g,u,l=f,m=f,l=f;null==a&&(a=f);if((d=a["$kind_of?"](k.get("Range")))===f||null==d||d.$$is_boolean&&1!=d)return l=k.get("Opal").$coerce_to(a,k.get("Integer"),"to_int"),e["$<<"](b.$at(l));l=k.get("Opal").$coerce_to(a.$last(),k.get("Integer"),"to_int");m=k.get("Opal").$coerce_to(a.$first(),k.get("Integer"),"to_int");if(0>m)return m+=b.length,f;0>l&&(l+=b.length);a["$exclude_end?"]()&&l--;return l<m?f:(d=(g=m).$upto,d.$$p=
(u=function(a){var b=u.$$s||this;null==a&&(a=f);return e["$<<"](b.$at(a))},u.$$s=b,u.$$arity=1,u),d).call(g,l)},c.$$s=this,c.$$arity=1,c),b).call(d);return e},Ta.$$arity=-1);c.defn(w,"$zip",Ha=function(a){var b,c,d=Ha.$$p||f,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var g=0;g<e;g++)c[g-0]=arguments[g];Ha.$$p=null;var e=[],g=this.length,u,l,m,P;m=0;for(P=c.length;m<P;m++)u=c[m],u.$$is_array||(u.$$is_enumerator?Infinity===u.$size()?c[m]=u.$take(g):c[m]=u.$to_a():c[m]=(!1!==(b=k.get("Opal")["$coerce_to?"](u,
k.get("Array"),"to_ary"))&&b!==f&&null!=b?b:k.get("Opal")["$coerce_to!"](u,k.get("Enumerator"),"each")).$to_a());for(l=0;l<g;l++){b=[this[l]];m=0;for(P=c.length;m<P;m++)u=c[m][l],null==u&&(u=f),b[m+1]=u;e[l]=b}if(d!==f){for(l=0;l<g;l++)d(e[l]);return f}return e},Ha.$$arity=-1);c.defs(w,"$inherited",Sa=function(a){a.$$proto.$to_a=function(){return this.slice(0,this.length)}},Sa.$$arity=1);c.defn(w,"$instance_variables",Ga=function(){var a,b,d,e,g=Ga.$$p,u=f,l=f;Ga.$$p=null;u=[];for(l=0;l<arguments.length;l++)u[l]=
arguments[l];return(a=(b=(e=c.find_super_dispatcher(this,"instance_variables",Ga,!1),e.$$p=g,e).apply(this,u)).$reject,a.$$p=(d=function(a){var b;null==a&&(a=f);return!1!==(b=/^@\d+$/.test(a))&&b!==f&&null!=b?b:a["$=="]("@length")},d.$$s=this,d.$$arity=1,d),a).call(b)},Ga.$$arity=0);return k.get("Opal").$pristine(w,"allocate","copy_instance_variables","initialize_dup")}(c.base,Array)},Opal.modules["corelib/hash"]=function(c){var r=c.top,a=c.nil,f=c.klass;c.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $== $coerce_to! $lambda? $abs $arity $call $enum_for $size $inspect $flatten $eql? $default $to_proc $dup $=== $default_proc $default_proc= $default= $alias_method".split(" "));
r.$require("corelib/enumerable");return function(p,$super){function e(){}var g=e=f(p,$super,"Hash",e),h=g.$$proto,d=g.$$scope,b,m,w,t,k,l,M,x,C,E,D,y,v,N,F,I,G,K,z,q,A,U,r,Y,ea,ca,B,Q,Z,R,ba,ga,ia,ma,la,na,fa,T,ja,L,O,ka,J,pa,ra,ua;g.$include(d.get("Enumerable"));h.$$is_hash=!0;c.defs(g,"$[]",b=function(b){var c,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];var f=c.length,g;if(1===f){e=d.get("Opal")["$coerce_to?"](c["$[]"](0),d.get("Hash"),"to_hash");if(e!==
a)return this.$allocate()["$merge!"](e);c=d.get("Opal")["$coerce_to?"](c["$[]"](0),d.get("Array"),"to_ary");c===a&&this.$raise(d.get("ArgumentError"),"odd number of arguments for Hash");f=c.length;e=this.$allocate();for(g=0;g<f;g++)if(c[g].$$is_array)switch(c[g].length){case 1:e.$store(c[g][0],a);break;case 2:e.$store(c[g][0],c[g][1]);break;default:this.$raise(d.get("ArgumentError"),"invalid number of elements ("+c[g].length+" for 1..2)")}return e}0!==f%2&&this.$raise(d.get("ArgumentError"),"odd number of arguments for Hash");
e=this.$allocate();for(g=0;g<f;g+=2)e.$store(c[g],c[g+1]);return e},b.$$arity=-1);c.defs(g,"$allocate",m=function(){var b=new this.$$alloc;c.hash_init(b);b.$$none=a;b.$$proc=a;return b},m.$$arity=0);c.defs(g,"$try_convert",w=function(a){return d.get("Opal")["$coerce_to?"](a,d.get("Hash"),"to_hash")},w.$$arity=1);c.defn(g,"$initialize",t=function(b){var c=t.$$p||a;t.$$p=null;void 0!==b&&c!==a&&this.$raise(d.get("ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===b?a:b;this.$$proc=
c;return this},t.$$arity=-1);c.defn(g,"$==",k=function(a){if(this===a)return!0;if(!a.$$is_hash||this.$$keys.length!==a.$$keys.length)return!1;for(var b=0,d=this.$$keys,e=d.length,f,g;b<e;b++)if(f=d[b],f.$$is_string?(g=this.$$smap[f],f=a.$$smap[f]):(g=f.value,f=c.hash_get(a,f.key)),void 0===f||!g["$eql?"](f))return!1;return!0},k.$$arity=1);c.defn(g,"$[]",l=function(a){var b=c.hash_get(this,a);return void 0!==b?b:this.$default(a)},l.$$arity=1);c.defn(g,"$[]=",M=function(a,b){c.hash_put(this,a,b);return b},
M.$$arity=2);c.defn(g,"$assoc",x=function(b){for(var c=0,d=this.$$keys,e=d.length,f;c<e;c++)if(f=d[c],f.$$is_string){if(f["$=="](b))return[f,this.$$smap[f]]}else if(f.key["$=="](b))return[f.key,f.value];return a},x.$$arity=1);c.defn(g,"$clear",C=function(){c.hash_init(this);return this},C.$$arity=0);c.defn(g,"$clone",E=function(){var a=new this.$$class.$$alloc;c.hash_init(a);c.hash_clone(this,a);return a},E.$$arity=0);c.defn(g,"$default",D=function(b){return void 0!==b&&this.$$proc!==a&&void 0!==
this.$$proc?this.$$proc.$call(this,b):void 0===this.$$none?a:this.$$none},D.$$arity=-1);c.defn(g,"$default=",y=function(b){this.$$proc=a;return this.$$none=b},y.$$arity=1);c.defn(g,"$default_proc",v=function(){return void 0!==this.$$proc?this.$$proc:a},v.$$arity=0);c.defn(g,"$default_proc=",N=function(b){b!==a&&(b=d.get("Opal")["$coerce_to!"](b,d.get("Proc"),"to_proc"),b["$lambda?"]()&&2!==b.$arity().$abs()&&this.$raise(d.get("TypeError"),"default_proc takes two arguments"));this.$$none=a;return this.$$proc=
b},N.$$arity=1);c.defn(g,"$delete",F=function(b){var d=F.$$p||a;F.$$p=null;var e=c.hash_delete(this,b);return void 0!==e?e:d!==a?d.$call(b):a},F.$$arity=1);c.defn(g,"$delete_if",I=function(){var b,d,e=I.$$p||a;I.$$p=null;if(!1===e||e===a||null==e)return(b=this.$enum_for,b.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d),b).call(this,"delete_if");b=0;for(var f=this.$$keys,g=f.length,h,u;b<g;b++)h=f[b],h.$$is_string?u=this.$$smap[h]:(u=h.value,h=h.key),u=e(h,u),!1!==u&&u!==a&&
void 0!==c.hash_delete(this,h)&&(g--,b--);return this},I.$$arity=0);c.alias(g,"dup","clone");c.defn(g,"$each",G=function(){var b,d,e=G.$$p||a;G.$$p=null;if(!1===e||e===a||null==e)return(b=this.$enum_for,b.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d),b).call(this,"each");b=0;for(var f=this.$$keys,g=f.length,h,u;b<g;b++)h=f[b],h.$$is_string?u=this.$$smap[h]:(u=h.value,h=h.key),c.yield1(e,[h,u]);return this},G.$$arity=0);c.defn(g,"$each_key",K=function(){var b,c,d=K.$$p||
a;K.$$p=null;if(!1===d||d===a||null==d)return(b=this.$enum_for,b.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),b).call(this,"each_key");b=0;for(var e=this.$$keys,f=e.length,g;b<f;b++)g=e[b],d(g.$$is_string?g:g.key);return this},K.$$arity=0);c.alias(g,"each_pair","each");c.defn(g,"$each_value",z=function(){var b,c,d=z.$$p||a;z.$$p=null;if(!1===d||d===a||null==d)return(b=this.$enum_for,b.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),b).call(this,
"each_value");b=0;for(var e=this.$$keys,f=e.length,g;b<f;b++)g=e[b],d(g.$$is_string?this.$$smap[g]:g.value);return this},z.$$arity=0);c.defn(g,"$empty?",q=function(){return 0===this.$$keys.length},q.$$arity=0);c.alias(g,"eql?","==");c.defn(g,"$fetch",A=function(b,e){var f=A.$$p||a;A.$$p=null;var g=c.hash_get(this,b);return void 0!==g?g:f!==a?f(b):void 0!==e?e:this.$raise(d.get("KeyError"),"key not found: "+b.$inspect())},A.$$arity=-2);c.defn(g,"$flatten",U=function(a){null==a&&(a=1);a=d.get("Opal")["$coerce_to!"](a,
d.get("Integer"),"to_int");for(var b=[],c=0,e=this.$$keys,f=e.length,g,u;c<f;c++)g=e[c],g.$$is_string?u=this.$$smap[g]:(u=g.value,g=g.key),b.push(g),u.$$is_array?1===a?b.push(u):b=b.concat(u.$flatten(a-2)):b.push(u);return b},U.$$arity=-1);c.defn(g,"$has_key?",r=function(a){return void 0!==c.hash_get(this,a)},r.$$arity=1);c.defn(g,"$has_value?",Y=function(a){for(var b=0,c=this.$$keys,d=c.length,e;b<d;b++)if(e=c[b],(e.$$is_string?this.$$smap[e]:e.value)["$=="](a))return!0;return!1},Y.$$arity=1);c.defn(g,
"$hash",ea=function(){var a=void 0===c.hash_ids,b=this.$object_id(),d=["Hash"],e,f;try{a&&(c.hash_ids={});if(c.hash_ids.hasOwnProperty(b))return"self";for(e in c.hash_ids)if(c.hash_ids.hasOwnProperty(e)&&(f=c.hash_ids[e],this["$eql?"](f)))return"self";c.hash_ids[b]=this;for(var b=0,g=this.$$keys,u=g.length;b<u;b++)e=g[b],e.$$is_string?d.push([e,this.$$smap[e].$hash()]):d.push([e.key_hash,e.value.$hash()]);return d.sort().join()}finally{a&&delete c.hash_ids}},ea.$$arity=0);c.alias(g,"include?","has_key?");
c.defn(g,"$index",ca=function(b){for(var c=0,d=this.$$keys,e=d.length,f,g;c<e;c++)if(f=d[c],f.$$is_string?g=this.$$smap[f]:(g=f.value,f=f.key),g["$=="](b))return f;return a},ca.$$arity=1);c.defn(g,"$indexes",B=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];for(var d=[],e=0,f=b.length,g;e<f;e++)g=b[e],g=c.hash_get(this,g),void 0===g?d.push(this.$default()):d.push(g);return d},B.$$arity=-1);c.alias(g,"indices","indexes");var ta;c.defn(g,"$inspect",
Q=function(){var a=void 0===ta,b=this.$object_id(),c=[];try{a&&(ta={});if(ta.hasOwnProperty(b))return"{...}";ta[b]=!0;for(var b=0,d=this.$$keys,e=d.length,f,g;b<e;b++)f=d[b],f.$$is_string?g=this.$$smap[f]:(g=f.value,f=f.key),c.push(f.$inspect()+"=>"+g.$inspect());return"{"+c.join(", ")+"}"}finally{a&&(ta=void 0)}},Q.$$arity=0);c.defn(g,"$invert",Z=function(){for(var a=c.hash(),b=0,d=this.$$keys,e=d.length,f,g;b<e;b++)f=d[b],f.$$is_string?g=this.$$smap[f]:(g=f.value,f=f.key),c.hash_put(a,g,f);return a},
Z.$$arity=0);c.defn(g,"$keep_if",R=function(){var b,d,e=R.$$p||a;R.$$p=null;if(!1===e||e===a||null==e)return(b=this.$enum_for,b.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d),b).call(this,"keep_if");b=0;for(var f=this.$$keys,g=f.length,h,u;b<g;b++)h=f[b],h.$$is_string?u=this.$$smap[h]:(u=h.value,h=h.key),u=e(h,u),!1!==u&&u!==a||void 0===c.hash_delete(this,h)||(g--,b--);return this},R.$$arity=0);c.alias(g,"key","index");c.alias(g,"key?","has_key?");c.defn(g,"$keys",ba=function(){for(var a=
[],b=0,c=this.$$keys,d=c.length,e;b<d;b++)e=c[b],e.$$is_string?a.push(e):a.push(e.key);return a},ba.$$arity=0);c.defn(g,"$length",ga=function(){return this.$$keys.length},ga.$$arity=0);c.alias(g,"member?","has_key?");c.defn(g,"$merge",ia=function(b){var c,d,e=ia.$$p||a;ia.$$p=null;return(c=(d=this.$dup())["$merge!"],c.$$p=e.$to_proc(),c).call(d,b)},ia.$$arity=1);c.defn(g,"$merge!",ma=function(b){var e=ma.$$p||a;ma.$$p=null;d.get("Hash")["$==="](b)||(b=d.get("Opal")["$coerce_to!"](b,d.get("Hash"),
"to_hash"));var f,g=b.$$keys,h=g.length,l,u,k;if(e===a){for(f=0;f<h;f++)l=g[f],l.$$is_string?k=b.$$smap[l]:(k=l.value,l=l.key),c.hash_put(this,l,k);return this}for(f=0;f<h;f++)l=g[f],l.$$is_string?k=b.$$smap[l]:(k=l.value,l=l.key),u=c.hash_get(this,l),void 0===u?c.hash_put(this,l,k):c.hash_put(this,l,e(l,u,k));return this},ma.$$arity=1);c.defn(g,"$rassoc",la=function(b){for(var c=0,d=this.$$keys,e=d.length,f,g;c<e;c++)if(f=d[c],f.$$is_string?g=this.$$smap[f]:(g=f.value,f=f.key),g["$=="](b))return[f,
g];return a},la.$$arity=1);c.defn(g,"$rehash",na=function(){c.hash_rehash(this);return this},na.$$arity=0);c.defn(g,"$reject",fa=function(){var b,d,e=fa.$$p||a;fa.$$p=null;if(!1===e||e===a||null==e)return(b=this.$enum_for,b.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d),b).call(this,"reject");b=c.hash();for(var f=0,g=this.$$keys,h=g.length,u,l,k;f<h;f++)u=g[f],u.$$is_string?l=this.$$smap[u]:(l=u.value,u=u.key),k=e(u,l),!1!==k&&k!==a||c.hash_put(b,u,l);return b},fa.$$arity=
0);c.defn(g,"$reject!",T=function(){var b,d,e=T.$$p||a;T.$$p=null;if(!1===e||e===a||null==e)return(b=this.$enum_for,b.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d),b).call(this,"reject!");b=!1;for(var f=0,g=this.$$keys,h=g.length,u,l;f<h;f++)u=g[f],u.$$is_string?l=this.$$smap[u]:(l=u.value,u=u.key),l=e(u,l),!1!==l&&l!==a&&void 0!==c.hash_delete(this,u)&&(b=!0,h--,f--);return b?this:a},T.$$arity=0);c.defn(g,"$replace",ja=function(b){var e;b=d.get("Opal")["$coerce_to!"](b,
d.get("Hash"),"to_hash");c.hash_init(this);for(var f=0,g=b.$$keys,h=g.length,l,u;f<h;f++)l=g[f],l.$$is_string?u=b.$$smap[l]:(u=l.value,l=l.key),c.hash_put(this,l,u);(e=b.$default_proc())===a||null==e||e.$$is_boolean&&1!=e?(e=[b.$default()],b=this,b["$default="].apply(b,e)):(e=[b.$default_proc()],b=this,b["$default_proc="].apply(b,e));e[e.length-1];return this},ja.$$arity=1);c.defn(g,"$select",L=function(){var b,d,e=L.$$p||a;L.$$p=null;if(!1===e||e===a||null==e)return(b=this.$enum_for,b.$$p=(d=function(){return(d.$$s||
this).$size()},d.$$s=this,d.$$arity=0,d),b).call(this,"select");b=c.hash();for(var f=0,g=this.$$keys,h=g.length,u,l,k;f<h;f++)u=g[f],u.$$is_string?l=this.$$smap[u]:(l=u.value,u=u.key),k=e(u,l),!1!==k&&k!==a&&c.hash_put(b,u,l);return b},L.$$arity=0);c.defn(g,"$select!",O=function(){var b,d,e=O.$$p||a;O.$$p=null;if(!1===e||e===a||null==e)return(b=this.$enum_for,b.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d),b).call(this,"select!");b=a;for(var f=0,g=this.$$keys,h=g.length,
u,l;f<h;f++)if(u=g[f],u.$$is_string?l=this.$$smap[u]:(l=u.value,u=u.key),l=e(u,l),!1===l||l===a)void 0!==c.hash_delete(this,u)&&(h--,f--),b=this;return b},O.$$arity=0);c.defn(g,"$shift",ka=function(){var b=this.$$keys;return 0<b.length?(b=b[0],b=b.$$is_string?b:b.key,[b,c.hash_delete(this,b)]):this.$default(a)},ka.$$arity=0);c.alias(g,"size","length");g.$alias_method("store","[]=");c.defn(g,"$to_a",J=function(){for(var a=[],b=0,c=this.$$keys,d=c.length,e,f;b<d;b++)e=c[b],e.$$is_string?f=this.$$smap[e]:
(f=e.value,e=e.key),a.push([e,f]);return a},J.$$arity=0);c.defn(g,"$to_h",pa=function(){if(this.$$class===c.Hash)return this;var a=new c.Hash.$$alloc;c.hash_init(a);c.hash_clone(this,a);return a},pa.$$arity=0);c.defn(g,"$to_hash",ra=function(){return this},ra.$$arity=0);c.alias(g,"to_s","inspect");c.alias(g,"update","merge!");c.alias(g,"value?","has_value?");c.alias(g,"values_at","indexes");return(c.defn(g,"$values",ua=function(){for(var a=[],b=0,c=this.$$keys,d=c.length,e;b<d;b++)e=c[b],e.$$is_string?
a.push(this.$$smap[e]):a.push(e.value);return a},ua.$$arity=0),a)&&"values"}(c.base,null)},Opal.modules["corelib/number"]=function(c){function r(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function a(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function f(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?
a/c:a["$/"](c)}function e(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}var g=c.top,h=c.nil,d=c.klass;c.add_stubs("$require $bridge $raise $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $-@ $size $<= $>=".split(" "));g.$require("corelib/numeric");(function(b,$super){function g(){}var t=g=d(b,$super,"Number",g),k=t.$$scope,l,M,x,C,E,D,y,v,N,F,I,G,K,
z,q,A,U,S,Y,ea,ca,B,Q,Z,R,ba,ga,ia,ma,la,na,fa,T,ja,L,O,ka,J,pa,ra,ua,ta,ha,za,va,ya,wa,P,u,da,qa,sa,Ca,Da,Ea,Aa,aa,xa,V,X,H,W,Ba,Fa;k.get("Opal").$bridge(t,Number);Number.prototype.$$is_number=!0;c.defn(t,"$coerce",l=function(a){if(a!==h){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[k.get("Opal")["$coerce_to!"](a,k.get("Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(k.get("TypeError"),"can't convert "+a.$class()+" into Float")},l.$$arity=1);
c.defn(t,"$__id__",M=function(){return 2*this+1},M.$$arity=0);c.alias(t,"object_id","__id__");c.defn(t,"$+",x=function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)},x.$$arity=1);c.defn(t,"$-",C=function(a){return a.$$is_number?this-a:this.$__coerced__("-",a)},C.$$arity=1);c.defn(t,"$*",E=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},E.$$arity=1);c.defn(t,"$/",D=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},D.$$arity=1);c.alias(t,"fdiv","/");c.defn(t,
"$%",y=function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(k.get("ZeroDivisionError"),"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},y.$$arity=1);c.defn(t,"$&",v=function(a){return a.$$is_number?this&a:this.$__coerced__("&",a)},v.$$arity=1);c.defn(t,"$|",N=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},N.$$arity=1);c.defn(t,"$^",F=function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)},F.$$arity=
1);c.defn(t,"$<",I=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},I.$$arity=1);c.defn(t,"$<=",G=function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)},G.$$arity=1);c.defn(t,"$>",K=function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)},K.$$arity=1);c.defn(t,"$>=",z=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},z.$$arity=1);c.defn(t,"$<=>",q=function(a){try{return a.$$is_number?isNaN(this)||isNaN(a)?h:this>a?1:this<a?-1:0:this.$__coerced__("<=>",
a)}catch(b){if(c.rescue(b,[k.get("ArgumentError")]))try{return h}finally{c.pop_exception()}else throw b;}},q.$$arity=1);c.defn(t,"$<<",A=function(a){a=k.get("Opal")["$coerce_to!"](a,k.get("Integer"),"to_int");return 0<a?this<<a:this>>-a},A.$$arity=1);c.defn(t,"$>>",U=function(a){a=k.get("Opal")["$coerce_to!"](a,k.get("Integer"),"to_int");return 0<a?this>>a:this<<-a},U.$$arity=1);c.defn(t,"$[]",S=function(a){a=k.get("Opal")["$coerce_to!"](a,k.get("Integer"),"to_int");return 0>a?0:32<=a?0>this?1:0:
this>>a&1},S.$$arity=1);c.defn(t,"$+@",Y=function(){return+this},Y.$$arity=0);c.defn(t,"$-@",ea=function(){return-this},ea.$$arity=0);c.defn(t,"$~",ca=function(){return~this},ca.$$arity=0);c.defn(t,"$**",B=function(b){var c,d,e;return(c=k.get("Integer")["$==="](b))===h||null==c||c.$$is_boolean&&1!=c?(c=a(this,0)?!1!==(e=k.get("Float")["$==="](b))&&e!==h&&null!=e?e:k.get("Rational")["$==="](b):a(this,0))===h||null==c||c.$$is_boolean&&1!=c?(c=null!=b.$$is_number)===h||null==c||c.$$is_boolean&&1!=c?
this.$__coerced__("**",b):Math.pow(this,b):k.get("Complex").$new(this,0)["$**"](b.$to_f()):(c=!1!==(d=k.get("Integer")["$==="](this)["$!"]())&&d!==h&&null!=d?d:r(b,0))===h||null==c||c.$$is_boolean&&1!=c?k.get("Rational").$new(this,1)["$**"](b):Math.pow(this,b)},B.$$arity=1);c.defn(t,"$==",Q=function(a){return a.$$is_number?this==Number(a):a["$respond_to?"]("==")?a["$=="](this):!1},Q.$$arity=1);c.defn(t,"$abs",Z=function(){return Math.abs(this)},Z.$$arity=0);c.defn(t,"$abs2",R=function(){return Math.abs(this*
this)},R.$$arity=0);c.defn(t,"$angle",ba=function(){var a;return(a=this["$nan?"]())===h||null==a||a.$$is_boolean&&1!=a?0==this?0<1/this?0:Math.PI:0>this?Math.PI:0:this},ba.$$arity=0);c.alias(t,"arg","angle");c.alias(t,"phase","angle");c.defn(t,"$bit_length",ga=function(){var a;((a=k.get("Integer")["$==="](this))===h||null==a||a.$$is_boolean&&1!=a)&&this.$raise(k.get("NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;a=0;for(var b=
0>this?~this:this;0!=b;)a+=1,b>>>=1;return a},ga.$$arity=0);c.defn(t,"$ceil",ia=function(){return Math.ceil(this)},ia.$$arity=0);c.defn(t,"$chr",ma=function(a){return String.fromCharCode(this)},ma.$$arity=-1);c.defn(t,"$denominator",la=function(){var a,b,d=la.$$p,e=h,f=h;la.$$p=null;e=[];for(f=0;f<arguments.length;f++)e[f]=arguments[f];return(a=!1!==(b=this["$nan?"]())&&b!==h&&null!=b?b:this["$infinite?"]())===h||null==a||a.$$is_boolean&&1!=a?(a=(b=this,c.find_super_dispatcher(this,"denominator",
la,!1)),a.$$p=d,a).apply(b,e):1},la.$$arity=0);c.defn(t,"$downto",na=function(a){var b,c,d=na.$$p||h;na.$$p=null;if(d===h)return(b=this.$enum_for,b.$$p=(c=function(){var b=c.$$s||this,d;((d=k.get("Numeric")["$==="](a))===h||null==d||d.$$is_boolean&&1!=d)&&b.$raise(k.get("ArgumentError"),"comparison of "+b.$class()+" with "+a.$class()+" failed");return(d=r(a,b))===h||null==d||d.$$is_boolean&&1!=d?f(p(b,a),1):0},c.$$s=this,c.$$arity=0,c),b).call(this,"downto",a);a.$$is_number||this.$raise(k.get("ArgumentError"),
"comparison of "+this.$class()+" with "+a.$class()+" failed");for(b=this;b>=a;b--)d(b);return this},na.$$arity=1);c.alias(t,"eql?","==");c.defn(t,"$equal?",fa=function(a){var b;return!1!==(b=this["$=="](a))&&b!==h&&null!=b?b:isNaN(this)&&isNaN(a)},fa.$$arity=1);c.defn(t,"$even?",T=function(){return 0===this%2},T.$$arity=0);c.defn(t,"$floor",ja=function(){return Math.floor(this)},ja.$$arity=0);c.defn(t,"$gcd",L=function(a){var b;((b=k.get("Integer")["$==="](a))===h||null==b||b.$$is_boolean&&1!=b)&&
this.$raise(k.get("TypeError"),"not an integer");b=Math.abs(this);for(a=Math.abs(a);0<b;){var c=b;b=a%b;a=c}return a},L.$$arity=1);c.defn(t,"$gcdlcm",O=function(a){return[this.$gcd(),this.$lcm()]},O.$$arity=1);c.defn(t,"$integer?",ka=function(){return 0===this%1},ka.$$arity=0);c.defn(t,"$is_a?",J=function(a){var b,d=J.$$p,e=h,f=h;J.$$p=null;e=[];for(f=0;f<arguments.length;f++)e[f]=arguments[f];return((b=a["$=="](k.get("Fixnum"))?k.get("Integer")["$==="](this):a["$=="](k.get("Fixnum")))===h||null==
b||b.$$is_boolean&&1!=b)&&((b=a["$=="](k.get("Integer"))?k.get("Integer")["$==="](this):a["$=="](k.get("Integer")))===h||null==b||b.$$is_boolean&&1!=b)&&((b=a["$=="](k.get("Float"))?k.get("Float")["$==="](this):a["$=="](k.get("Float")))===h||null==b||b.$$is_boolean&&1!=b)?(b=c.find_super_dispatcher(this,"is_a?",J,!1),b.$$p=d,b).apply(this,e):!0},J.$$arity=1);c.alias(t,"kind_of?","is_a?");c.defn(t,"$instance_of?",pa=function(a){var b,d=pa.$$p,e=h,f=h;pa.$$p=null;e=[];for(f=0;f<arguments.length;f++)e[f]=
arguments[f];return((b=a["$=="](k.get("Fixnum"))?k.get("Integer")["$==="](this):a["$=="](k.get("Fixnum")))===h||null==b||b.$$is_boolean&&1!=b)&&((b=a["$=="](k.get("Integer"))?k.get("Integer")["$==="](this):a["$=="](k.get("Integer")))===h||null==b||b.$$is_boolean&&1!=b)&&((b=a["$=="](k.get("Float"))?k.get("Float")["$==="](this):a["$=="](k.get("Float")))===h||null==b||b.$$is_boolean&&1!=b)?(b=c.find_super_dispatcher(this,"instance_of?",pa,!1),b.$$p=d,b).apply(this,e):!0},pa.$$arity=1);c.defn(t,"$lcm",
ra=function(a){var b;((b=k.get("Integer")["$==="](a))===h||null==b||b.$$is_boolean&&1!=b)&&this.$raise(k.get("TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))},ra.$$arity=1);c.alias(t,"magnitude","abs");c.alias(t,"modulo","%");c.defn(t,"$next",ua=function(){return this+1},ua.$$arity=0);c.defn(t,"$nonzero?",ta=function(){return 0==this?h:this},ta.$$arity=0);c.defn(t,"$numerator",ha=function(){var a,b,d=ha.$$p,e=h,f=h;ha.$$p=null;e=[];for(f=0;f<arguments.length;f++)e[f]=
arguments[f];return(a=!1!==(b=this["$nan?"]())&&b!==h&&null!=b?b:this["$infinite?"]())===h||null==a||a.$$is_boolean&&1!=a?(a=(b=this,c.find_super_dispatcher(this,"numerator",ha,!1)),a.$$p=d,a).apply(b,e):this},ha.$$arity=0);c.defn(t,"$odd?",za=function(){return 0!==this%2},za.$$arity=0);c.defn(t,"$ord",va=function(){return this},va.$$arity=0);c.defn(t,"$pred",ya=function(){return this-1},ya.$$arity=0);c.defn(t,"$quo",wa=function(a){var b,d=wa.$$p,e=h,f=h;wa.$$p=null;e=[];for(f=0;f<arguments.length;f++)e[f]=
arguments[f];return(b=k.get("Integer")["$==="](this))===h||null==b||b.$$is_boolean&&1!=b?n(this,a):(b=c.find_super_dispatcher(this,"quo",wa,!1),b.$$p=d,b).apply(this,e)},wa.$$arity=1);c.defn(t,"$rationalize",P=function(a){var b,d,f=h,g=h;1<arguments.length&&this.$raise(k.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if((b=k.get("Integer")["$==="](this))===h||null==b||b.$$is_boolean&&1!=b){if((b=this["$infinite?"]())===h||null==b||b.$$is_boolean&&1!=b){if((b=this["$nan?"]())===
h||null==b||b.$$is_boolean&&1!=b){if((b=null==a)===h||null==b||b.$$is_boolean&&1!=b)return this.$to_r().$rationalize(a);d=k.get("Math").$frexp(this);b=c.to_ary(d);f=null==b[0]?h:b[0];g=null==b[1]?h:b[1];d;f=k.get("Math").$ldexp(f,k.get("Float").$$scope.get("MANT_DIG")).$to_i();g=p(g,k.get("Float").$$scope.get("MANT_DIG"));return k.get("Rational").$new(e(2,f),1["$<<"](p(1,g))).$rationalize(k.get("Rational").$new(1,1["$<<"](p(1,g))))}return this.$raise(k.get("FloatDomainError"),"NaN")}return this.$raise(k.get("FloatDomainError"),
"Infinity")}return k.get("Rational").$new(this,1)},P.$$arity=-1);c.defn(t,"$round",u=function(b){var d,e,g=h;if((d=k.get("Integer")["$==="](this))===h||null==d||d.$$is_boolean&&1!=d){(d=(e=this["$nan?"](),!1!==e&&e!==h&&null!=e?null==b:e))===h||null==d||d.$$is_boolean&&1!=d||this.$raise(k.get("FloatDomainError"),"NaN");b=k.get("Opal")["$coerce_to!"](b||0,k.get("Integer"),"to_int");if((d="number"===typeof b?0>=b:b["$<="](0))===h||null==d||d.$$is_boolean&&1!=d){if(b["$=="](0))return Math.round(this);
if((d=!1!==(e=this["$nan?"]())&&e!==h&&null!=e?e:this["$infinite?"]())!==h&&null!=d&&(!d.$$is_boolean||1==d))return this}else(d=this["$nan?"]())===h||null==d||d.$$is_boolean&&1!=d?(d=this["$infinite?"]())===h||null==d||d.$$is_boolean&&1!=d||this.$raise(k.get("FloatDomainError"),"Infinity"):this.$raise(k.get("RangeError"),"NaN");e=k.get("Math").$frexp(this);d=c.to_ary(e);g=null==d[1]?h:d[1];e;var u=p(f(k.get("Float").$$scope.get("DIG"),2),(e=r(g,0))===h||null==e||e.$$is_boolean&&1!=e?p(n(g,3),1):n(g,
4));return(d="number"===typeof b&&"number"===typeof u?b>=u:b["$>="](u))===h||null==d||d.$$is_boolean&&1!=d?(d=a(b,((e=r(g,0))===h||null==e||e.$$is_boolean&&1!=e?n(g,4):f(n(g,3),1))["$-@"]()))===h||null==d||d.$$is_boolean&&1!=d?Math.round(this*Math.pow(10,b))/Math.pow(10,b):0:this}if((d=null==b)!==h&&null!=d&&(!d.$$is_boolean||1==d))return this;(d=(e=k.get("Float")["$==="](b),!1!==e&&e!==h&&null!=e?b["$infinite?"]():e))===h||null==d||d.$$is_boolean&&1!=d||this.$raise(k.get("RangeError"),"Infinity");
b=k.get("Opal")["$coerce_to!"](b,k.get("Integer"),"to_int");(d=a(b,k.get("Integer").$$scope.get("MIN")))===h||null==d||d.$$is_boolean&&1!=d||this.$raise(k.get("RangeError"),"out of bounds");if((d=0<=b)!==h&&null!=d&&(!d.$$is_boolean||1==d))return this;b=b["$-@"]();if(.415241*b-.125>this.$size())return 0;b=Math.pow(10,b);u=Math.floor((Math.abs(u)+b/2)/b)*b;return 0>this?-u:u},u.$$arity=-1);c.defn(t,"$step",da=function(a,b){var c,d=da.$$p||h;null==b&&(b=1);da.$$p=null;if(!1===d||d===h||null==d)return this.$enum_for("step",
a,b);(c=0==b)===h||null==c||c.$$is_boolean&&1!=c||this.$raise(k.get("ArgumentError"),"step cannot be 0");c=this;if(Infinity===a||-Infinity===a)return d(c),this;if(0<b)for(;c<=a;)d(c),c+=b;else for(;c>=a;)d(c),c+=b;return this},da.$$arity=-2);c.alias(t,"succ","next");c.defn(t,"$times",qa=function(){var a,b,c=qa.$$p||h;qa.$$p=null;if(!1===c||c===h||null==c)return(a=this.$enum_for,a.$$p=(b=function(){return b.$$s||this},b.$$s=this,b.$$arity=0,b),a).call(this,"times");for(a=0;a<this;a++)c(a);return this},
qa.$$arity=0);c.defn(t,"$to_f",sa=function(){return this},sa.$$arity=0);c.defn(t,"$to_i",Ca=function(){return parseInt(this,10)},Ca.$$arity=0);c.alias(t,"to_int","to_i");c.defn(t,"$to_r",Da=function(){var a,b,d=h,f=h;return(a=k.get("Integer")["$==="](this))===h||null==a||a.$$is_boolean&&1!=a?(b=k.get("Math").$frexp(this),a=c.to_ary(b),d=null==a[0]?h:a[0],f=null==a[1]?h:a[1],b,d=k.get("Math").$ldexp(d,k.get("Float").$$scope.get("MANT_DIG")).$to_i(),f=p(f,k.get("Float").$$scope.get("MANT_DIG")),e(d,
k.get("Float").$$scope.get("RADIX")["$**"](f)).$to_r()):k.get("Rational").$new(this,1)},Da.$$arity=0);c.defn(t,"$to_s",Ea=function(b){var c,d;null==b&&(b=10);(c=!1!==(d=a(b,2))&&d!==h&&null!=d?d:r(b,36))===h||null==c||c.$$is_boolean&&1!=c||this.$raise(k.get("ArgumentError"),"base must be between 2 and 36");return this.toString(b)},Ea.$$arity=-1);c.alias(t,"truncate","to_i");c.alias(t,"inspect","to_s");c.defn(t,"$divmod",Aa=function(a){var b,d,e=Aa.$$p,f=h,g=h;Aa.$$p=null;f=[];for(g=0;g<arguments.length;g++)f[g]=
arguments[g];return(b=!1!==(d=this["$nan?"]())&&d!==h&&null!=d?d:a["$nan?"]())===h||null==b||b.$$is_boolean&&1!=b?(b=this["$infinite?"]())===h||null==b||b.$$is_boolean&&1!=b?(b=(d=this,c.find_super_dispatcher(this,"divmod",Aa,!1)),b.$$p=e,b).apply(d,f):this.$raise(k.get("FloatDomainError"),"Infinity"):this.$raise(k.get("FloatDomainError"),"NaN")},Aa.$$arity=1);c.defn(t,"$upto",aa=function(b){var c,d,e=aa.$$p||h;aa.$$p=null;if(e===h)return(c=this.$enum_for,c.$$p=(d=function(){var c=d.$$s||this,e;((e=
k.get("Numeric")["$==="](b))===h||null==e||e.$$is_boolean&&1!=e)&&c.$raise(k.get("ArgumentError"),"comparison of "+c.$class()+" with "+b.$class()+" failed");return(e=a(b,c))===h||null==e||e.$$is_boolean&&1!=e?f(p(b,c),1):0},d.$$s=this,d.$$arity=0,d),c).call(this,"upto",b);b.$$is_number||this.$raise(k.get("ArgumentError"),"comparison of "+this.$class()+" with "+b.$class()+" failed");for(c=this;c<=b;c++)e(c);return this},aa.$$arity=1);c.defn(t,"$zero?",xa=function(){return 0==this},xa.$$arity=0);c.defn(t,
"$size",V=function(){return 4},V.$$arity=0);c.defn(t,"$nan?",X=function(){return isNaN(this)},X.$$arity=0);c.defn(t,"$finite?",H=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},H.$$arity=0);c.defn(t,"$infinite?",W=function(){return Infinity==this?1:-Infinity==this?-1:h},W.$$arity=0);c.defn(t,"$positive?",Ba=function(){return Infinity==this||0<1/this},Ba.$$arity=0);return(c.defn(t,"$negative?",Fa=function(){return-Infinity==this||0>1/this},Fa.$$arity=0),h)&&"negative?"})(c.base,c.get("Numeric"));
c.cdecl(c,"Fixnum",c.get("Number"));(function(a,$super){function e(){}var f=e=d(a,$super,"Integer",e),g=f.$$scope,h;c.defs(f,"$===",h=function(a){return a.$$is_number?0===a%1:!1},h.$$arity=1);c.cdecl(g,"MAX",Math.pow(2,30)-1);return c.cdecl(g,"MIN",-Math.pow(2,30))})(c.base,c.get("Numeric"));return function(a,$super){function e(){}var f=e=d(a,$super,"Float",e),g=f.$$scope,l,p;c.defs(f,"$===",l=function(a){return!!a.$$is_number},l.$$arity=1);c.cdecl(g,"INFINITY",Infinity);c.cdecl(g,"MAX",Number.MAX_VALUE);
c.cdecl(g,"MIN",Number.MIN_VALUE);c.cdecl(g,"NAN",NaN);c.cdecl(g,"DIG",15);c.cdecl(g,"MANT_DIG",53);c.cdecl(g,"RADIX",2);return(p="undefined"!==typeof Number.EPSILON)===h||null==p||p.$$is_boolean&&1!=p?c.cdecl(g,"EPSILON",2.220446049250313E-16):c.cdecl(g,"EPSILON",Number.EPSILON)}(c.base,c.get("Numeric"))},Opal.modules["corelib/range"]=function(c){function r(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}function a(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}
var f=c.top,p=c.nil,n=c.klass;c.add_stubs("$require $include $attr_reader $<=> $raise $include? $<= $< $enum_for $upto $to_proc $succ $! $== $=== $exclude_end? $eql? $begin $end $- $abs $to_i $inspect $[]".split(" "));f.$require("corelib/enumerable");return function(e,$super){function f(){}var d=f=n(e,$super,"Range",f),b=d.$$proto,m=d.$$scope,w,t,k,l,M,x,C,E,D,y,v,N,F;b.begin=b.exclude=b.end=p;d.$include(m.get("Enumerable"));b.$$is_range=!0;d.$attr_reader("begin","end");c.defn(d,"$initialize",w=function(a,
b,c){var d;null==c&&(c=!1);((d=a["$<=>"](b))===p||null==d||d.$$is_boolean&&1!=d)&&this.$raise(m.get("ArgumentError"));this.begin=a;this.end=b;return this.exclude=c},w.$$arity=-3);c.defn(d,"$==",t=function(a){return a.$$is_range?this.exclude===a.exclude&&this.begin==a.begin&&this.end==a.end:!1},t.$$arity=1);c.defn(d,"$===",k=function(a){return this["$include?"](a)},k.$$arity=1);c.defn(d,"$cover?",l=function(b){var c,d;return c=r(this.begin,b),!1!==c&&c!==p&&null!=c?(d=this.exclude)===p||null==d||d.$$is_boolean&&
1!=d?r(b,this.end):a(b,this.end):c},l.$$arity=1);c.defn(d,"$each",M=function(){var b,d,e,f=M.$$p||p,h=p,l=p;M.$$p=null;if(f===p)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(m.get("TypeError"),"can't iterate from Float");d=this.begin;for(e=this.end+((b=this.exclude)===p||null==b||b.$$is_boolean&&1!=b?1:0);d<e;d++)f(d);return this}if(this.begin.$$is_string&&this.end.$$is_string)return(b=(d=this.begin).$upto,b.$$p=f.$to_proc(),
b).call(d,this.end,this.exclude),this;h=this.begin;for(l=this.end;(e=a(h,l))!==p&&null!=e&&(!e.$$is_boolean||1==e);)c.yield1(f,h),h=h.$succ();(b=(e=this.exclude["$!"](),!1!==e&&e!==p&&null!=e?h["$=="](l):e))===p||null==b||b.$$is_boolean&&1!=b||c.yield1(f,h);return this},M.$$arity=0);c.defn(d,"$eql?",x=function(a){var b,c;return(b=m.get("Range")["$==="](a))===p||null==b||b.$$is_boolean&&1!=b?!1:(b=(c=this.exclude["$==="](a["$exclude_end?"]()),!1!==c&&c!==p&&null!=c?this.begin["$eql?"](a.$begin()):
c),!1!==b&&b!==p&&null!=b?this.end["$eql?"](a.$end()):b)},x.$$arity=1);c.defn(d,"$exclude_end?",C=function(){return this.exclude},C.$$arity=0);c.alias(d,"first","begin");c.alias(d,"include?","cover?");c.alias(d,"last","end");c.defn(d,"$max",E=function(){var a,b=E.$$p,d=b||p,e=p,f=p;E.$$p=null;e=[];for(f=0;f<arguments.length;f++)e[f]=arguments[f];return d!==p?(a=c.find_super_dispatcher(this,"max",E,!1),a.$$p=b,a).apply(this,e):this.exclude?this.end-1:this.end},E.$$arity=0);c.alias(d,"member?","cover?");
c.defn(d,"$min",D=function(){var a,b=D.$$p,d=b||p,e=p,f=p;D.$$p=null;e=[];for(f=0;f<arguments.length;f++)e[f]=arguments[f];return d!==p?(a=c.find_super_dispatcher(this,"min",D,!1),a.$$p=b,a).apply(this,e):this.begin},D.$$arity=0);c.alias(d,"member?","include?");c.defn(d,"$size",y=function(){var b,c,d=p,e=p,f=p,d=this.begin,e=this.end;(b=this.exclude)===p||null==b||b.$$is_boolean&&1!=b||(e="number"===typeof e?e-1:e["$-"](1));if((b=(c=m.get("Numeric")["$==="](d),!1!==c&&c!==p&&null!=c?m.get("Numeric")["$==="](e):
c))===p||null==b||b.$$is_boolean&&1!=b)return p;if((b=a(e,d))!==p&&null!=b&&(!b.$$is_boolean||1==b))return 0;f=m.get("Float").$$scope.get("INFINITY");return(b=!1!==(c=f["$=="](d.$abs()))&&c!==p&&null!=c?c:e.$abs()["$=="](f))===p||null==b||b.$$is_boolean&&1!=b?(Math.abs(e-d)+1).$to_i():f},y.$$arity=0);c.defn(d,"$step",v=function(a){return this.$raise(m.get("NotImplementedError"))},v.$$arity=-1);c.defn(d,"$to_s",N=function(){return this.begin.$inspect()+(this.exclude?"...":"..")+this.end.$inspect()},
N.$$arity=0);c.alias(d,"inspect","to_s");return(c.defn(d,"$marshal_load",F=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.exclude=a["$[]"]("excl")},F.$$arity=1),p)&&"marshal_load"}(c.base,null)},Opal.modules["corelib/proc"]=function(c){var r=c.nil,a=c.slice,f=c.klass;c.add_stubs(["$raise","$coerce_to!"]);return function(p,$super){function e(){}var g=e=f(p,$super,"Proc",e),h=g.$$proto,d=g.$$scope,b,m,w,t,k,l,M,x,C,E;h.$$is_proc=!0;h.$$is_lambda=!1;c.defs(g,"$new",b=function(){var a=
b.$$p||r;b.$$p=null;!1!==a&&a!==r&&null!=a||this.$raise(d.get("ArgumentError"),"tried to create a Proc object without a block");return a},b.$$arity=0);c.defn(g,"$call",m=function(a){var b,d=m.$$p||r,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var f=0;f<e;f++)b[f-0]=arguments[f];m.$$p=null;d!==r&&(this.$$p=d);var g;if(d=this.$$brk)try{g=this.$$is_lambda?this.apply(null,b):c.yieldX(this,b)}catch(h){if(h===d)return d.$v;throw h;}else g=this.$$is_lambda?this.apply(null,b):c.yieldX(this,b);return g},
m.$$arity=-1);c.alias(g,"[]","call");c.alias(g,"===","call");c.alias(g,"yield","call");c.defn(g,"$to_proc",w=function(){return this},w.$$arity=0);c.defn(g,"$lambda?",t=function(){return!!this.$$is_lambda},t.$$arity=0);c.defn(g,"$arity",k=function(){return this.$$is_curried?-1:this.$$arity},k.$$arity=0);c.defn(g,"$source_location",l=function(){return r},l.$$arity=0);c.defn(g,"$binding",M=function(){this.$$is_curried&&this.$raise(d.get("ArgumentError"),"Can't create Binding");return r},M.$$arity=0);
c.defn(g,"$parameters",x=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var a=[],b,c;b=0;for(c=this.$$parameters.length;b<c;b++){var d=this.$$parameters[b];"req"===d[0]&&(d=["opt",d[1]]);a.push(d)}return a}return[]},x.$$arity=0);c.defn(g,"$curry",C=function(b){function c(){var f=a.call(arguments),g=f.length;g>b&&e.$$is_lambda&&!e.$$is_curried&&e.$raise(d.get("ArgumentError"),"wrong number of arguments ("+g+" for "+b+")");if(g>=b)return e.$call.apply(e,
f);g=function(){return c.apply(null,f.concat(a.call(arguments)))};g.$$is_lambda=e.$$is_lambda;g.$$is_curried=!0;return g}var e=this;void 0===b?b=e.length:(b=d.get("Opal")["$coerce_to!"](b,d.get("Integer"),"to_int"),e.$$is_lambda&&b!==e.length&&e.$raise(d.get("ArgumentError"),"wrong number of arguments ("+b+" for "+e.length+")"));c.$$is_lambda=e.$$is_lambda;c.$$is_curried=!0;return c},C.$$arity=-1);c.defn(g,"$dup",E=function(){var a=this.$$original_proc||this,b=function(){return a.apply(this,arguments)},
c;for(c in this)this.hasOwnProperty(c)&&(b[c]=this[c]);return b},E.$$arity=0);return c.alias(g,"clone","dup")}(c.base,Function)},Opal.modules["corelib/method"]=function(c){var r=c.nil,a=c.slice,f=c.klass;c.add_stubs(["$attr_reader","$class","$arity","$new","$name"]);(function(p,$super){function e(){}var g=e=f(p,$super,"Method",e),h=g.$$proto,d=g.$$scope,b,m,w,t,k,l,M;h.method=h.receiver=h.owner=h.name=r;g.$attr_reader("owner","receiver","name");c.defn(g,"$initialize",b=function(a,b,c){this.receiver=
a;this.owner=a.$class();this.name=c;return this.method=b},b.$$arity=3);c.defn(g,"$arity",m=function(){return this.method.$arity()},m.$$arity=0);c.defn(g,"$parameters",w=function(){return this.method.$$parameters},w.$$arity=0);c.defn(g,"$call",t=function(a){var b,c=t.$$p||r,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];t.$$p=null;this.method.$$p=c;return this.method.apply(this.receiver,b)},t.$$arity=-1);c.alias(g,"[]","call");c.defn(g,"$unbind",k=function(){return d.get("UnboundMethod").$new(this.owner,
this.method,this.name)},k.$$arity=0);c.defn(g,"$to_proc",l=function(){var b=this,c=function(){return b.$call.apply(b,a.call(arguments))};c.$$unbound=b.method;c.$$is_lambda=!0;return c},l.$$arity=0);return(c.defn(g,"$inspect",M=function(){return"#<Method: "+this.receiver.$class()+"#"+this.name+">"},M.$$arity=0),r)&&"inspect"})(c.base,null);return function(a,$super){function e(){}var g=e=f(a,$super,"UnboundMethod",e),h=g.$$proto,d=g.$$scope,b,m,w,t,k;h.method=h.name=h.owner=r;g.$attr_reader("owner",
"name");c.defn(g,"$initialize",b=function(a,b,c){this.owner=a;this.method=b;return this.name=c},b.$$arity=3);c.defn(g,"$arity",m=function(){return this.method.$arity()},m.$$arity=0);c.defn(g,"$parameters",w=function(){return this.method.$$parameters},w.$$arity=0);c.defn(g,"$bind",t=function(a){return d.get("Method").$new(a,this.method,this.name)},t.$$arity=1);return(c.defn(g,"$inspect",k=function(){return"#<UnboundMethod: "+this.owner.$name()+"#"+this.name+">"},k.$$arity=0),r)&&"inspect"}(c.base,
null)},Opal.modules["corelib/variables"]=function(c){var r=c.nil,a=c.gvars,f=c.hash2;c.add_stubs(["$new"]);a["&"]=a["~"]=a["`"]=a["'"]=r;a.LOADED_FEATURES=a['"']=c.loaded_features;a.LOAD_PATH=a[":"]=[];a["/"]="\n";a[","]=r;c.cdecl(c,"ARGV",[]);c.cdecl(c,"ARGF",c.get("Object").$new());c.cdecl(c,"ENV",f([],{}));a.VERBOSE=!1;a.DEBUG=!1;return a.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(c){var r=c.nil,a=c.module;c.add_stubs(["$==","$new"]);a=a(c.base,"Opal").$$scope;c.cdecl(a,"REGEXP_START",
a.get("RUBY_ENGINE")["$=="]("opal")?"^":r);c.cdecl(a,"REGEXP_END",a.get("RUBY_ENGINE")["$=="]("opal")?"$":r);c.cdecl(a,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");c.cdecl(a,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");c.cdecl(a,"INLINE_IDENTIFIER_REGEXP",a.get("Regexp").$new("[^"+a.get("FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+a.get("FORBIDDEN_ENDING_IDENTIFIER_CHARS")+
"]"));c.cdecl(a,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");c.cdecl(a,"CONST_NAME_REGEXP",a.get("Regexp").$new(""+a.get("REGEXP_START")+"(::)?[A-Z][^"+a.get("FORBIDDEN_CONST_NAME_CHARS")+"]*"+a.get("REGEXP_END")))},Opal.modules["opal/mini"]=function(c){var r=c.top;c.add_stubs(["$require"]);r.$require("opal/base");r.$require("corelib/nil");r.$require("corelib/boolean");r.$require("corelib/string");r.$require("corelib/comparable");
r.$require("corelib/enumerable");r.$require("corelib/enumerator");r.$require("corelib/array");r.$require("corelib/hash");r.$require("corelib/number");r.$require("corelib/range");r.$require("corelib/proc");r.$require("corelib/method");r.$require("corelib/regexp");r.$require("corelib/variables");return r.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(c){var r=c.top,a=c.nil,f=c.klass,p=c.gvars;c.add_stubs("$require $new $allocate $initialize $to_proc $__send__ $class $clone $respond_to? $== $inspect $+ $* $map $split $enum_for $each_line $to_a $% $-".split(" "));
r.$require("corelib/string");(function(p,$super){function g(){}var h=g=f(p,$super,"String",g),d=h.$$scope,b;return(c.defs(h,"$inherited",b=function(b){var c=a,c=d.get("Class").$new(d.get("String").$$scope.get("Wrapper"));b.$$proto=c.$$proto;b.$$proto.$$class=b;b.$$alloc=c.$$alloc;b.$$parent=d.get("String").$$scope.get("Wrapper");b.$allocate=c.$allocate;b.$new=c.$new},b.$$arity=1),a)&&"inherited"})(c.base,null);return function(n,$super){function g(){}var h=g=f(n,$super,"Wrapper",g),d=h.$$proto,b,m,
w,t,k,l,M,x,C,E,D,y,v,N,F,I,G,K;d.literal=a;d.$$is_string=!0;c.defs(h,"$allocate",b=function(d){var f,h=a;null==d&&(d="");b.$$p=null;h=(f=c.find_super_dispatcher(this,"allocate",b,!1,g),f.$$p=null,f).call(this);h.literal=d;return h},b.$$arity=-1);c.defs(h,"$new",m=function(b){var d,f,g,h=m.$$p||a,l=a,l=arguments.length;g=l-0;0>g&&(g=0);g=Array(g);for(var k=0;k<l;k++)g[k-0]=arguments[k];m.$$p=null;l=this.$allocate();(d=(f=l).$initialize,d.$$p=h.$to_proc(),d).apply(f,c.to_a(g));return l},m.$$arity=
-1);c.defs(h,"$[]",w=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$allocate(b)},w.$$arity=-1);c.defn(h,"$initialize",t=function(a){null==a&&(a="");return this.literal=a},t.$$arity=-1);c.defn(h,"$method_missing",k=function(b){var d,f,g,h=k.$$p||a,l=a,l=arguments.length;g=l-0;0>g&&(g=0);g=Array(g);for(var m=0;m<l;m++)g[m-0]=arguments[m];k.$$p=null;l=(d=(f=this.literal).$__send__,d.$$p=h.$to_proc(),d).apply(f,c.to_a(g));return(d=
null!=l.$$is_string)===a||null==d||d.$$is_boolean&&1!=d?l:(d=l==this.literal)===a||null==d||d.$$is_boolean&&1!=d?this.$class().$allocate(l):this},k.$$arity=-1);c.defn(h,"$initialize_copy",l=function(a){return this.literal=a.literal.$clone()},l.$$arity=1);c.defn(h,"$respond_to?",M=function(b,d){var f,g,h=M.$$p,l=a,k=a;M.$$p=null;l=[];for(k=0;k<arguments.length;k++)l[k]=arguments[k];return!1!==(f=(g=c.find_super_dispatcher(this,"respond_to?",M,!1),g.$$p=h,g).apply(this,l))&&f!==a&&null!=f?f:this.literal["$respond_to?"](b)},
M.$$arity=-2);c.defn(h,"$==",x=function(a){return this.literal["$=="](a)},x.$$arity=1);c.alias(h,"eql?","==");c.alias(h,"===","==");c.defn(h,"$to_s",C=function(){return this.literal},C.$$arity=0);c.alias(h,"to_str","to_s");c.defn(h,"$inspect",E=function(){return this.literal.$inspect()},E.$$arity=0);c.defn(h,"$+",D=function(a){var b=this.literal;return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)},D.$$arity=1);c.defn(h,"$*",y=function(a){var b=this.literal;a="number"===typeof b&&"number"===
typeof a?b*a:b["$*"](a);return a.$$is_string?this.$class().$allocate(a):a},y.$$arity=1);c.defn(h,"$split",v=function(b,c){var d,f,g;return(d=(f=this.literal.$split(b,c)).$map,d.$$p=(g=function(b){var c=g.$$s||this;null==b&&(b=a);return c.$class().$allocate(b)},g.$$s=this,g.$$arity=1,g),d).call(f)},v.$$arity=-1);c.defn(h,"$replace",N=function(a){return this.literal=a},N.$$arity=1);c.defn(h,"$each_line",F=function(b){var d,f,g,h=F.$$p||a;null==p["/"]&&(p["/"]=a);null==b&&(b=p["/"]);F.$$p=null;return h===
a?this.$enum_for("each_line",b):(d=(f=this.literal).$each_line,d.$$p=(g=function(b){var d=g.$$s||this;null==b&&(b=a);return c.yield1(h,d.$class().$allocate(b))},g.$$s=this,g.$$arity=1,g),d).call(f,b)},F.$$arity=-1);c.defn(h,"$lines",I=function(b){var c,d=I.$$p||a,f=a;null==p["/"]&&(p["/"]=a);null==b&&(b=p["/"]);I.$$p=null;f=(c=this.$each_line,c.$$p=d.$to_proc(),c).call(this,b);return!1!==d&&d!==a&&null!=d?this:f.$to_a()},I.$$arity=-1);c.defn(h,"$%",G=function(a){return this.literal["$%"](a)},G.$$arity=
1);return(c.defn(h,"$instance_variables",K=function(){var b,d=K.$$p,f=a,g=a;K.$$p=null;f=[];for(g=0;g<arguments.length;g++)f[g]=arguments[g];d=(b=c.find_super_dispatcher(this,"instance_variables",K,!1),b.$$p=d,b).apply(this,f);b=["@literal"];return"number"===typeof d&&"number"===typeof b?d-b:d["$-"](b)},K.$$arity=0),a)&&"instance_variables"}(c.get("String"),null)},Opal.modules["corelib/string/encoding"]=function(c){function r(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var a,
f,p,n,e,g,h,d=c.top,b=c.nil,m=c.klass,w=c.hash2;c.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $upcase $const_get $=== $== $name $include? $names $constants $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $nil? $getbyte".split(" "));d.$require("corelib/string");(function(a,$super){function d(){}var e=d=m(a,$super,"Encoding",d),f=e.$$proto,g=e.$$scope,h,p,n,v,N,F,I,G,K,z;f.ascii=f.dummy=f.name=
b;c.defs(e,"$register",h=function(a,c){var d,e,f,l,m=h.$$p||b,t=b,p=b;null==c&&(c=w([],{}));h.$$p=null;t=r([a],!1!==(d=c["$[]"]("aliases"))&&d!==b&&null!=d?d:[]);p=(d=(e=g.get("Class")).$new,d.$$p=m.$to_proc(),d).call(e,this).$new(a,t,!1!==(d=c["$[]"]("ascii"))&&d!==b&&null!=d?d:!1,!1!==(d=c["$[]"]("dummy"))&&d!==b&&null!=d?d:!1);return(d=(f=t).$each,d.$$p=(l=function(a){var c=l.$$s||this;null==a&&(a=b);return c.$const_set(a.$sub("-","_"),p)},l.$$s=this,l.$$arity=1,l),d).call(f)},h.$$arity=-2);c.defs(e,
"$find",p=function(a){try{var d,e,f,h=b,h=a.$upcase();(d=(e=this.$constants()).$each,d.$$p=(f=function(a){var d=f.$$s||this,e,l,m=b;null==a&&(a=b);m=d.$const_get(a);if((e=g.get("Encoding")["$==="](m))===b||null==e||e.$$is_boolean&&1!=e||(e=!1!==(l=m.$name()["$=="](h))&&l!==b&&null!=l?l:m.$names()["$include?"](h))===b||null==e||e.$$is_boolean&&1!=e)return b;c.ret(m)},f.$$s=this,f.$$arity=1,f),d).call(e);return this.$raise(g.get("ArgumentError"),"unknown encoding name - "+a)}catch(l){if(l===c.returner)return l.$v;
throw l;}},p.$$arity=1);(function(a){return a.$attr_accessor("default_external")})(c.get_singleton_class(e));e.$attr_reader("name","names");c.defn(e,"$initialize",n=function(a,b,c,d){this.name=a;this.names=b;this.ascii=c;return this.dummy=d},n.$$arity=4);c.defn(e,"$ascii_compatible?",v=function(){return this.ascii},v.$$arity=0);c.defn(e,"$dummy?",N=function(){return this.dummy},N.$$arity=0);c.defn(e,"$to_s",F=function(){return this.name},F.$$arity=0);c.defn(e,"$inspect",I=function(){var a;return"#<Encoding:"+
this.name+((a=this.dummy)===b||null==a||a.$$is_boolean&&1!=a?b:" (dummy)")+">"},I.$$arity=0);c.defn(e,"$each_byte",G=function(a){return this.$raise(g.get("NotImplementedError"))},G.$$arity=-1);c.defn(e,"$getbyte",K=function(a){return this.$raise(g.get("NotImplementedError"))},K.$$arity=-1);c.defn(e,"$bytesize",z=function(a){return this.$raise(g.get("NotImplementedError"))},z.$$arity=-1);(function(a,$super){function c(){}c=m(a,$super,"EncodingError",c);return b})(g.base,g.get("StandardError"));return function(a,
$super){function c(){}c=m(a,$super,"CompatibilityError",c);return b}(g.base,g.get("EncodingError"))})(c.base,null);(a=(f=c.get("Encoding")).$register,a.$$p=(p=function(){var a=p.$$s||this,d,e;c.def(a,"$each_byte",d=function(a){var e=d.$$p||b;d.$$p=null;for(var f=0,g=a.length;f<g;f++){var h=a.charCodeAt(f);if(127>=h)c.yield1(e,h);else for(var h=encodeURIComponent(a.charAt(f)).substr(1).split("%"),l=0,m=h.length;l<m;l++)c.yield1(e,parseInt(h[l],16))}},d.$$arity=1);return(c.def(a,"$bytesize",e=function(){return this.$bytes().$length()},
e.$$arity=0),b)&&"bytesize"},p.$$s=d,p.$$arity=0,p),a).call(f,"UTF-8",w(["aliases","ascii"],{aliases:["CP65001"],ascii:!0}));(a=(n=c.get("Encoding")).$register,a.$$p=(e=function(){var a=e.$$s||this,d,f;c.def(a,"$each_byte",d=function(a){var e=d.$$p||b;d.$$p=null;for(var f=0,g=a.length;f<g;f++){var h=a.charCodeAt(f);c.yield1(e,h&255);c.yield1(e,h>>8)}},d.$$arity=1);return(c.def(a,"$bytesize",f=function(){return this.$bytes().$length()},f.$$arity=0),b)&&"bytesize"},e.$$s=d,e.$$arity=0,e),a).call(n,
"UTF-16LE");(a=(g=c.get("Encoding")).$register,a.$$p=(h=function(){var a=h.$$s||this,d,e;c.def(a,"$each_byte",d=function(a){var e=d.$$p||b;d.$$p=null;for(var f=0,g=a.length;f<g;f++)c.yield1(e,a.charCodeAt(f)&255)},d.$$arity=1);return(c.def(a,"$bytesize",e=function(){return this.$bytes().$length()},e.$$arity=0),b)&&"bytesize"},h.$$s=d,h.$$arity=0,h),a).call(g,"ASCII-8BIT",w(["aliases","ascii"],{aliases:["BINARY"],ascii:!0}));return function(a,$super){function d(){}var e=d=m(a,$super,"String",d),f=
e.$$scope,g,h,p,n,v,w,F;e.$$proto.encoding=b;String.prototype.encoding=f.get("Encoding").$$scope.get("UTF_16LE");c.defn(e,"$bytes",g=function(){return this.$each_byte().$to_a()},g.$$arity=0);c.defn(e,"$bytesize",h=function(){return this.encoding.$bytesize(this)},h.$$arity=0);c.defn(e,"$each_byte",p=function(){var a,c,d=p.$$p||b;p.$$p=null;if(d===b)return this.$enum_for("each_byte");(a=(c=this.encoding).$each_byte,a.$$p=d.$to_proc(),a).call(c,this);return this},p.$$arity=0);c.defn(e,"$encode",n=function(a){return this.$dup().$force_encoding(a)},
n.$$arity=1);c.defn(e,"$encoding",v=function(){return this.encoding},v.$$arity=0);c.defn(e,"$force_encoding",w=function(a){var c;a=f.get("Opal")["$coerce_to!"](a,f.get("String"),"to_str");a=f.get("Encoding").$find(a);if(a["$=="](this.encoding))return this;(c=a["$nil?"]())===b||null==c||c.$$is_boolean&&1!=c||this.$raise(f.get("ArgumentError"),"unknown encoding name - "+a);c=new String(this);c.encoding=a;return c},w.$$arity=1);return(c.defn(e,"$getbyte",F=function(a){return this.encoding.$getbyte(this,
a)},F.$$arity=1),b)&&"getbyte"}(c.base,null)},Opal.modules["corelib/math"]=function(c){var r=c.nil,a=c.module;c.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(f){f=a(f,"Math");var p=f.$$scope,n,e,g,h,d,b,m,w,t,k,l,M,x,C,E,D,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea;c.cdecl(p,"E",Math.E);c.cdecl(p,"PI",Math.PI);c.cdecl(p,"DomainError",p.get("Class").$new(p.get("StandardError")));c.defs(f,"$checked",n=function(a,
b){var c,d=arguments.length;c=d-1;0>c&&(c=0);c=Array(c);for(var e=1;e<d;e++)c[e-1]=arguments[e];if(isNaN(c[0])||2==c.length&&isNaN(c[1]))return NaN;d=Math[a].apply(null,c);isNaN(d)&&this.$raise(p.get("DomainError"),'Numerical argument is out of domain - "'+a+'"');return d},n.$$arity=-2);c.defs(f,"$float!",e=function(a){try{return this.$Float(a)}catch(b){if(c.rescue(b,[p.get("ArgumentError")]))try{return this.$raise(p.get("Opal").$type_error(a,p.get("Float")))}finally{c.pop_exception()}else throw b;
}},e.$$arity=1);c.defs(f,"$integer!",g=function(a){try{return this.$Integer(a)}catch(b){if(c.rescue(b,[p.get("ArgumentError")]))try{return this.$raise(p.get("Opal").$type_error(a,p.get("Integer")))}finally{c.pop_exception()}else throw b;}},g.$$arity=1);f.$module_function();c.defn(f,"$acos",h=function(a){return p.get("Math").$checked("acos",p.get("Math")["$float!"](a))},h.$$arity=1);if((d="undefined"!==typeof Math.acosh)===r||null==d||d.$$is_boolean&&1!=d)Math.acosh=function(a){return Math.log(a+Math.sqrt(a*
a-1))};c.defn(f,"$acosh",b=function(a){return p.get("Math").$checked("acosh",p.get("Math")["$float!"](a))},b.$$arity=1);c.defn(f,"$asin",m=function(a){return p.get("Math").$checked("asin",p.get("Math")["$float!"](a))},m.$$arity=1);if((d="undefined"!==typeof Math.asinh)===r||null==d||d.$$is_boolean&&1!=d)Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))};c.defn(f,"$asinh",w=function(a){return p.get("Math").$checked("asinh",p.get("Math")["$float!"](a))},w.$$arity=1);c.defn(f,"$atan",t=function(a){return p.get("Math").$checked("atan",
p.get("Math")["$float!"](a))},t.$$arity=1);c.defn(f,"$atan2",k=function(a,b){return p.get("Math").$checked("atan2",p.get("Math")["$float!"](a),p.get("Math")["$float!"](b))},k.$$arity=2);if((d="undefined"!==typeof Math.atanh)===r||null==d||d.$$is_boolean&&1!=d)Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))};c.defn(f,"$atanh",l=function(a){return p.get("Math").$checked("atanh",p.get("Math")["$float!"](a))},l.$$arity=1);if((d="undefined"!==typeof Math.cbrt)===r||null==d||d.$$is_boolean&&1!=d)Math.cbrt=
function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var b=a,c=0;.125>b;)b*=8,c--;for(;1<b;)b*=.125,c++;for(b=(-.46946116*b+1.072302)*b+.3812513;0>c;)b*=.5,c++;for(;0<c;)b*=2,c--;b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);return 2/3*b+1/3*a/(b*b)};c.defn(f,"$cbrt",M=function(a){return p.get("Math").$checked("cbrt",p.get("Math")["$float!"](a))},M.$$arity=1);c.defn(f,"$cos",x=function(a){return p.get("Math").$checked("cos",p.get("Math")["$float!"](a))},x.$$arity=1);if((d="undefined"!==
typeof Math.cosh)===r||null==d||d.$$is_boolean&&1!=d)Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2};c.defn(f,"$cosh",C=function(a){return p.get("Math").$checked("cosh",p.get("Math")["$float!"](a))},C.$$arity=1);if((d="undefined"!==typeof Math.erf)===r||null==d||d.$$is_boolean&&1!=d)Math.erf=function(a){var b=1;0>a&&(b=-1);a=Math.abs(a);var c=1/(1+.3275911*a);return b*(1-((((1.061405429*c+-1.453152027)*c+1.421413741)*c+-.284496736)*c+.254829592)*c*Math.exp(-a*a))};c.defn(f,"$erf",E=function(a){return p.get("Math").$checked("erf",
p.get("Math")["$float!"](a))},E.$$arity=1);if((d="undefined"!==typeof Math.erfc)===r||null==d||d.$$is_boolean&&1!=d)Math.erfc=function(a){var b=Math.abs(a),c=1/(.5*b+1),b=c*Math.exp(-b*b-1.26551223+c*(c*(c*(c*(c*(c*(c*(c*(.17087277*c+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-b:b};c.defn(f,"$erfc",D=function(a){return p.get("Math").$checked("erfc",p.get("Math")["$float!"](a))},D.$$arity=1);c.defn(f,"$exp",y=function(a){return p.get("Math").$checked("exp",
p.get("Math")["$float!"](a))},y.$$arity=1);c.defn(f,"$frexp",v=function(a){a=p.get("Math")["$float!"](a);if(isNaN(a))return[NaN,0];var b=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,b),b]},v.$$arity=1);c.defn(f,"$gamma",N=function(a){a=p.get("Math")["$float!"](a);var b,c,d,e;d=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,
2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(p.get("DomainError"),'Numerical argument is out of domain - "gamma"');if(p.get("Integer")["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;if(171<a)return Infinity;c=a-2;for(--a;1<c;)a*=c,c--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*p.get("Math").$gamma("number"===typeof a?
1-a:1["$-"](a)));if(171.35<=a)return Infinity;if(85<a)return c=a*a,b=c*a,d=b*a,e=d*a,Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*c)-139/(51840*b)-571/(2488320*d)+163879/(209018880*e)+5246819/(75246796800*e*a));--a;c=d[0];for(b=1;b<d.length;++b)c+=d[b]/(a+b);b=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(b,a+.5)*Math.exp(-b)*c},N.$$arity=1);if((d="undefined"!==typeof Math.hypot)===r||null==d||d.$$is_boolean&&1!=d)Math.hypot=function(a,b){return Math.sqrt(a*a+b*b)};c.defn(f,
"$hypot",F=function(a,b){return p.get("Math").$checked("hypot",p.get("Math")["$float!"](a),p.get("Math")["$float!"](b))},F.$$arity=2);c.defn(f,"$ldexp",I=function(a,b){a=p.get("Math")["$float!"](a);b=p.get("Math")["$integer!"](b);isNaN(b)&&this.$raise(p.get("RangeError"),"float NaN out of range of integer");return a*Math.pow(2,b)},I.$$arity=2);c.defn(f,"$lgamma",G=function(a){return-1==a?[Infinity,1]:[Math.log(Math.abs(p.get("Math").$gamma(a))),0>p.get("Math").$gamma(a)?-1:1]},G.$$arity=1);c.defn(f,
"$log",K=function(a,b){var c;(c=p.get("String")["$==="](a))===r||null==c||c.$$is_boolean&&1!=c||this.$raise(p.get("Opal").$type_error(a,p.get("Float")));if((c=null==b)===r||null==c||c.$$is_boolean&&1!=c){(c=p.get("String")["$==="](b))===r||null==c||c.$$is_boolean&&1!=c||this.$raise(p.get("Opal").$type_error(b,p.get("Float")));c=p.get("Math").$checked("log",p.get("Math")["$float!"](a));var d=p.get("Math").$checked("log",p.get("Math")["$float!"](b));return"number"===typeof c&&"number"===typeof d?c/
d:c["$/"](d)}return p.get("Math").$checked("log",p.get("Math")["$float!"](a))},K.$$arity=-2);if((d="undefined"!==typeof Math.log10)===r||null==d||d.$$is_boolean&&1!=d)Math.log10=function(a){return Math.log(a)/Math.LN10};c.defn(f,"$log10",z=function(a){var b;(b=p.get("String")["$==="](a))===r||null==b||b.$$is_boolean&&1!=b||this.$raise(p.get("Opal").$type_error(a,p.get("Float")));return p.get("Math").$checked("log10",p.get("Math")["$float!"](a))},z.$$arity=1);if((d="undefined"!==typeof Math.log2)===
r||null==d||d.$$is_boolean&&1!=d)Math.log2=function(a){return Math.log(a)/Math.LN2};c.defn(f,"$log2",q=function(a){var b;(b=p.get("String")["$==="](a))===r||null==b||b.$$is_boolean&&1!=b||this.$raise(p.get("Opal").$type_error(a,p.get("Float")));return p.get("Math").$checked("log2",p.get("Math")["$float!"](a))},q.$$arity=1);c.defn(f,"$sin",A=function(a){return p.get("Math").$checked("sin",p.get("Math")["$float!"](a))},A.$$arity=1);if((d="undefined"!==typeof Math.sinh)===r||null==d||d.$$is_boolean&&
1!=d)Math.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/2};c.defn(f,"$sinh",U=function(a){return p.get("Math").$checked("sinh",p.get("Math")["$float!"](a))},U.$$arity=1);c.defn(f,"$sqrt",S=function(a){return p.get("Math").$checked("sqrt",p.get("Math")["$float!"](a))},S.$$arity=1);c.defn(f,"$tan",Y=function(a){var b;a=p.get("Math")["$float!"](a);return(b=a["$infinite?"]())===r||null==b||b.$$is_boolean&&1!=b?p.get("Math").$checked("tan",p.get("Math")["$float!"](a)):p.get("Float").$$scope.get("NAN")},
Y.$$arity=1);if((d="undefined"!==typeof Math.tanh)===r||null==d||d.$$is_boolean&&1!=d)Math.tanh=function(a){return Infinity==a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))};c.defn(f,"$tanh",ea=function(a){return p.get("Math").$checked("tanh",p.get("Math")["$float!"](a))},ea.$$arity=1)}(c.base)},Opal.modules["corelib/complex"]=function(c){function r(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function a(a,b){return"number"===typeof a&&"number"===typeof b?
a+b:a["$+"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}var n=c.top,e=c.nil,g=c.klass,h=c.module;c.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $to_s $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $infinite?".split(" "));
n.$require("corelib/numeric");(function(d,$super){function h(){}var n=h=g(d,$super,"Complex",h),t=n.$$proto,k=n.$$scope,l,M,x,C,E,D,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q,Z,R,ba,ga,ia,ma;t.real=t.imag=e;c.defs(n,"$rect",l=function(a,c){var d,f,g,h;null==c&&(c=0);((d=(f=(g=(h=k.get("Numeric")["$==="](a),!1!==h&&h!==e&&null!=h?a["$real?"]():h),!1!==g&&g!==e&&null!=g?k.get("Numeric")["$==="](c):g),!1!==f&&f!==e&&null!=f?c["$real?"]():f))===e||null==d||d.$$is_boolean&&1!=d)&&this.$raise(k.get("TypeError"),
"not a real");return this.$new(a,c)},l.$$arity=-2);(function(a){return c.alias(a,"rectangular","rect")})(c.get_singleton_class(n));c.defs(n,"$polar",M=function(a,c){var d,f,g,h;null==c&&(c=0);((d=(f=(g=(h=k.get("Numeric")["$==="](a),!1!==h&&h!==e&&null!=h?a["$real?"]():h),!1!==g&&g!==e&&null!=g?k.get("Numeric")["$==="](c):g),!1!==f&&f!==e&&null!=f?c["$real?"]():f))===e||null==d||d.$$is_boolean&&1!=d)&&this.$raise(k.get("TypeError"),"not a real");return this.$new(r(a,k.get("Math").$cos(c)),r(a,k.get("Math").$sin(c)))},
M.$$arity=-2);n.$attr_reader("real","imag");c.defn(n,"$initialize",x=function(a,c){null==c&&(c=0);this.real=a;return this.imag=c},x.$$arity=-2);c.defn(n,"$coerce",C=function(a){var c,d;return(c=k.get("Complex")["$==="](a))===e||null==c||c.$$is_boolean&&1!=c?(c=(d=k.get("Numeric")["$==="](a),!1!==d&&d!==e&&null!=d?a["$real?"]():d))===e||null==c||c.$$is_boolean&&1!=c?this.$raise(k.get("TypeError"),""+a.$class()+" can't be coerced into Complex"):[k.get("Complex").$new(a,0),this]:[a,this]},C.$$arity=
1);c.defn(n,"$==",E=function(a){var c,d;return(c=k.get("Complex")["$==="](a))===e||null==c||c.$$is_boolean&&1!=c?(c=(d=k.get("Numeric")["$==="](a),!1!==d&&d!==e&&null!=d?a["$real?"]():d))===e||null==c||c.$$is_boolean&&1!=c?a["$=="](this):this.real["$=="](a)?this.imag["$=="](0):this.real["$=="](a):this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):this.real["$=="](a.$real())},E.$$arity=1);c.defn(n,"$-@",D=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},D.$$arity=0);c.defn(n,
"$+",y=function(c){var d,f;return(d=k.get("Complex")["$==="](c))===e||null==d||d.$$is_boolean&&1!=d?(d=(f=k.get("Numeric")["$==="](c),!1!==f&&f!==e&&null!=f?c["$real?"]():f))===e||null==d||d.$$is_boolean&&1!=d?this.$__coerced__("+",c):this.$Complex(a(this.real,c),this.imag):this.$Complex(a(this.real,c.$real()),a(this.imag,c.$imag()))},y.$$arity=1);c.defn(n,"$-",v=function(a){var c,d;return(c=k.get("Complex")["$==="](a))===e||null==c||c.$$is_boolean&&1!=c?(c=(d=k.get("Numeric")["$==="](a),!1!==d&&
d!==e&&null!=d?a["$real?"]():d))===e||null==c||c.$$is_boolean&&1!=c?this.$__coerced__("-",a):this.$Complex(f(this.real,a),this.imag):this.$Complex(f(this.real,a.$real()),f(this.imag,a.$imag()))},v.$$arity=1);c.defn(n,"$*",N=function(c){var d,g;return(d=k.get("Complex")["$==="](c))===e||null==d||d.$$is_boolean&&1!=d?(d=(g=k.get("Numeric")["$==="](c),!1!==g&&g!==e&&null!=g?c["$real?"]():g))===e||null==d||d.$$is_boolean&&1!=d?this.$__coerced__("*",c):this.$Complex(r(this.real,c),r(this.imag,c)):this.$Complex(f(r(this.real,
c.$real()),r(this.imag,c.$imag())),a(r(this.real,c.$imag()),r(this.imag,c.$real())))},N.$$arity=1);c.defn(n,"$/",F=function(a){var c,d,f,g,h;return(c=k.get("Complex")["$==="](a))===e||null==c||c.$$is_boolean&&1!=c?(c=(d=k.get("Numeric")["$==="](a),!1!==d&&d!==e&&null!=d?a["$real?"]():d))===e||null==c||c.$$is_boolean&&1!=c?this.$__coerced__("/",a):this.$Complex(this.real.$quo(a),this.imag.$quo(a)):(c=!1!==(d=!1!==(f=!1!==(g=(h=k.get("Number")["$==="](this.real),!1!==h&&h!==e&&null!=h?this.real["$nan?"]():
h))&&g!==e&&null!=g?g:(h=k.get("Number")["$==="](this.imag),!1!==h&&h!==e&&null!=h?this.imag["$nan?"]():h))&&f!==e&&null!=f?f:(g=k.get("Number")["$==="](a.$real()),!1!==g&&g!==e&&null!=g?a.$real()["$nan?"]():g))&&d!==e&&null!=d?d:(f=k.get("Number")["$==="](a.$imag()),!1!==f&&f!==e&&null!=f?a.$imag()["$nan?"]():f))===e||null==c||c.$$is_boolean&&1!=c?p(r(this,a.$conj()),a.$abs2()):k.get("Complex").$new(k.get("Float").$$scope.get("NAN"),k.get("Float").$$scope.get("NAN"))},F.$$arity=1);c.defn(n,"$**",
I=function(d){var g,h,l,m,t,q=e,n=e,v=e,y=e,w=e,y=v=n=q=w=q=e;if(d["$=="](0))return k.get("Complex").$new(1,0);if((g=k.get("Complex")["$==="](d))===e||null==g||g.$$is_boolean&&1!=g){if((g=k.get("Integer")["$==="](d))===e||null==g||g.$$is_boolean&&1!=g){if((g=!1!==(h=k.get("Float")["$==="](d))&&h!==e&&null!=h?h:k.get("Rational")["$==="](d))===e||null==g||g.$$is_boolean&&1!=g)return this.$__coerced__("**",d);h=this.$polar();g=c.to_ary(h);q=null==g[0]?e:g[0];n=null==g[1]?e:g[1];h;return k.get("Complex").$polar(q["$**"](d),
r(n,d))}if((g="number"===typeof d?0<d:d["$>"](0))===e||null==g||g.$$is_boolean&&1!=g)return p(k.get("Rational").$new(1,1),this)["$**"](d["$-@"]());q=w=this;for(n=f(d,1);(h=n["$!="](0))!==e&&null!=h&&(!h.$$is_boolean||1==h);){for(;(l=(t=n.$divmod(2),m=c.to_ary(t),v=null==m[0]?e:m[0],y=null==m[1]?e:m[1],t,y["$=="](0)))!==e&&null!=l&&(!l.$$is_boolean||1==l);)w=this.$Complex(f(r(w.$real(),w.$real()),r(w.$imag(),w.$imag())),r(r(2,w.$real()),w.$imag())),n=v;q=r(q,w);n=f(n,1)}return q}h=this.$polar();g=
c.to_ary(h);q=null==g[0]?e:g[0];n=null==g[1]?e:g[1];h;v=d.$real();y=d.$imag();w=k.get("Math").$exp(f(r(v,k.get("Math").$log(q)),r(y,n)));q=a(r(n,v),r(y,k.get("Math").$log(q)));return k.get("Complex").$polar(w,q)},I.$$arity=1);c.defn(n,"$abs",G=function(){return k.get("Math").$hypot(this.real,this.imag)},G.$$arity=0);c.defn(n,"$abs2",K=function(){return a(r(this.real,this.real),r(this.imag,this.imag))},K.$$arity=0);c.defn(n,"$angle",z=function(){return k.get("Math").$atan2(this.imag,this.real)},z.$$arity=
0);c.alias(n,"arg","angle");c.defn(n,"$conj",q=function(){return this.$Complex(this.real,this.imag["$-@"]())},q.$$arity=0);c.alias(n,"conjugate","conj");c.defn(n,"$denominator",A=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},A.$$arity=0);c.alias(n,"divide","/");c.defn(n,"$eql?",U=function(a){var c,d;return c=(d=k.get("Complex")["$==="](a),!1!==d&&d!==e&&null!=d?this.real.$class()["$=="](this.imag.$class()):d),!1!==c&&c!==e&&null!=c?this["$=="](a):c},U.$$arity=1);c.defn(n,
"$fdiv",S=function(a){var c;((c=k.get("Numeric")["$==="](a))===e||null==c||c.$$is_boolean&&1!=c)&&this.$raise(k.get("TypeError"),""+a.$class()+" can't be coerced into Complex");return p(this,a)},S.$$arity=1);c.defn(n,"$hash",Y=function(){return"Complex:"+this.real+":"+this.imag},Y.$$arity=0);c.alias(n,"imaginary","imag");c.defn(n,"$inspect",ea=function(){return"("+this.$to_s()+")"},ea.$$arity=0);c.alias(n,"magnitude","abs");c.defn(n,"$numerator",ca=function(){var a=e,a=this.$denominator();return this.$Complex(r(this.real.$numerator(),
p(a,this.real.$denominator())),r(this.imag.$numerator(),p(a,this.imag.$denominator())))},ca.$$arity=0);c.alias(n,"phase","arg");c.defn(n,"$polar",B=function(){return[this.$abs(),this.$arg()]},B.$$arity=0);c.alias(n,"quo","/");c.defn(n,"$rationalize",Q=function(a){var c;1<arguments.length&&this.$raise(k.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");(c=this.imag["$!="](0))===e||null==c||c.$$is_boolean&&1!=c||this.$raise(k.get("RangeError"),"can't' convert "+this+
" into Rational");return this.$real().$rationalize(a)},Q.$$arity=-1);c.defn(n,"$real?",Z=function(){return!1},Z.$$arity=0);c.defn(n,"$rect",R=function(){return[this.real,this.imag]},R.$$arity=0);c.alias(n,"rectangular","rect");c.defn(n,"$to_f",ba=function(){this.imag["$=="](0)||this.$raise(k.get("RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()},ba.$$arity=0);c.defn(n,"$to_i",ga=function(){this.imag["$=="](0)||this.$raise(k.get("RangeError"),"can't convert "+this+" into Integer");
return this.real.$to_i()},ga.$$arity=0);c.defn(n,"$to_r",ia=function(){this.imag["$=="](0)||this.$raise(k.get("RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()},ia.$$arity=0);c.defn(n,"$to_s",ma=function(){var c,d,f,g=e,g=this.real.$inspect(),g=(c=!1!==(d=(f=k.get("Number")["$==="](this.imag),!1!==f&&f!==e&&null!=f?this.imag["$nan?"]():f))&&d!==e&&null!=d?d:this.imag["$positive?"]())===e||null==c||c.$$is_boolean&&1!=c?a(g,"-"):a(g,"+"),g=a(g,this.imag.$abs().$inspect());
(c=(d=k.get("Number")["$==="](this.imag),!1!==d&&d!==e&&null!=d?!1!==(f=this.imag["$nan?"]())&&f!==e&&null!=f?f:this.imag["$infinite?"]():d))===e||null==c||c.$$is_boolean&&1!=c||(g=a(g,"*"));return a(g,"i")},ma.$$arity=0);return c.cdecl(k,"I",n.$new(0,1))})(c.base,c.get("Numeric"));return function(a){a=h(a,"Kernel");var b=a.$$scope,f;c.defn(a,"$Complex",f=function(a,c){null==c&&(c=e);return!1!==c&&c!==e&&null!=c?b.get("Complex").$new(a,c):b.get("Complex").$new(a,0)},f.$$arity=-2)}(c.base)},Opal.modules["corelib/rational"]=
function(c){function r(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function a(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function f(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var e=c.top,g=c.nil,h=c.klass,d=c.module;c.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $attr_reader $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $to_s $<= $truncate $send $convert".split(" "));
e.$require("corelib/numeric");(function(b,$super){function d(){}var e=d=h(b,$super,"Rational",d),k=e.$$proto,l=e.$$scope,M,x,C,E,D,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q,Z,R,ba,ga;k.num=k.den=g;c.defs(e,"$reduce",M=function(b,c){var d,e=g;b=b.$to_i();c=c.$to_i();if(c["$=="](0))this.$raise(l.get("ZeroDivisionError"),"divided by 0");else if((d=r(c,0))!==g&&null!=d&&(!d.$$is_boolean||1==d))b=b["$-@"](),c=c["$-@"]();else if(c["$=="](1))return this.$new(b,c);e=b.$gcd(c);return this.$new(a(b,e),a(c,e))},M.$$arity=
2);c.defs(e,"$convert",x=function(b,c){var d,e,f;(d=!1!==(e=b["$nil?"]())&&e!==g&&null!=e?e:c["$nil?"]())===g||null==d||d.$$is_boolean&&1!=d||this.$raise(l.get("TypeError"),"cannot convert nil into Rational");if((d=(e=l.get("Integer")["$==="](b),!1!==e&&e!==g&&null!=e?l.get("Integer")["$==="](c):e))!==g&&null!=d&&(!d.$$is_boolean||1==d))return this.$reduce(b,c);(d=!1!==(e=!1!==(f=l.get("Float")["$==="](b))&&f!==g&&null!=f?f:l.get("String")["$==="](b))&&e!==g&&null!=e?e:l.get("Complex")["$==="](b))===
g||null==d||d.$$is_boolean&&1!=d||(b=b.$to_r());(d=!1!==(e=!1!==(f=l.get("Float")["$==="](c))&&f!==g&&null!=f?f:l.get("String")["$==="](c))&&e!==g&&null!=e?e:l.get("Complex")["$==="](c))===g||null==d||d.$$is_boolean&&1!=d||(c=c.$to_r());return(d=(e=c["$equal?"](1),!1!==e&&e!==g&&null!=e?l.get("Integer")["$==="](b)["$!"]():e))===g||null==d||d.$$is_boolean&&1!=d?(d=(e=l.get("Numeric")["$==="](b),!1!==e&&e!==g&&null!=e?l.get("Numeric")["$==="](c):e))===g||null==d||d.$$is_boolean&&1!=d?this.$reduce(b,
c):a(b,c):l.get("Opal")["$coerce_to!"](b,l.get("Rational"),"to_r")},x.$$arity=2);e.$attr_reader("numerator","denominator");c.defn(e,"$initialize",C=function(a,b){this.num=a;return this.den=b},C.$$arity=2);c.defn(e,"$numerator",E=function(){return this.num},E.$$arity=0);c.defn(e,"$denominator",D=function(){return this.den},D.$$arity=0);c.defn(e,"$coerce",y=function(a){var b=g,b=a;return l.get("Rational")["$==="](b)?[a,this]:l.get("Integer")["$==="](b)?[a.$to_r(),this]:l.get("Float")["$==="](b)?[a,
this.$to_f()]:g},y.$$arity=1);c.defn(e,"$==",v=function(a){var b=g,b=a;return l.get("Rational")["$==="](b)?this.num["$=="](a.$numerator())?this.den["$=="](a.$denominator()):this.num["$=="](a.$numerator()):l.get("Integer")["$==="](b)?this.num["$=="](a)?this.den["$=="](1):this.num["$=="](a):l.get("Float")["$==="](b)?this.$to_f()["$=="](a):a["$=="](this)},v.$$arity=1);c.defn(e,"$<=>",N=function(a){var b=g,b=a;return l.get("Rational")["$==="](b)?f(p(this.num,a.$denominator()),p(this.den,a.$numerator()))["$<=>"](0):
l.get("Integer")["$==="](b)?f(this.num,p(this.den,a))["$<=>"](0):l.get("Float")["$==="](b)?this.$to_f()["$<=>"](a):this.$__coerced__("<=>",a)},N.$$arity=1);c.defn(e,"$+",F=function(a){var b=g,c=b=g;b=a;l.get("Rational")["$==="](b)?(b=n(p(this.num,a.$denominator()),p(this.den,a.$numerator())),c=p(this.den,a.$denominator()),a=this.$Rational(b,c)):a=l.get("Integer")["$==="](b)?this.$Rational(n(this.num,p(a,this.den)),this.den):l.get("Float")["$==="](b)?n(this.$to_f(),a):this.$__coerced__("+",a);return a},
F.$$arity=1);c.defn(e,"$-",I=function(a){var b=g,c=b=g;b=a;l.get("Rational")["$==="](b)?(b=f(p(this.num,a.$denominator()),p(this.den,a.$numerator())),c=p(this.den,a.$denominator()),a=this.$Rational(b,c)):a=l.get("Integer")["$==="](b)?this.$Rational(f(this.num,p(a,this.den)),this.den):l.get("Float")["$==="](b)?f(this.$to_f(),a):this.$__coerced__("-",a);return a},I.$$arity=1);c.defn(e,"$*",G=function(a){var b=g,c=b=g;b=a;l.get("Rational")["$==="](b)?(b=p(this.num,a.$numerator()),c=p(this.den,a.$denominator()),
a=this.$Rational(b,c)):a=l.get("Integer")["$==="](b)?this.$Rational(p(this.num,a),this.den):l.get("Float")["$==="](b)?p(this.$to_f(),a):this.$__coerced__("*",a);return a},G.$$arity=1);c.defn(e,"$/",K=function(b){var c=g,d=c=g;c=b;l.get("Rational")["$==="](c)?(c=p(this.num,b.$denominator()),d=p(this.den,b.$numerator()),b=this.$Rational(c,d)):b=l.get("Integer")["$==="](c)?b["$=="](0)?a(this.$to_f(),0):this.$Rational(this.num,p(this.den,b)):l.get("Float")["$==="](c)?a(this.$to_f(),b):this.$__coerced__("/",
b);return b},K.$$arity=1);c.defn(e,"$**",z=function(a){var b,c=g,c=a;return l.get("Integer")["$==="](c)?(b=this["$=="](0)?r(a,0):this["$=="](0))===g||null==b||b.$$is_boolean&&1!=b?(b="number"===typeof a?0<a:a["$>"](0))===g||null==b||b.$$is_boolean&&1!=b?(b=r(a,0))===g||null==b||b.$$is_boolean&&1!=b?this.$Rational(1,1):this.$Rational(this.den["$**"](a["$-@"]()),this.num["$**"](a["$-@"]())):this.$Rational(this.num["$**"](a),this.den["$**"](a)):l.get("Float").$$scope.get("INFINITY"):l.get("Float")["$==="](c)?
this.$to_f()["$**"](a):l.get("Rational")["$==="](c)?a["$=="](0)?this.$Rational(1,1):a.$denominator()["$=="](1)?(b=r(a,0))===g||null==b||b.$$is_boolean&&1!=b?this.$Rational(this.num["$**"](a.$numerator()),this.den["$**"](a.$numerator())):this.$Rational(this.den["$**"](a.$numerator().$abs()),this.num["$**"](a.$numerator().$abs())):(b=this["$=="](0)?r(a,0):this["$=="](0))===g||null==b||b.$$is_boolean&&1!=b?this.$to_f()["$**"](a):this.$raise(l.get("ZeroDivisionError"),"divided by 0"):this.$__coerced__("**",
a)},z.$$arity=1);c.defn(e,"$abs",q=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},q.$$arity=0);c.defn(e,"$ceil",A=function(b){null==b&&(b=0);return b["$=="](0)?a(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",b)},A.$$arity=-1);c.alias(e,"divide","/");c.defn(e,"$floor",U=function(b){null==b&&(b=0);return b["$=="](0)?a(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",b)},U.$$arity=-1);c.defn(e,"$hash",S=function(){return"Rational:"+
this.num+":"+this.den},S.$$arity=0);c.defn(e,"$inspect",Y=function(){return"("+this.$to_s()+")"},Y.$$arity=0);c.alias(e,"quo","/");c.defn(e,"$rationalize",ea=function(b){1<arguments.length&&this.$raise(l.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==b)return this;for(var c=b.$abs(),d=f(this,c),c=n(this,c),e=0,g=1,h=1,k=0,p,q,t;;){p=d.$ceil();if("number"===typeof p&&"number"===typeof c?p<=c:p["$<="](c))break;t=p-1;p=t*g+e;q=t*k+h;e=a(1,f(c,t));c=a(1,f(d,
t));d=e;e=g;h=k;g=p;k=q}return this.$Rational(p*g+e,p*k+h)},ea.$$arity=-1);c.defn(e,"$round",ca=function(b){var c,d=g,e=g,d=g;null==b&&(b=0);if(!b["$=="](0))return this.$with_precision("round",b);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;d=n(p(this.num.$abs(),2),this.den);e=p(this.den,2);d=a(d,e).$truncate();return(c=r(this.num,0))===g||null==c||c.$$is_boolean&&1!=c?d:d["$-@"]()},ca.$$arity=-1);c.defn(e,"$to_f",B=function(){return a(this.num,this.den)},B.$$arity=0);c.defn(e,
"$to_i",Q=function(){return this.$truncate()},Q.$$arity=0);c.defn(e,"$to_r",Z=function(){return this},Z.$$arity=0);c.defn(e,"$to_s",R=function(){return""+this.num+"/"+this.den},R.$$arity=0);c.defn(e,"$truncate",ba=function(a){var b;null==a&&(a=0);return a["$=="](0)?(b=r(this.num,0))===g||null==b||b.$$is_boolean&&1!=b?this.$floor():this.$ceil():this.$with_precision("truncate",a)},ba.$$arity=-1);return(c.defn(e,"$with_precision",ga=function(b,c){var d,e=g,f=g;((d=l.get("Integer")["$==="](c))===g||null==
d||d.$$is_boolean&&1!=d)&&this.$raise(l.get("TypeError"),"not an Integer");e=10["$**"](c);f=p(this,e);return(d=r(c,1))===g||null==d||d.$$is_boolean&&1!=d?this.$Rational(f.$send(b),e):a(f.$send(b),e).$to_i()},ga.$$arity=2),g)&&"with_precision"})(c.base,c.get("Numeric"));return function(a){a=d(a,"Kernel");var e=a.$$scope,f;c.defn(a,"$Rational",f=function(a,b){null==b&&(b=1);return e.get("Rational").$convert(a,b)},f.$$arity=-2)}(c.base)},Opal.modules["corelib/time"]=function(c){function r(a,c){return"number"===
typeof a&&"number"===typeof c?a+c:a["$+"](c)}function a(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function f(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var n=c.top,e=c.nil,g=c.slice,h=c.klass,d=c.range;c.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
n.$require("corelib/comparable");return function(b,$super){function n(){}function t(a,b,c,d,f,g){a=a.$$is_string?parseInt(a,10):l.get("Opal")["$coerce_to!"](a,l.get("Integer"),"to_int");if(b===e)b=1;else if(!b.$$is_number)if(b["$respond_to?"]("to_str"))switch(b=b.$to_str(),b.toLowerCase()){case "jan":b=1;break;case "feb":b=2;break;case "mar":b=3;break;case "apr":b=4;break;case "may":b=5;break;case "jun":b=6;break;case "jul":b=7;break;case "aug":b=8;break;case "sep":b=9;break;case "oct":b=10;break;
case "nov":b=11;break;case "dec":b=12;break;default:b=b.$to_i()}else b=l.get("Opal")["$coerce_to!"](b,l.get("Integer"),"to_int");(1>b||12<b)&&k.$raise(l.get("ArgumentError"),"month out of range: "+b);--b;c=c===e?1:c.$$is_string?parseInt(c,10):l.get("Opal")["$coerce_to!"](c,l.get("Integer"),"to_int");(1>c||31<c)&&k.$raise(l.get("ArgumentError"),"day out of range: "+c);d=d===e?0:d.$$is_string?parseInt(d,10):l.get("Opal")["$coerce_to!"](d,l.get("Integer"),"to_int");(0>d||24<d)&&k.$raise(l.get("ArgumentError"),
"hour out of range: "+d);f=f===e?0:f.$$is_string?parseInt(f,10):l.get("Opal")["$coerce_to!"](f,l.get("Integer"),"to_int");(0>f||59<f)&&k.$raise(l.get("ArgumentError"),"min out of range: "+f);g===e?g=0:g.$$is_number||(g=g.$$is_string?parseInt(g,10):l.get("Opal")["$coerce_to!"](g,l.get("Integer"),"to_int"));(0>g||60<g)&&k.$raise(l.get("ArgumentError"),"sec out of range: "+g);return[a,b,c,d,f,g]}var k=n=h(b,$super,"Time",n),l=k.$$scope,M,x,C,E,D,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q,Z,R,ba,ga,ia,ma,la,
na,fa,T,ja,L,O,ka,J,pa,ra,ua,ta,ha;k.$include(l.get("Comparable"));var za="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),va="Sun Mon Tue Wed Thu Fri Sat".split(" "),ya="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),wa="January February March April May June July August September October November December".split(" ");c.defs(k,"$at",M=function(a,b){var c;if(l.get("Time")["$==="](a))return void 0!==b&&this.$raise(l.get("TypeError"),"can't convert Time into an exact number"),
c=new Date(a.getTime()),c.is_utc=a.is_utc,c;a.$$is_number||(a=l.get("Opal")["$coerce_to!"](a,l.get("Integer"),"to_int"));if(void 0===b)return new Date(1E3*a);b.$$is_number||(b=l.get("Opal")["$coerce_to!"](b,l.get("Integer"),"to_int"));return new Date(1E3*a+b/1E3)},M.$$arity=-2);c.defs(k,"$new",x=function(a,b,c,d,f,g,h){null==b&&(b=e);null==c&&(c=e);null==d&&(d=e);null==f&&(f=e);null==g&&(g=e);null==h&&(h=e);if(void 0===a)return new Date;h!==e&&this.$raise(l.get("ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");
g=t(a,b,c,d,f,g);a=g[0];b=g[1];c=g[2];d=g[3];f=g[4];g=g[5];b=new Date(a,b,c,d,f,0,1E3*g);100>a&&b.setFullYear(a);return b},x.$$arity=-1);c.defs(k,"$local",C=function(a,b,c,d,f,h,l,k,p,q){null==b&&(b=e);null==c&&(c=e);null==d&&(d=e);null==f&&(f=e);null==h&&(h=e);null==l&&(l=e);null==k&&(k=e);null==p&&(p=e);null==q&&(q=e);var n;10===arguments.length&&(n=g.call(arguments),a=n[5],b=n[4],c=n[3],d=n[2],f=n[1],h=n[0]);n=t(a,b,c,d,f,h);a=n[0];b=n[1];c=n[2];d=n[3];f=n[4];h=n[5];n=new Date(a,b,c,d,f,0,1E3*
h);100>a&&n.setFullYear(a);return n},C.$$arity=-2);c.defs(k,"$gm",E=function(a,b,c,d,f,h,l,k,p,q){null==b&&(b=e);null==c&&(c=e);null==d&&(d=e);null==f&&(f=e);null==h&&(h=e);null==l&&(l=e);null==k&&(k=e);null==p&&(p=e);null==q&&(q=e);var n;10===arguments.length&&(n=g.call(arguments),a=n[5],b=n[4],c=n[3],d=n[2],f=n[1],h=n[0]);n=t(a,b,c,d,f,h);a=n[0];b=n[1];c=n[2];d=n[3];f=n[4];h=n[5];n=new Date(Date.UTC(a,b,c,d,f,0,1E3*h));100>a&&n.setUTCFullYear(a);n.is_utc=!0;return n},E.$$arity=-2);(function(a){c.alias(a,
"mktime","local");return c.alias(a,"utc","gm")})(c.get_singleton_class(k));c.defs(k,"$now",D=function(){return this.$new()},D.$$arity=0);c.defn(k,"$+",y=function(a){var b;(b=l.get("Time")["$==="](a))===e||null==b||b.$$is_boolean&&1!=b||this.$raise(l.get("TypeError"),"time + time?");a.$$is_number||(a=l.get("Opal")["$coerce_to!"](a,l.get("Integer"),"to_int"));a=new Date(this.getTime()+1E3*a);a.is_utc=this.is_utc;return a},y.$$arity=1);c.defn(k,"$-",v=function(a){var b;if((b=l.get("Time")["$==="](a))!==
e&&null!=b&&(!b.$$is_boolean||1==b))return(this.getTime()-a.getTime())/1E3;a.$$is_number||(a=l.get("Opal")["$coerce_to!"](a,l.get("Integer"),"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;return a},v.$$arity=1);c.defn(k,"$<=>",N=function(a){var b,c=e;return(b=l.get("Time")["$==="](a))===e||null==b||b.$$is_boolean&&1!=b?(c=a["$<=>"](this),(b=c["$nil?"]())===e||null==b||b.$$is_boolean&&1!=b?(b="number"===typeof c?0<c:c["$>"](0))===e||null==b||b.$$is_boolean&&1!=b?(b="number"===typeof c?
0>c:c["$<"](0))===e||null==b||b.$$is_boolean&&1!=b?0:1:-1:e):this.$to_f()["$<=>"](a.$to_f())},N.$$arity=1);c.defn(k,"$==",F=function(a){return this.$to_f()===a.$to_f()},F.$$arity=1);c.defn(k,"$asctime",I=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},I.$$arity=0);c.alias(k,"ctime","asctime");c.defn(k,"$day",G=function(){return this.is_utc?this.getUTCDate():this.getDate()},G.$$arity=0);c.defn(k,"$yday",K=function(){var b=e,c=e,d=e,b=l.get("Time").$new(this.$year()).$to_i(),c=l.get("Time").$new(this.$year(),
this.$month(),this.$day()).$to_i(),d=86400;return r(a(f(c,b),d).$round(),1)},K.$$arity=0);c.defn(k,"$isdst",z=function(){var a=new Date(this.getFullYear(),0,1),b=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),b.getTimezoneOffset())},z.$$arity=0);c.alias(k,"dst?","isdst");c.defn(k,"$dup",q=function(){var a=e,a=new Date(this.getTime());a.$copy_instance_variables(this);a.$initialize_dup(this);return a},q.$$arity=0);c.defn(k,"$eql?",A=function(a){var b;
return b=a["$is_a?"](l.get("Time")),!1!==b&&b!==e&&null!=b?this["$<=>"](a)["$zero?"]():b},A.$$arity=1);c.defn(k,"$friday?",U=function(){return 5==this.$wday()},U.$$arity=0);c.defn(k,"$hash",S=function(){return"Time:"+this.getTime()},S.$$arity=0);c.defn(k,"$hour",Y=function(){return this.is_utc?this.getUTCHours():this.getHours()},Y.$$arity=0);c.defn(k,"$inspect",ea=function(){var a;return(a=this["$utc?"]())===e||null==a||a.$$is_boolean&&1!=a?this.$strftime("%Y-%m-%d %H:%M:%S %z"):this.$strftime("%Y-%m-%d %H:%M:%S UTC")},
ea.$$arity=0);c.alias(k,"mday","day");c.defn(k,"$min",ca=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},ca.$$arity=0);c.defn(k,"$mon",B=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},B.$$arity=0);c.defn(k,"$monday?",Q=function(){return 1==this.$wday()},Q.$$arity=0);c.alias(k,"month","mon");c.defn(k,"$saturday?",Z=function(){return 6==this.$wday()},Z.$$arity=0);c.defn(k,"$sec",R=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},R.$$arity=
0);c.defn(k,"$succ",ba=function(){var a=new Date(this.getTime()+1E3);a.is_utc=this.is_utc;return a},ba.$$arity=0);c.defn(k,"$usec",ga=function(){return 1E3*this.getMilliseconds()},ga.$$arity=0);c.defn(k,"$zone",ia=function(){var a=this.toString(),b;b=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join("");return"GMT"==b&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:b},ia.$$arity=0);c.defn(k,"$getgm",ma=function(){var a=new Date(this.getTime());a.is_utc=!0;return a},ma.$$arity=
0);c.alias(k,"getutc","getgm");c.defn(k,"$gmtime",la=function(){this.is_utc=!0;return this},la.$$arity=0);c.alias(k,"utc","gmtime");c.defn(k,"$gmt?",na=function(){return!0===this.is_utc},na.$$arity=0);c.defn(k,"$gmt_offset",fa=function(){return 60*-this.getTimezoneOffset()},fa.$$arity=0);c.defn(k,"$strftime",T=function(a){var b=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,c,e,f,g){f="";var h=-1!==c.indexOf("0"),l=-1===c.indexOf("-"),k=-1!==c.indexOf("_"),p=-1!==c.indexOf("^"),
V=-1!==c.indexOf("#"),X=(c.match(":")||[]).length;e=parseInt(e,10);h&&k&&(c.indexOf("0")<c.indexOf("_")?h=!1:k=!1);switch(g){case "Y":f+=b.$year();break;case "C":h=!k;f+=Math.round(b.$year()/100);break;case "y":h=!k;f+=b.$year()%100;break;case "m":h=!k;f+=b.$mon();break;case "B":f+=wa[b.$mon()-1];break;case "b":case "h":k=!h;f+=ya[b.$mon()-1];break;case "d":h=!k;f+=b.$day();break;case "e":k=!h;f+=b.$day();break;case "j":f+=b.$yday();break;case "H":h=!k;f+=b.$hour();break;case "k":k=!h;f+=b.$hour();
break;case "I":h=!k;f+=b.$hour()%12||12;break;case "l":k=!h;f+=b.$hour()%12||12;break;case "P":f+=12<=b.$hour()?"pm":"am";break;case "p":f+=12<=b.$hour()?"PM":"AM";break;case "M":h=!k;f+=b.$min();break;case "S":h=!k;f+=b.$sec();break;case "L":h=!k;e=isNaN(e)?3:e;f+=b.getMilliseconds();break;case "N":e=isNaN(e)?9:e;f+=b.getMilliseconds().toString().$rjust(3,"0");f=f.$ljust(e,"0");break;case "z":a=b.getTimezoneOffset();c=Math.floor(Math.abs(a)/60);g=Math.abs(a)%60;f=f+(0>a?"+":"-")+(10>c?"0":"");f+=
c;0<X&&(f+=":");f+=10>g?"0":"";f+=g;1<X&&(f+=":00");break;case "Z":f+=b.$zone();break;case "A":f+=za[b.$wday()];break;case "a":f+=va[b.$wday()];break;case "u":f+=b.$wday()+1;break;case "w":f+=b.$wday();break;case "V":f+=b.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":f+=b.$cweek_cyear()["$[]"](1);break;case "g":f+=b.$cweek_cyear()["$[]"](1)["$[]"](d(-2,-1,!1));break;case "s":f+=b.$to_i();break;case "n":f+="\n";break;case "t":f+="\t";break;case "%":f+="%";break;case "c":f+=b.$strftime("%a %b %e %T %Y");
break;case "D":case "x":f+=b.$strftime("%m/%d/%y");break;case "F":f+=b.$strftime("%Y-%m-%d");break;case "v":f+=b.$strftime("%e-%^b-%4Y");break;case "r":f+=b.$strftime("%I:%M:%S %p");break;case "R":f+=b.$strftime("%H:%M");break;case "T":case "X":f+=b.$strftime("%H:%M:%S");break;default:return a}p&&(f=f.toUpperCase());V&&(f=f.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));l&&(h||k)&&(f=f.$rjust(isNaN(e)?2:e,k?" ":"0"));return f})},T.$$arity=1);c.defn(k,
"$sunday?",ja=function(){return 0==this.$wday()},ja.$$arity=0);c.defn(k,"$thursday?",L=function(){return 4==this.$wday()},L.$$arity=0);c.defn(k,"$to_a",O=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},O.$$arity=0);c.defn(k,"$to_f",ka=function(){return this.getTime()/1E3},ka.$$arity=0);c.defn(k,"$to_i",J=function(){return parseInt(this.getTime()/1E3,10)},J.$$arity=0);c.alias(k,"to_s","inspect");c.defn(k,
"$tuesday?",pa=function(){return 2==this.$wday()},pa.$$arity=0);c.alias(k,"tv_sec","sec");c.alias(k,"tv_usec","usec");c.alias(k,"utc?","gmt?");c.alias(k,"gmtoff","gmt_offset");c.alias(k,"utc_offset","gmt_offset");c.defn(k,"$wday",ra=function(){return this.is_utc?this.getUTCDay():this.getDay()},ra.$$arity=0);c.defn(k,"$wednesday?",ua=function(){return 3==this.$wday()},ua.$$arity=0);c.defn(k,"$year",ta=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},ta.$$arity=0);return(c.defn(k,
"$cweek_cyear",ha=function(){var b,c,d=e,g=e,h=g=g=d=e,h=e,d=l.get("Time").$new(this.$year(),1,1),g=d.$wday(),d=this.$year();(b=(c=p(g,4),!1!==c&&c!==e&&null!=c?g["$!="](0):c))===e||null==b||b.$$is_boolean&&1!=b?(g=f(f(g,7),1),g["$=="](-8)&&(g=-1)):g=f(g,1);g=a(r(this.$yday(),g),7).$ceil();if((b=p(g,0))!==e&&null!=b&&(!b.$$is_boolean||1==b))return l.get("Time").$new(f(this.$year(),1),12,31).$cweek_cyear();g["$=="](53)&&(h=l.get("Time").$new(this.$year(),12,31),h=h.$wday(),(b=(c=p(h,3),!1!==c&&c!==
e&&null!=c?h["$!="](0):c))===e||null==b||b.$$is_boolean&&1!=b||(g=1,d=r(d,1)));return[g,d]},ha.$$arity=0),e)&&"cweek_cyear"}(c.base,Date)},Opal.modules["corelib/struct"]=function(c){function r(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function a(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var n=
c.top,e=c.nil,g=c.klass,h=c.hash2;c.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $> $length $class $each_with_index $[]= $[] $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $join $inspect $each_pair $inject $flatten $to_a $values_at".split(" "));n.$require("corelib/enumerable");return function(d,
$super){function m(){}var n=m=g(d,$super,"Struct",m),t=n.$$scope,k,l,M,x,C,E,D,y,v,N,F,I,G,K,z,q,A,U,S;n.$include(t.get("Enumerable"));c.defs(n,"$new",k=function(a,d){var f,g,h,l,m,p,q=k.$$p||e,n=e,n=arguments.length,v=n-1;0>v&&(v=0);p=Array(v);for(v=1;v<n;v++)p[v-1]=arguments[v];k.$$p=null;if(!1!==a&&a!==e&&null!=a)try{a=t.get("Opal")["$const_name!"](a)}catch(y){if(c.rescue(y,[t.get("TypeError"),t.get("NameError")]))try{p.$unshift(a),a=e}finally{c.pop_exception()}else throw y;}(f=p.$map,f.$$p=(g=
function(a){null==a&&(a=e);return t.get("Opal")["$coerce_to!"](a,t.get("String"),"to_str")},g.$$s=this,g.$$arity=1,g),f).call(p);n=(f=(h=t.get("Class")).$new,f.$$p=(l=function(){var a=l.$$s||this,d,f;(d=p.$each,d.$$p=(f=function(a){var c=f.$$s||this;null==a&&(a=e);return c.$define_struct_attribute(a)},f.$$s=a,f.$$arity=1,f),d).call(p);return function(a){var d;c.defn(a,"$new",d=function(a){var d,f,g=e,g=arguments.length;f=g-0;0>f&&(f=0);f=Array(f);for(var h=0;h<g;h++)f[h-0]=arguments[h];g=this.$allocate();
g.$$data={};(d=g).$initialize.apply(d,c.to_a(f));return g},d.$$arity=-1);return c.alias(a,"[]","new")}(c.get_singleton_class(a))},l.$$s=this,l.$$arity=0,l),f).call(h,this);!1!==q&&q!==e&&null!=q&&(f=(m=n).$module_eval,f.$$p=q.$to_proc(),f).call(m);!1!==a&&a!==e&&null!=a&&t.get("Struct").$const_set(a,n);return n},k.$$arity=-2);c.defs(n,"$define_struct_attribute",l=function(a){var c,d,f;this["$=="](t.get("Struct"))&&this.$raise(t.get("ArgumentError"),"you cannot define attributes to the Struct class");
this.$members()["$<<"](a);(c=this.$define_method,c.$$p=(d=function(){return(d.$$s||this).$$data[a]},d.$$s=this,d.$$arity=0,d),c).call(this,a);return(c=this.$define_method,c.$$p=(f=function(c){var d=f.$$s||this;null==c&&(c=e);return d.$$data[a]=c},f.$$s=this,f.$$arity=1,f),c).call(this,""+a+"=")},l.$$arity=1);c.defs(n,"$members",M=function(){var a;null==this.members&&(this.members=e);this["$=="](t.get("Struct"))&&this.$raise(t.get("ArgumentError"),"the Struct class has no members");return!1!==(a=this.members)&&
a!==e&&null!=a?a:this.members=[]},M.$$arity=0);c.defs(n,"$inherited",x=function(a){var c,d,f=e;null==this.members&&(this.members=e);f=this.members;return(c=a.$instance_eval,c.$$p=(d=function(){return(d.$$s||this).members=f},d.$$s=this,d.$$arity=0,d),c).call(a)},x.$$arity=1);c.defn(n,"$initialize",C=function(a){var c,d,f,g,h=arguments.length,l=h-0;0>l&&(l=0);g=Array(l);for(l=0;l<h;l++)g[l-0]=arguments[l];(c=r(g.$length(),this.$class().$members().$length()))===e||null==c||c.$$is_boolean&&1!=c||this.$raise(t.get("ArgumentError"),
"struct size differs");return(c=(d=this.$class().$members()).$each_with_index,c.$$p=(f=function(a,c){var d=f.$$s||this;null==a&&(a=e);null==c&&(c=e);return d["$[]="](a,g["$[]"](c))},f.$$s=this,f.$$arity=2,f),c).call(d)},C.$$arity=-1);c.defn(n,"$members",E=function(){return this.$class().$members()},E.$$arity=0);c.defn(n,"$hash",D=function(){return t.get("Hash").$new(this.$$data).$hash()},D.$$arity=0);c.defn(n,"$[]",y=function(c){var d;(d=t.get("Integer")["$==="](c))===e||null==d||d.$$is_boolean&&
1!=d?(d=t.get("String")["$==="](c))===e||null==d||d.$$is_boolean&&1!=d?this.$raise(t.get("TypeError"),"no implicit conversion of "+c.$class()+" into Integer"):this.$$data.hasOwnProperty(c)||this.$raise(t.get("NameError").$new("no member '"+c+"' in struct",c)):((d=a(c,this.$class().$members().$size()["$-@"]()))===e||null==d||d.$$is_boolean&&1!=d||this.$raise(t.get("IndexError"),"offset "+c+" too small for struct(size:"+this.$class().$members().$size()+")"),(d=f(c,this.$class().$members().$size()))===
e||null==d||d.$$is_boolean&&1!=d||this.$raise(t.get("IndexError"),"offset "+c+" too large for struct(size:"+this.$class().$members().$size()+")"),c=this.$class().$members()["$[]"](c));c=t.get("Opal")["$coerce_to!"](c,t.get("String"),"to_str");return this.$$data[c]},y.$$arity=1);c.defn(n,"$[]=",v=function(c,d){var g;(g=t.get("Integer")["$==="](c))===e||null==g||g.$$is_boolean&&1!=g?(g=t.get("String")["$==="](c))===e||null==g||g.$$is_boolean&&1!=g?this.$raise(t.get("TypeError"),"no implicit conversion of "+
c.$class()+" into Integer"):((g=this.$class().$members()["$include?"](c.$to_sym()))===e||null==g||g.$$is_boolean&&1!=g)&&this.$raise(t.get("NameError").$new("no member '"+c+"' in struct",c)):((g=a(c,this.$class().$members().$size()["$-@"]()))===e||null==g||g.$$is_boolean&&1!=g||this.$raise(t.get("IndexError"),"offset "+c+" too small for struct(size:"+this.$class().$members().$size()+")"),(g=f(c,this.$class().$members().$size()))===e||null==g||g.$$is_boolean&&1!=g||this.$raise(t.get("IndexError"),
"offset "+c+" too large for struct(size:"+this.$class().$members().$size()+")"),c=this.$class().$members()["$[]"](c));c=t.get("Opal")["$coerce_to!"](c,t.get("String"),"to_str");return this.$$data[c]=d},v.$$arity=2);c.defn(n,"$==",N=function(a){function c(a,d){var e,h,l;f[a.$__id__()]=!0;g[d.$__id__()]=!0;for(e in a.$$data)if(h=a.$$data[e],l=d.$$data[e],t.get("Struct")["$==="](h)){if(!(f.hasOwnProperty(h.$__id__())&&g.hasOwnProperty(l.$__id__())||c(h,l)))return!1}else if(!h["$=="](l))return!1;return!0}
var d;if((d=a["$instance_of?"](this.$class()))===e||null==d||d.$$is_boolean&&1!=d)return!1;var f={},g={};return c(this,a)},N.$$arity=1);c.defn(n,"$eql?",F=function(a){function c(a,d){var e,h,l;f[a.$__id__()]=!0;g[d.$__id__()]=!0;for(e in a.$$data)if(h=a.$$data[e],l=d.$$data[e],t.get("Struct")["$==="](h)){if(!(f.hasOwnProperty(h.$__id__())&&g.hasOwnProperty(l.$__id__())||c(h,l)))return!1}else if(!h["$eql?"](l))return!1;return!0}var d;if((d=a["$instance_of?"](this.$class()))===e||null==d||d.$$is_boolean&&
1!=d)return!1;var f={},g={};return c(this,a)},F.$$arity=1);c.defn(n,"$each",I=function(){var a,d,f,g,h=I.$$p||e;I.$$p=null;if(h===e)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d),a).call(this,"each");(a=(f=this.$class().$members()).$each,a.$$p=(g=function(a){var d=g.$$s||this;null==a&&(a=e);return c.yield1(h,d["$[]"](a))},g.$$s=this,g.$$arity=1,g),a).call(f);return this},I.$$arity=0);c.defn(n,"$each_pair",G=function(){var a,d,f,g,h=G.$$p||e;G.$$p=
null;if(h===e)return(a=this.$enum_for,a.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d),a).call(this,"each_pair");(a=(f=this.$class().$members()).$each,a.$$p=(g=function(a){var d=g.$$s||this;null==a&&(a=e);return c.yield1(h,[a,d["$[]"](a)])},g.$$s=this,g.$$arity=1,g),a).call(f);return this},G.$$arity=0);c.defn(n,"$length",K=function(){return this.$class().$members().$length()},K.$$arity=0);c.alias(n,"size","length");c.defn(n,"$to_a",z=function(){var a,c,d;return(a=(c=this.$class().$members()).$map,
a.$$p=(d=function(a){var c=d.$$s||this;null==a&&(a=e);return c["$[]"](a)},d.$$s=this,d.$$arity=1,d),a).call(c)},z.$$arity=0);c.alias(n,"values","to_a");c.defn(n,"$inspect",q=function(){var a,c,d,f=e,f="#<struct ";(a=(c=t.get("Struct")["$==="](this),!1!==c&&c!==e&&null!=c?this.$class().$name():c))===e||null==a||a.$$is_boolean&&1!=a||(f=p(f,""+this.$class()+" "));f=p(f,(a=(c=this.$each_pair()).$map,a.$$p=(d=function(a,c){null==a&&(a=e);null==c&&(c=e);return""+a+"="+c.$inspect()},d.$$s=this,d.$$arity=
2,d),a).call(c).$join(", "));return f=p(f,">")},q.$$arity=0);c.alias(n,"to_s","inspect");c.defn(n,"$to_h",A=function(){var a,c,d;return(a=(c=this.$class().$members()).$inject,a.$$p=(d=function(a,c){var f=d.$$s||this;null==a&&(a=e);null==c&&(c=e);a["$[]="](c,f["$[]"](c));return a},d.$$s=this,d.$$arity=2,d),a).call(c,h([],{}))},A.$$arity=0);c.defn(n,"$values_at",U=function(a){var c,d,f,g,h=arguments.length;g=h-0;0>g&&(g=0);g=Array(g);for(var l=0;l<h;l++)g[l-0]=arguments[l];g=(c=(d=g).$map,c.$$p=(f=
function(a){null==a&&(a=e);return a.$$is_range?a.$to_a():a},f.$$s=this,f.$$arity=1,f),c).call(d).$flatten();c=[];d=0;for(f=g.length;d<f;d++)g[d].$$is_number||this.$raise(t.get("TypeError"),"no implicit conversion of "+g[d].$class()+" into Integer"),c.push(this["$[]"](g[d]));return c},U.$$arity=-1);return(c.defs(n,"$_load",S=function(a){var d=e,d=a.$values_at.apply(a,c.to_a(this.$members()));return this.$new.apply(this,c.to_a(d))},S.$$arity=1),e)&&"_load"}(c.base,null)},Opal.modules["corelib/io"]=
function(c){var r,a,f=c.nil,p=c.klass,n=c.module,e=c.gvars;c.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $extend".split(" "));(function(a,$super){function d(){}var b=d=p(a,$super,"IO",d),m=b.$$proto,w=b.$$scope,t,k,l,M;m.tty=m.closed=f;c.cdecl(w,"SEEK_SET",0);c.cdecl(w,"SEEK_CUR",1);c.cdecl(w,"SEEK_END",2);c.defn(b,"$tty?",t=function(){return this.tty},t.$$arity=0);c.defn(b,"$closed?",k=function(){return this.closed},k.$$arity=
0);b.$attr_accessor("write_proc");c.defn(b,"$write",l=function(a){this.write_proc(a);return a.$size()},l.$$arity=1);b.$attr_accessor("sync","tty");c.defn(b,"$flush",M=function(){return f},M.$$arity=0);(function(a){a=n(a,"Writable");var b,d,g;c.defn(a,"$<<",b=function(a){this.$write(a);return this},b.$$arity=1);c.defn(a,"$print",d=function(a){var b,c,d;null==e[","]&&(e[","]=f);var g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var l=0;l<g;l++)d[l-0]=arguments[l];this.$write((b=d.$map,b.$$p=(c=
function(a){var b=c.$$s||this;null==a&&(a=f);return b.$String(a)},c.$$s=this,c.$$arity=1,c),b).call(d).$join(e[","]));return f},d.$$arity=-1);c.defn(a,"$puts",g=function(a){var b,c,d,g=f;null==e["/"]&&(e["/"]=f);g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var l=0;l<g;l++)d[l-0]=arguments[l];g=e["/"];(b=d["$empty?"]())===f||null==b||b.$$is_boolean&&1!=b?this.$write((b=d.$map,b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=f);return b.$String(a).$chomp()},c.$$s=this,c.$$arity=1,c),b).call(d).$concat([f]).$join(g)):
this.$write(e["/"]);return f},g.$$arity=-1)})(w.base);return function(a){a=n(a,"Readable");var b=a.$$scope,d,g,l,k;c.defn(a,"$readbyte",d=function(){return this.$getbyte()},d.$$arity=0);c.defn(a,"$readchar",g=function(){return this.$getc()},g.$$arity=0);c.defn(a,"$readline",l=function(a){null==e["/"]&&(e["/"]=f);return this.$raise(b.get("NotImplementedError"))},l.$$arity=-1);c.defn(a,"$readpartial",k=function(a,c){return this.$raise(b.get("NotImplementedError"))},k.$$arity=-2)}(w.base)})(c.base,null);
c.cdecl(c,"STDERR",e.stderr=c.get("IO").$new());c.cdecl(c,"STDIN",e.stdin=c.get("IO").$new());c.cdecl(c,"STDOUT",e.stdout=c.get("IO").$new());r=["object"===typeof process?function(a){process.stdout.write(a)}:function(a){console.log(a)}];a=c.get("STDOUT");a["$write_proc="].apply(a,r);r[r.length-1];r=["object"===typeof process?function(a){process.stderr.write(a)}:function(a){console.warn(a)}];a=c.get("STDERR");a["$write_proc="].apply(a,r);r[r.length-1];c.get("STDOUT").$extend(c.get("IO").$$scope.get("Writable"));
return c.get("STDERR").$extend(c.get("IO").$$scope.get("Writable"))},Opal.modules["corelib/main"]=function(c){var r,a,f=c.top,p=c.nil;c.add_stubs(["$include"]);c.defs(f,"$to_s",r=function(){return"main"},r.$$arity=0);return(c.defs(f,"$include",a=function(a){return c.get("Object").$include(a)},a.$$arity=1),p)&&"include"},Opal.modules["corelib/dir"]=function(c){var r=c.nil,a=c.klass;c.add_stubs(["$[]"]);return function(f,$super){function n(){}var e=n=a(f,$super,"Dir",n);return function(a){var e=a.$$scope,
d,b,f;c.defn(a,"$chdir",d=function(a){var b=d.$$p||r,e=r;d.$$p=null;try{return e=c.current_dir,c.current_dir=a,c.yieldX(b,[])}finally{c.current_dir=e}},d.$$arity=1);c.defn(a,"$pwd",b=function(){return c.current_dir||"."},b.$$arity=0);c.alias(a,"getwd","pwd");return(c.defn(a,"$home",f=function(){var a;return!1!==(a=e.get("ENV")["$[]"]("HOME"))&&a!==r&&null!=a?a:"."},f.$$arity=0),r)&&"home"}(c.get_singleton_class(e))}(c.base,null)},Opal.modules["corelib/file"]=function(c){function r(a,c){return"number"===
typeof a&&"number"===typeof c?a+c:a["$+"](c)}function a(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var f=c.nil,p=c.klass,n=c.range;c.add_stubs("$join $compact $split $== $first $[]= $home $pwd $each $pop $<< $raise $respond_to? $to_path $class $nil? $is_a? $basename $empty? $rindex $[] $+ $- $length $gsub $find $=~".split(" "));return function(e,$super){function h(){}var d=h=p(e,$super,"File",h),b=d.$$scope;c.cdecl(b,"Separator",c.cdecl(b,"SEPARATOR","/"));c.cdecl(b,"ALT_SEPARATOR",
f);c.cdecl(b,"PATH_SEPARATOR",":");c.cdecl(b,"FNM_SYSCASE",0);return function(b){function d(a){return a.substring(1,a.length)}function e(a){for(var b,c;0<a.length;)if(h(a)){b=a;for(a=d(a);0<a.length&&h(a);)a=d(a);if(!a)break;c=b}else a=d(a);return c}function h(a){return a.charAt(0)===p.get("SEPARATOR")}function l(a,b){return 0==a.length?b.length:b.indexOf(a)}var p=b.$$scope,x,C,E,D,y,v,N,F;c.defn(b,"$expand_path",x=function(a,b){var c,d,e,h=f,l=f;null==b&&(b=f);a=[b,a].$compact().$join(p.get("SEPARATOR"));
h=a.$split(p.get("SEPARATOR"));l=[];if(h.$first()["$=="]("~"))h["$[]="](0,p.get("Dir").$home());if(h.$first()["$=="]("."))h["$[]="](0,p.get("Dir").$pwd());(c=(d=h).$each,c.$$p=(e=function(a){null==a&&(a=f);return a["$=="]("..")?l.$pop():l["$<<"](a)},e.$$s=this,e.$$arity=1,e),c).call(d);return l.$join(p.get("SEPARATOR"))},x.$$arity=-2);c.alias(b,"realpath","expand_path");c.defn(b,"$dirname",C=function(a){a===f&&this.$raise(p.get("TypeError"),"no implicit conversion of nil into String");a["$respond_to?"]("to_path")&&
(a=a.$to_path());a.$$is_string||this.$raise(p.get("TypeError"),"no implicit conversion of "+a.$class()+" into String");var b,c;for(b=a;0<b.length&&h(b);)b=d(b);0==b.length?a=a.substring(a.length-1,a.length):0>b.length-a.length&&(a=a.substring(a.indexOf(b)-1,a.length));(c=e(b))||(c=b);return c===a?".":a.substring(0,a.length-c.length)},C.$$arity=1);c.defn(b,"$basename",E=function(a,b){null==b&&(b=f);var c,m,q;m=0;var n=-1,v;a===f&&this.$raise(p.get("TypeError"),"no implicit conversion of nil into String");
a["$respond_to?"]("to_path")&&(a=a.$to_path());a.$$is_string||this.$raise(p.get("TypeError"),"no implicit conversion of "+a.$class()+" into String");b===f||b.$$is_string||this.$raise(p.get("TypeError"),"no implicit conversion of "+b.$class()+" into String");if(0==a.length)return a;for(v=a;h(a);)c=a,a=d(a);if(a){if(c=e(a))for(;h(c);)c=d(c);else c=a;a:for(n=c;0<n.length;)if(h(n)){m=n;for(n=n.substring(1,n.length);0<n.length&&h(n);)n=d(n);if(0==n.length){n=m;break a}}else n=d(n);n=l(n,c);for(m=c;l(m,
c)<n&&"."===m.charAt(0);m=d(m));for(q=null;l(m,c)<n;m=d(m))"."===m.charAt(0)&&(q=m);m=q?l(q,c):n}else m=1;a:{q=a;if(0<=n&&(b===f?m=n:(m=".*"===b?"\\.\\w+":b.replace(/\?/g,"\\?"),m=(m=(new RegExp(m+p.get("Separator")+"*$")).exec(c))?m.index:n),m===v.length)){v=q;break a}v=c.substring(0,m)}return v},E.$$arity=-2);c.defn(b,"$extname",D=function(b){var c,d,e=f,h=f;(c=b["$nil?"]())===f||null==c||c.$$is_boolean&&1!=c||this.$raise(p.get("TypeError"),"no implicit conversion of nil into String");(c=b["$respond_to?"]("to_path"))===
f||null==c||c.$$is_boolean&&1!=c||(b=b.$to_path());((c=b["$is_a?"](p.get("String")))===f||null==c||c.$$is_boolean&&1!=c)&&this.$raise(p.get("TypeError"),"no implicit conversion of "+b.$class()+" into String");e=this.$basename(b);if((c=e["$empty?"]())!==f&&null!=c&&(!c.$$is_boolean||1==c))return"";h=e["$[]"](n(1,-1,!1)).$rindex(".");return(c=!1!==(d=h["$nil?"]())&&d!==f&&null!=d?d:r(h,1)["$=="](a(e.$length(),1)))===f||null==c||c.$$is_boolean&&1!=c?e["$[]"](n(r(h,1),-1,!1)):""},D.$$arity=1);c.defn(b,
"$exist?",y=function(a){return null!=c.modules[a]},y.$$arity=1);c.alias(b,"exists?","exist?");c.defn(b,"$directory?",v=function(a){var b,d,e,h=f,h=f,h=[],l;for(l in c.modules)h.push(l);a=a.$gsub(new RegExp("(^."+p.get("SEPARATOR")+"+|"+p.get("SEPARATOR")+"+$)"));return h=(b=(d=h).$find,b.$$p=(e=function(b){null==b&&(b=f);return b["$=~"](new RegExp("^"+a))},e.$$s=this,e.$$arity=1,e),b).call(d)},v.$$arity=1);c.defn(b,"$join",N=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=
0;d<c;d++)b[d-0]=arguments[d];return b.$join(p.get("SEPARATOR")).$gsub(new RegExp(""+p.get("SEPARATOR")+"+"),p.get("SEPARATOR"))},N.$$arity=-1);return(c.defn(b,"$split",F=function(a){return a.$split(p.get("SEPARATOR"))},F.$$arity=1),f)&&"split"}(c.get_singleton_class(d))}(c.base,c.get("IO"))},Opal.modules["corelib/process"]=function(c){var r=c.nil,a=c.klass;c.add_stubs(["$to_f","$now","$new"]);(function(f,$super){function n(){}var e=n=a(f,$super,"Process",n),g=e.$$scope,h,d,b;c.cdecl(g,"CLOCK_REALTIME",
0);c.cdecl(g,"CLOCK_MONOTONIC",1);c.defs(e,"$pid",h=function(){return 0},h.$$arity=0);c.defs(e,"$times",d=function(){var a=r,a=g.get("Time").$now().$to_f();return g.get("Benchmark").$$scope.get("Tms").$new(a,a,a,a,a)},d.$$arity=0);return(c.defs(e,"$clock_gettime",b=function(a,b){return g.get("Time").$now().$to_f()},b.$$arity=-2),r)&&"clock_gettime"})(c.base,null);(function(f,$super){function n(){}var e=n=a(f,$super,"Signal",n),g;return(c.defs(e,"$trap",g=function(a){return r},g.$$arity=-1),r)&&"trap"})(c.base,
null);return function(f,$super){function n(){}var e=n=a(f,$super,"GC",n),g;return(c.defs(e,"$start",g=function(){return r},g.$$arity=0),r)&&"start"}(c.base,null)},Opal.modules["corelib/unsupported"]=function(c){function r(a){switch(c.config.unsupported_features_severity){case "error":n.get("Kernel").$raise(n.get("NotImplementedError"),a);break;case "warning":d[a]||(d[a]=!0,p.$warn(a))}}var a,f,p=c.top,n=c,e=c.nil,g=c.klass,h=c.module;c.add_stubs(["$raise","$warn","$%"]);var d={};(function(a,$super){function d(){}
var f=d=g(a,$super,"String",d),h=f.$$scope,l,p,n,C,r,D,y,v,N,F,I,G,K,z,q,A,U,S;c.defn(f,"$<<",l=function(a){return this.$raise(h.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},l.$$arity=-1);c.defn(f,"$capitalize!",p=function(a){return this.$raise(h.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},p.$$arity=-1);c.defn(f,"$chomp!",n=function(a){return this.$raise(h.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},n.$$arity=-1);c.defn(f,"$chop!",C=function(a){return this.$raise(h.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},C.$$arity=-1);c.defn(f,"$downcase!",r=function(a){return this.$raise(h.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},r.$$arity=-1);c.defn(f,
"$gsub!",D=function(a){return this.$raise(h.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},D.$$arity=-1);c.defn(f,"$lstrip!",y=function(a){return this.$raise(h.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},y.$$arity=-1);c.defn(f,"$next!",v=function(a){return this.$raise(h.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},
v.$$arity=-1);c.defn(f,"$reverse!",N=function(a){return this.$raise(h.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},N.$$arity=-1);c.defn(f,"$slice!",F=function(a){return this.$raise(h.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},F.$$arity=-1);c.defn(f,"$squeeze!",I=function(a){return this.$raise(h.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},
I.$$arity=-1);c.defn(f,"$strip!",G=function(a){return this.$raise(h.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},G.$$arity=-1);c.defn(f,"$sub!",K=function(a){return this.$raise(h.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},K.$$arity=-1);c.defn(f,"$succ!",z=function(a){return this.$raise(h.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},
z.$$arity=-1);c.defn(f,"$swapcase!",q=function(a){return this.$raise(h.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},q.$$arity=-1);c.defn(f,"$tr!",A=function(a){return this.$raise(h.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},A.$$arity=-1);c.defn(f,"$tr_s!",U=function(a){return this.$raise(h.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},
U.$$arity=-1);return(c.defn(f,"$upcase!",S=function(a){return this.$raise(h.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},S.$$arity=-1),e)&&"upcase!"})(n.base,null);(function(a){a=h(a,"Kernel");var d,e;c.defn(a,"$freeze",d=function(){r("Object freezing is not supported by Opal");return this},d.$$arity=0);c.defn(a,"$frozen?",e=function(){r("Object freezing is not supported by Opal");return!1},e.$$arity=0)})(n.base);(function(a){a=
h(a,"Kernel");var d,e,f;c.defn(a,"$taint",d=function(){r("Object tainting is not supported by Opal");return this},d.$$arity=0);c.defn(a,"$untaint",e=function(){r("Object tainting is not supported by Opal");return this},e.$$arity=0);c.defn(a,"$tainted?",f=function(){r("Object tainting is not supported by Opal");return!1},f.$$arity=0)})(n.base);(function(a,$super){function d(){}var f=d=g(a,$super,"Module",d),h,l,p,n;c.defn(f,"$public",h=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);
for(var d=0;d<c;d++)b[d-0]=arguments[d];0===b.length&&(this.$$module_function=!1);return e},h.$$arity=-1);c.alias(f,"private","public");c.alias(f,"protected","public");c.alias(f,"nesting","public");c.defn(f,"$private_class_method",l=function(a){return this},l.$$arity=-1);c.alias(f,"public_class_method","private_class_method");c.defn(f,"$private_method_defined?",p=function(a){return!1},p.$$arity=1);c.defn(f,"$private_constant",n=function(a){return e},n.$$arity=-1);c.alias(f,"protected_method_defined?",
"private_method_defined?");c.alias(f,"public_instance_methods","instance_methods");return c.alias(f,"public_method_defined?","method_defined?")})(n.base,null);(function(a){a=h(a,"Kernel");var d;c.defn(a,"$private_methods",d=function(a){return[]},d.$$arity=-1);c.alias(a,"private_instance_methods","private_methods")})(n.base);(function(a){a=h(a,"Kernel");var d=a.$$scope,e;c.defn(a,"$eval",e=function(a){return this.$raise(d.get("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+
("See https://github.com/opal/opal/blob/"+d.get("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},e.$$arity=-1)})(n.base);c.defs(p,"$public",a=function(a){return e},a.$$arity=-1);return(c.defs(p,"$private",f=function(a){return e},f.$$arity=-1),e)&&"private"},function(c){var r=c.top;c.add_stubs(["$require"]);r.$require("opal/base");r.$require("opal/mini");r.$require("corelib/string/inheritance");r.$require("corelib/string/encoding");r.$require("corelib/math");r.$require("corelib/complex");
r.$require("corelib/rational");r.$require("corelib/time");r.$require("corelib/struct");r.$require("corelib/io");r.$require("corelib/main");r.$require("corelib/dir");r.$require("corelib/file");r.$require("corelib/process");return r.$require("corelib/unsupported")}(Opal));
(function(c,r){"object"===typeof module&&module.exports?module.exports=r:"function"===typeof define&&define.amd?define("asciidoctor",["module"],function(a){return r(a.config())}):c.Asciidoctor=r})(this,function(c){Opal.modules.set=function(a){function c(a,d){return"number"===typeof a&&"number"===typeof d?a<d:a["$<"](d)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var n=a.nil,e=a.klass,g=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $call $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));
(function(g,$super){function b(){}var m=b=e(g,$super,"Set",b),w=m.$$scope,t,k,l,r,x,C,E,D,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q,Z,R,ba;m.$$proto.hash=n;m.$include(w.get("Enumerable"));a.defs(m,"$[]",t=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var e=0;e<c;e++)b[e-0]=arguments[e];return this.$new(b)},t.$$arity=-1);a.defn(m,"$initialize",k=function(a){var b,c,e,f=k.$$p||n;null==a&&(a=n);k.$$p=null;this.hash=w.get("Hash").$new();if((b=a["$nil?"]())!==n&&null!=b&&(!b.$$is_boolean||
1==b))return n;((b=w.get("Enumerable")["$==="](a))===n||null==b||b.$$is_boolean&&1!=b)&&this.$raise(w.get("ArgumentError"),"value must be enumerable");return!1!==f&&f!==n&&null!=f?(b=(c=a).$each,b.$$p=(e=function(a){var b=e.$$s||this;null==a&&(a=n);return b.$add(f.$call(a))},e.$$s=this,e.$$arity=1,e),b).call(c):this.$merge(a)},k.$$arity=-1);a.defn(m,"$dup",l=function(){var a=n,a=this.$class().$new();return a.$merge(this)},l.$$arity=0);a.defn(m,"$-",r=function(a){var b;((b=a["$respond_to?"]("each"))===
n||null==b||b.$$is_boolean&&1!=b)&&this.$raise(w.get("ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)},r.$$arity=1);a.alias(m,"difference","-");a.defn(m,"$inspect",x=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},x.$$arity=0);a.defn(m,"$==",C=function(a){var b,c,e;return(b=this["$equal?"](a))===n||null==b||b.$$is_boolean&&1!=b?(b=a["$instance_of?"](this.$class()))===n||null==b||b.$$is_boolean&&1!=b?(b=(c=a["$is_a?"](w.get("Set")),!1!==c&&c!==n&&null!=c?this.$size()["$=="](a.$size()):
c))===n||null==b||b.$$is_boolean&&1!=b?!1:(b=(c=a)["$all?"],b.$$p=(e=function(a){var b=e.$$s||this;null==b.hash&&(b.hash=n);null==a&&(a=n);return b.hash["$include?"](a)},e.$$s=this,e.$$arity=1,e),b).call(c):this.hash["$=="](a.$instance_variable_get("@hash")):!0},C.$$arity=1);a.defn(m,"$add",E=function(a){this.hash["$[]="](a,!0);return this},E.$$arity=1);a.alias(m,"<<","add");a.defn(m,"$classify",D=function(){var b,c,e,f,g=D.$$p||n,h=n;D.$$p=null;if(g===n)return this.$enum_for("classify");h=(b=(c=
w.get("Hash")).$new,b.$$p=(e=function(a,b){var c=e.$$s||this;null==a&&(a=n);null==b&&(b=n);return a["$[]="](b,c.$class().$new())},e.$$s=this,e.$$arity=2,e),b).call(c);(b=this.$each,b.$$p=(f=function(b){null==b&&(b=n);return h["$[]"](a.yield1(g,b)).$add(b)},f.$$s=this,f.$$arity=1,f),b).call(this);return h},D.$$arity=0);a.defn(m,"$collect!",y=function(){var b,c,e=y.$$p||n,f=n;y.$$p=null;if(e===n)return this.$enum_for("collect!");f=this.$class().$new();(b=this.$each,b.$$p=(c=function(b){null==b&&(b=
n);return f["$<<"](a.yield1(e,b))},c.$$s=this,c.$$arity=1,c),b).call(this);return this.$replace(f)},y.$$arity=0);a.alias(m,"map!","collect!");a.defn(m,"$delete",v=function(a){this.hash.$delete(a);return this},v.$$arity=1);a.defn(m,"$delete?",N=function(a){var b;if((b=this["$include?"](a))===n||null==b||b.$$is_boolean&&1!=b)return n;this.$delete(a);return this},N.$$arity=1);a.defn(m,"$delete_if",F=function(){try{var b,c,e,f,g,h=F.$$p||n;F.$$p=null;!1!==(b=h!==n)&&b!==n&&null!=b?b:a.ret(this.$enum_for("delete_if"));
(b=(c=(f=this.$select,f.$$p=(g=function(b){null==b&&(b=n);return a.yield1(h,b)},g.$$s=this,g.$$arity=1,g),f).call(this)).$each,b.$$p=(e=function(a){var b=e.$$s||this;null==b.hash&&(b.hash=n);null==a&&(a=n);return b.hash.$delete(a)},e.$$s=this,e.$$arity=1,e),b).call(c);return this}catch(l){if(l===a.returner)return l.$v;throw l;}},F.$$arity=0);a.defn(m,"$add?",I=function(a){var b;return(b=this["$include?"](a))===n||null==b||b.$$is_boolean&&1!=b?this.$add(a):n},I.$$arity=1);a.defn(m,"$each",G=function(){var a,
b,c=G.$$p||n;G.$$p=null;if(c===n)return this.$enum_for("each");(a=(b=this.hash).$each_key,a.$$p=c.$to_proc(),a).call(b);return this},G.$$arity=0);a.defn(m,"$empty?",K=function(){return this.hash["$empty?"]()},K.$$arity=0);a.defn(m,"$eql?",z=function(a){var b,c;return this.hash["$eql?"]((b=a.$instance_eval,b.$$p=(c=function(){var a=c.$$s||this;null==a.hash&&(a.hash=n);return a.hash},c.$$s=this,c.$$arity=0,c),b).call(a))},z.$$arity=1);a.defn(m,"$clear",q=function(){this.hash.$clear();return this},q.$$arity=
0);a.defn(m,"$include?",A=function(a){return this.hash["$include?"](a)},A.$$arity=1);a.alias(m,"member?","include?");a.defn(m,"$merge",U=function(a){var b,c;(b=a.$each,b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=n);return b.$add(a)},c.$$s=this,c.$$arity=1,c),b).call(a);return this},U.$$arity=1);a.defn(m,"$replace",S=function(a){this.$clear();this.$merge(a);return this},S.$$arity=1);a.defn(m,"$size",Y=function(){return this.hash.$size()},Y.$$arity=0);a.alias(m,"length","size");a.defn(m,"$subtract",
ea=function(a){var b,c;(b=a.$each,b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=n);return b.$delete(a)},c.$$s=this,c.$$arity=1,c),b).call(a);return this},ea.$$arity=1);a.defn(m,"$|",ca=function(a){var b;((b=a["$respond_to?"]("each"))===n||null==b||b.$$is_boolean&&1!=b)&&this.$raise(w.get("ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)},ca.$$arity=1);a.defn(m,"$superset?",B=function(a){var b,e;!1!==(b=a["$is_a?"](w.get("Set")))&&b!==n&&null!=b?b:this.$raise(w.get("ArgumentError"),
"value must be a set");return(b=c(this.$size(),a.$size()))===n||null==b||b.$$is_boolean&&1!=b?(b=a["$all?"],b.$$p=(e=function(a){var b=e.$$s||this;null==a&&(a=n);return b["$include?"](a)},e.$$s=this,e.$$arity=1,e),b).call(a):!1},B.$$arity=1);a.alias(m,">=","superset?");a.defn(m,"$proper_superset?",Q=function(a){var b,c;!1!==(b=a["$is_a?"](w.get("Set")))&&b!==n&&null!=b?b:this.$raise(w.get("ArgumentError"),"value must be a set");return(b=p(this.$size(),a.$size()))===n||null==b||b.$$is_boolean&&1!=
b?(b=a["$all?"],b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=n);return b["$include?"](a)},c.$$s=this,c.$$arity=1,c),b).call(a):!1},Q.$$arity=1);a.alias(m,">","proper_superset?");a.defn(m,"$subset?",Z=function(a){var b,e;!1!==(b=a["$is_a?"](w.get("Set")))&&b!==n&&null!=b?b:this.$raise(w.get("ArgumentError"),"value must be a set");return(b=c(a.$size(),this.$size()))===n||null==b||b.$$is_boolean&&1!=b?(b=this["$all?"],b.$$p=(e=function(b){null==b&&(b=n);return a["$include?"](b)},e.$$s=this,e.$$arity=
1,e),b).call(this):!1},Z.$$arity=1);a.alias(m,"<=","subset?");a.defn(m,"$proper_subset?",R=function(a){var b,c;!1!==(b=a["$is_a?"](w.get("Set")))&&b!==n&&null!=b?b:this.$raise(w.get("ArgumentError"),"value must be a set");return(b=p(a.$size(),this.$size()))===n||null==b||b.$$is_boolean&&1!=b?(b=this["$all?"],b.$$p=(c=function(b){null==b&&(b=n);return a["$include?"](b)},c.$$s=this,c.$$arity=1,c),b).call(this):!1},R.$$arity=1);a.alias(m,"<","proper_subset?");a.alias(m,"+","|");a.alias(m,"union","|");
return(a.defn(m,"$to_a",ba=function(){return this.hash.$keys()},ba.$$arity=0),n)&&"to_a"})(a.base,null);return function(c){c=g(c,"Enumerable");var d=c.$$scope,b;a.defn(c,"$to_set",b=function(c,e){var f,g,h,p=b.$$p||n;null==c&&(c=d.get("Set"));var x=arguments.length;h=x-1;0>h&&(h=0);h=Array(h);for(var C=1;C<x;C++)h[C-1]=arguments[C];b.$$p=null;return(f=(g=c).$new,f.$$p=p.$to_proc(),f).apply(g,[this].concat(a.to_a(h)))},b.$$arity=-1)}(a.base)};Opal.modules.strscan=function(a){var c=a.nil,p=a.klass;
a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $private".split(" "));return function(n,$super){function g(){}var h=g=p(n,$super,"StringScanner",g),d=h.$$proto,b,m,w,t,k,l,r,x,C,E,D,y,v,N,F,I,G,K,z,q,A,U,S,Y;d.pos=d.string=d.working=d.matched=d.prev_pos=d.match=c;h.$attr_reader("pos");h.$attr_reader("matched");a.defn(h,"$initialize",b=function(a){this.string=a;this.pos=0;this.matched=c;this.working=a;return this.match=[]},b.$$arity=1);h.$attr_reader("string");a.defn(h,"$beginning_of_line?",
m=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},m.$$arity=0);a.alias(h,"bol?","beginning_of_line?");a.defn(h,"$scan",w=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=c:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):c},w.$$arity=1);a.defn(h,"$scan_until",
t=function(a){a=this.$anchor(a);for(var b=this.pos,d=this.working,g;;)if(g=a.exec(d),b+=1,d=d.substr(1),null==g){if(0===d.length)return this.matched=c}else return this.matched=this.string.substr(this.pos,b-this.pos-1+g[0].length),this.prev_pos=b-1,this.pos=b,this.working=d.substr(g[0].length),this.matched},t.$$arity=1);a.defn(h,"$[]",k=function(a){var b=this.match;0>a&&(a+=b.length);return 0>a||a>=b.length||null==b[a]?c:b[a]},k.$$arity=1);a.defn(h,"$check",l=function(a){a=this.$anchor(a);a=a.exec(this.working);
return null==a?this.matched=c:this.matched=a[0]},l.$$arity=1);a.defn(h,"$check_until",r=function(a){var b=this.prev_pos,d=this.pos;a=this.$scan_until(a);a!==c&&(this.matched=a.substr(-1),this.working=this.string.substr(d));this.prev_pos=b;this.pos=d;return a},r.$$arity=1);a.defn(h,"$peek",x=function(a){return this.working.substring(0,a)},x.$$arity=1);a.defn(h,"$eos?",C=function(){return 0===this.working.length},C.$$arity=0);a.defn(h,"$exist?",E=function(a){a=a.exec(this.working);return null==a?c:
0==a.index?0:a.index+1},E.$$arity=1);a.defn(h,"$skip",D=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=c;a=a[0];var b=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=b;this.working=this.working.substring(b);return b},D.$$arity=1);a.defn(h,"$skip_until",y=function(a){a=this.$scan_until(a);if(a===c)return c;this.matched=a.substr(-1);return a.length},y.$$arity=1);a.defn(h,"$get_byte",v=function(){var a=c;this.pos<this.string.length?(this.prev_pos=this.pos,
this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=c;return a},v.$$arity=0);a.alias(h,"getch","get_byte");a.defn(h,"$match?",N=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return c;this.prev_pos=this.pos;return a[0].length},N.$$arity=1);a.defn(h,"$pos=",F=function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},F.$$arity=1);a.defn(h,"$post_match",I=function(){return this.matched===c?
c:this.string.substr(this.pos)},I.$$arity=0);a.defn(h,"$pre_match",G=function(){return this.matched===c?c:this.string.substr(0,this.prev_pos)},G.$$arity=0);a.defn(h,"$reset",K=function(){this.working=this.string;this.matched=c;return this.pos=0},K.$$arity=0);a.defn(h,"$rest",z=function(){return this.working},z.$$arity=0);a.defn(h,"$rest?",q=function(){return 0!==this.working.length},q.$$arity=0);a.defn(h,"$rest_size",A=function(){return this.$rest().$size()},A.$$arity=0);a.defn(h,"$terminate",U=function(){var a;
this.match=c;return a=[this.string.$length()],this["$pos="].apply(this,a),a[a.length-1]},U.$$arity=0);a.defn(h,"$unscan",S=function(){this.pos=this.prev_pos;this.match=this.prev_pos=c;return this},S.$$arity=0);h.$private();return(a.defn(h,"$anchor",Y=function(a){return new RegExp("^(?:"+a.toString().substr(1,a.toString().length-2)+")")},Y.$$arity=1),c)&&"anchor"}(a.base,null)};Opal.modules["asciidoctor/opal_ext/file"]=function(a){var c=a.nil,p=a.module,n=a.klass,e=a.gvars;a.add_stubs("$new $attr_reader $delete $gsub $== $read $size $to_enum $chomp $each_line $readlines $split $===".split(" "));
(function(e){e=p(e,"Kernel");var h=e.$$scope,d;a.defn(e,"$open",d=function(b,e){var g,p,k=d.$$p||c,l=c,l=arguments.length;p=l-1;0>p&&(p=0);p=Array(p);for(var n=1;n<l;n++)p[n-1]=arguments[n];d.$$p=null;l=(g=h.get("File")).$new.apply(g,[b].concat(a.to_a(p)));return k!==c?a.yield1(k,l):l},d.$$arity=-2)})(a.base);(function(g,$super){function d(){}var b=d=n(g,$super,"File",d),m=b.$$proto,p=b.$$scope,t,k,l,r,x,C,E,D;m.eof=m.path=c;a.cdecl(p,"SEPARATOR","/");a.cdecl(p,"ALT_SEPARATOR",c);b.$attr_reader("eof");
b.$attr_reader("lineno");b.$attr_reader("path");a.defn(b,"$initialize",t=function(a,b){var d=c;null==b&&(b="r");this.path=a;this.contents=c;this.eof=!1;this.lineno=0;b=b.$delete("b");d=/:(.*)/;this.flags=b=b.$gsub(d,"");return p.get("JAVASCRIPT_IO_MODULE")["$=="]("node")?this.fd=require("fs").openSync(a,b):c},t.$$arity=-2);a.defn(b,"$read",k=function(){var a,b=c;return(a=this.eof)===c||null==a||a.$$is_boolean&&1!=a?(b=p.get("File").$read(this.path),this.eof=!0,this.lineno=b.$size(),b):""},k.$$arity=
0);a.defn(b,"$each_line",l=function(b){var d,g=l.$$p||c,k=c;null==e["/"]&&(e["/"]=c);null==b&&(b=e["/"]);l.$$p=null;if((d=this.eof)!==c&&null!=d&&(!d.$$is_boolean||1==d))return g!==c?this:[].$to_enum();if(g!==c){k=p.get("File").$read(this.path);this.eof=!1;this.lineno=0;d=k.$chomp();k=k.length!=d.length;d=d.split(b);for(var m=0,n=d.length;m<n;m++)this.lineno+=1,m<n-1||k?a.yield1(g,d[m]+b):a.yield1(g,d[m]);this.eof=!0;return this}return this.$read().$each_line()},l.$$arity=-1);a.defn(b,"$readlines",
r=function(){return p.get("File").$readlines(this.path)},r.$$arity=0);a.defs(b,"$readlines",x=function(a,b){var d=c;null==e["/"]&&(e["/"]=c);null==b&&(b=e["/"]);d=p.get("File").$read(a);return d.$split(b)},x.$$arity=-2);a.defs(b,"$file?",C=function(a){return!0},C.$$arity=1);a.defs(b,"$readable?",E=function(a){return!0},E.$$arity=1);return(a.defs(b,"$read",D=function(a){var b=c;return function(){b=p.get("JAVASCRIPT_IO_MODULE");if("node"["$==="](b))return require("fs").readFileSync(a,"utf8");if("phantomjs"["$==="](b))return require("fs").read(a);
if("java_nio"["$==="](b)){var c=Java.type("java.nio.file.Paths"),d=[];Java.type("java.nio.file.Files").readAllLines(c.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){d.push(a)});return d.join("\n")}if("xmlhttprequest"["$==="](b)){var d="",e=-1;try{c=new XMLHttpRequest,c.open("GET",a,!1),c.addEventListener("load",function(){e=this.status;if(0==e||200==e)d=this.responseText}),c.overrideMimeType("text/plain"),c.send()}catch(f){e=0}if(404==e||0==e&&""==d)throw p.get("IOError").$new("No such file or directory: "+
a);return d}return"spidermonkey"["$==="](b)?read(a):""}()},D.$$arity=1),c)&&"read"})(a.base,null);return function(e,$super){function d(){}var b=d=n(e,$super,"IO",d),m=b.$$scope,p;return(a.defs(b,"$read",p=function(a){return m.get("File").$read(a)},p.$$arity=1),c)&&"read"}(a.base,null)};Opal.modules["asciidoctor/opal_ext/match_data"]=function(a){var c=a.nil,p=a.klass;a.add_stubs(["$[]="]);return function(n,$super){function g(){}var h=g=p(n,$super,"MatchData",g),d;h.$$proto.matches=c;return(a.defn(h,
"$[]=",d=function(a,c){return this.matches["$[]="](a,c)},d.$$arity=2),c)&&"[]="}(a.base,null)};Opal.modules["asciidoctor/opal_ext/kernel"]=function(a){var c=a.nil,p=a.module;return function(n){n=p(n,"Kernel");var e;a.defn(n,"$freeze",e=function(){return c},e.$$arity=0)}(a.base)};Opal.modules["asciidoctor/opal_ext/thread_safe"]=function(a){var c=a.nil,p=a.module,n=a.klass;p(a.base,"ThreadSafe");c;return function(a,$super){function h(){}h=n(a,$super,"Cache",h);return c}(a.base,a.get("Hash"))};Opal.modules["asciidoctor/converter/base"]=
function(a){var c=a.nil,p=a.module,n=a.klass,e=a.hash2;a.add_stubs(["$include","$node_name","$empty?","$send","$content"]);return function(g){g=p(g,"Asciidoctor").$$scope;p(g.base,"Converter");c;(function(a,$super){function b(){}var c=b=n(a,$super,"Base",b);return c.$include(c.$$scope.get("Converter"))})(g.get("Converter"),null);(function(g,$super){function b(){}var m=b=n(g,$super,"BuiltIn",b),p,t,k,l;a.defn(m,"$initialize",p=function(a,b){null==b&&e([],{});return c},p.$$arity=-2);a.defn(m,"$convert",
t=function(a,b,g){var h;null==b&&(b=c);null==g&&(g=e([],{}));!1!==(h=b)&&h!==c&&null!=h?h:b=a.$node_name();return(h=g["$empty?"]())===c||null==h||h.$$is_boolean&&1!=h?this.$send(b,a,g):this.$send(b,a)},t.$$arity=-2);a.alias(m,"handles?","respond_to?");a.defn(m,"$content",k=function(a){return a.$content()},k.$$arity=1);a.alias(m,"pass","content");return(a.defn(m,"$skip",l=function(a){return c},l.$$arity=1),c)&&"skip"})(g.get("Converter"),null)}(a.base)};Opal.modules["asciidoctor/converter/factory"]=
function(a){var c=a.nil,p=a.module,n=a.klass,e=a.hash2;a.add_stubs("$new $require $to_s $warn $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $== $[] $clear $=== $key?".split(" "));return function(g){(function(g){(function(d,$super){function g(){}var h=g=n(d,$super,"Factory",g),p=h.$$proto,k=h.$$scope,l,r,x,C,E;p.converters=p.star_converter=c;h.__default__=c;(function(d){var g,h,l,k,m,p;a.defn(d,"$default",g=function(d){var e,g;null==this.__default__&&(this.__default__=
c);null==d&&(d=!0);if(!1===d||d===c||null==d)d=!1!==(e=this.__default__)&&e!==c&&null!=e?e:this.$new();else{if(!1===(e=this.__default__)||e===c||null==e){var h;a:{try{((g=null==a.Object.$$scope.ThreadSafe?c:"constant")===c||null==g||g.$$is_boolean&&1!=g)&&this.$require("thread_safe".$to_s());h=this.$new(a.get("ThreadSafe").$$scope.get("Cache").$new());break a}catch(l){if(a.rescue(l,[a.get("LoadError")]))try{this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");
h=this.$new();break a}finally{a.pop_exception()}else throw l;}h=void 0}e=this.__default__=h}d=e}return d},g.$$arity=-1);a.defn(d,"$register",h=function(a,c){null==c&&(c=["*"]);return this.$default().$register(a,c)},h.$$arity=-2);a.defn(d,"$resolve",l=function(a){return this.$default().$resolve(a)},l.$$arity=1);a.defn(d,"$create",k=function(a,c){null==c&&(c=e([],{}));return this.$default().$create(a,c)},k.$$arity=-2);a.defn(d,"$converters",m=function(){return this.$default().$converters()},m.$$arity=
0);return(a.defn(d,"$unregister_all",p=function(){return this.$default().$unregister_all()},p.$$arity=0),c)&&"unregister_all"})(a.get_singleton_class(h));h.$attr_reader("converters");a.defn(h,"$initialize",l=function(a){var d;null==a&&(a=c);this.converters=!1!==(d=a)&&d!==c&&null!=d?d:e([],{});return this.star_converter=c},l.$$arity=-1);a.defn(h,"$register",r=function(a,d){var e,g,h;null==d&&(d=["*"]);(e=(g=d).$each,e.$$p=(h=function(d){var e=h.$$s||this;null==e.converters&&(e.converters=c);null==
d&&(d=c);e.converters["$[]="](d,a);return d["$=="]("*")?e.star_converter=a:c},h.$$s=this,h.$$arity=1,h),e).call(g);return c},r.$$arity=-2);a.defn(h,"$resolve",x=function(a){var d,e;return d=this.converters,!1!==d&&d!==c&&null!=d?!1!==(e=this.converters["$[]"](a))&&e!==c&&null!=e?e:this.star_converter:d},x.$$arity=1);a.defn(h,"$unregister_all",C=function(){this.converters.$clear();return this.star_converter=c},C.$$arity=0);return(a.defn(h,"$create",E=function(d,g){var h,l=this,m=c,p=m=c,n=c;null==
g&&(g=e([],{}));if((h=m=l.$resolve(d))!==c&&null!=h&&(!h.$$is_boolean||1==h))return(h=a.get("Class")["$==="](m))===c||null==h||h.$$is_boolean&&1!=h?m:m.$new(d,g);m=function(){p=d;if("html5"["$==="](p)){var e;try{e=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("Html5Converter")?"constant":c}catch(m){if(m.$$class===a.NameError)e=c;else throw m;}((h=e)===c||null==h||h.$$is_boolean&&1!=h)&&l.$require("asciidoctor/converter/html5".$to_s());return k.get("Html5Converter").$new(d,g)}if("docbook5"["$==="](p)){var n;
try{n=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook5Converter")?"constant":c}catch(m){if(m.$$class===a.NameError)n=c;else throw m;}((h=n)===c||null==h||h.$$is_boolean&&1!=h)&&l.$require("asciidoctor/converter/docbook5".$to_s());return k.get("DocBook5Converter").$new(d,g)}if("docbook45"["$==="](p)){var t;try{t=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook45Converter")?"constant":c}catch(m){if(m.$$class===a.NameError)t=c;else throw m;}((h=t)===c||
null==h||h.$$is_boolean&&1!=h)&&l.$require("asciidoctor/converter/docbook45".$to_s());return k.get("DocBook45Converter").$new(d,g)}if("manpage"["$==="](p)){var x;try{x=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("ManPageConverter")?"constant":c}catch(m){if(m.$$class===a.NameError)x=c;else throw m;}((h=x)===c||null==h||h.$$is_boolean&&1!=h)&&l.$require("asciidoctor/converter/manpage".$to_s());return k.get("ManPageConverter").$new(d,g)}return c}();if((h=g["$key?"]("template_dirs"))===
c||null==h||h.$$is_boolean&&1!=h)return m;var t;try{t=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("TemplateConverter")?"constant":c}catch(q){if(q.$$class===a.NameError)t=c;else throw q;}((h=t)===c||null==h||h.$$is_boolean&&1!=h)&&l.$require("asciidoctor/converter/template".$to_s());var x;try{x=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("CompositeConverter")?"constant":c}catch(q){if(q.$$class===a.NameError)x=c;else throw q;}((h=x)===c||null==h||h.$$is_boolean&&
1!=h)&&l.$require("asciidoctor/converter/composite".$to_s());n=k.get("TemplateConverter").$new(d,g["$[]"]("template_dirs"),g);return k.get("CompositeConverter").$new(d,n,m)},E.$$arity=-2),c)&&"create"})(p(g,"Converter").$$scope.base,null)})(p(g,"Asciidoctor").$$scope.base)}(a.base)};Opal.modules["asciidoctor/converter"]=function(a){var c=a.top,p=a.nil,n=a.module,e=a.range,g=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $extend $include $respond_to? $write $chomp $open $require".split(" "));
(function(c){c=n(c,"Asciidoctor").$$scope;(function(c){c=n(c,"Converter");var b=c.$$scope,f,h;(function(b){b=n(b,"Config");var c=b.$$scope,d;a.defn(b,"$register_for",d=function(b){var d,e,f,g,h,l,m=p,m=arguments.length,n=m-0;0>n&&(n=0);l=Array(n);for(n=0;n<m;n++)l[n-0]=arguments[n];c.get("Factory").$register(this,l);m=function(a){return a}(a.get_singleton_class(this));l["$=="](["*"])?(d=(e=m).$send,d.$$p=(f=function(a){return!0},f.$$s=this,f.$$arity=1,f),d).call(e,"define_method","converts?"):(d=
(g=m).$send,d.$$p=(h=function(a){null==a&&(a=p);return l["$include?"](a)},h.$$s=this,h.$$arity=1,h),d).call(g,"define_method","converts?");return p},d.$$arity=-1)})(b.base);(function(b){b=n(b,"BackendInfo");var c=b.$$scope,d,f,h,m,w,D;a.defn(b,"$backend_info",d=function(){var a;null==this.backend_info&&(this.backend_info=p);return!1!==(a=this.backend_info)&&a!==p&&null!=a?a:this.backend_info=this.$setup_backend_info()},d.$$arity=0);a.defn(b,"$setup_backend_info",f=function(){var b,d=p,f=p,h=p,l=p;
null==this.backend&&(this.backend=p);((b=this.backend)===p||null==b||b.$$is_boolean&&1!=b)&&this.$raise(a.get("ArgumentError"),"Cannot determine backend for converter: "+this.$class());d=this.backend.$sub(c.get("TrailingDigitsRx"),"");(b=f=c.get("DEFAULT_EXTENSIONS")["$[]"](d))===p||null==b||b.$$is_boolean&&1!=b?(d="html",f=".html",l=h="html"):h=f["$[]"](e(1,-1,!1));return g(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:d,outfilesuffix:f,filetype:h,htmlsyntax:l})},f.$$arity=
0);a.defn(b,"$filetype",h=function(a){null==a&&(a=p);return!1!==a&&a!==p&&null!=a?this.$backend_info()["$[]="]("filetype",a):this.$backend_info()["$[]"]("filetype")},h.$$arity=-1);a.defn(b,"$basebackend",m=function(a){null==a&&(a=p);return!1!==a&&a!==p&&null!=a?this.$backend_info()["$[]="]("basebackend",a):this.$backend_info()["$[]"]("basebackend")},m.$$arity=-1);a.defn(b,"$outfilesuffix",w=function(a){null==a&&(a=p);return!1!==a&&a!==p&&null!=a?this.$backend_info()["$[]="]("outfilesuffix",a):this.$backend_info()["$[]"]("outfilesuffix")},
w.$$arity=-1);a.defn(b,"$htmlsyntax",D=function(a){null==a&&(a=p);return!1!==a&&a!==p&&null!=a?this.$backend_info()["$[]="]("htmlsyntax",a):this.$backend_info()["$[]"]("htmlsyntax")},D.$$arity=-1)})(b.base);(function(b){var c=b.$$scope,d;return(a.defn(b,"$included",d=function(a){return a.$extend(c.get("Config"))},d.$$arity=1),p)&&"included"})(a.get_singleton_class(c));c.$include(b.get("Config"));c.$include(b.get("BackendInfo"));a.defn(c,"$initialize",f=function(a,b){null==b&&g([],{});this.backend=
a;return this.$setup_backend_info()},f.$$arity=-2);a.defn(c,"$convert",h=function(b,c,d){null==d&&g([],{});return this.$raise(a.get("NotImplementedError"))},h.$$arity=-2);a.alias(c,"convert_with_options","convert")})(c.base);(function(c){c=n(c,"Writer");var b=c.$$scope,e;a.defn(c,"$write",e=function(c,d){var e,f,g;(e=d["$respond_to?"]("write"))===p||null==e||e.$$is_boolean&&1!=e?(e=(f=a.get("File")).$open,e.$$p=(g=function(a){null==a&&(a=p);return a.$write(c)},g.$$s=this,g.$$arity=1,g),e).call(f,
d,"w"):(d.$write(c.$chomp()),d.$write(b.get("EOL")));return p},e.$$arity=2)})(c.base);(function(c){c=n(c,"VoidWriter");var b;c.$include(c.$$scope.get("Writer"));a.defn(c,"$write",b=function(a,b){return p},b.$$arity=2)})(c.base)})(a.base);c.$require("asciidoctor/converter/base");return c.$require("asciidoctor/converter/factory")};Opal.modules["asciidoctor/converter/composite"]=function(a){var c=a.nil,p=a.module,n=a.klass,e=a.hash2;a.add_stubs("$attr_reader $each $respond_to? $composed $compact $flatten $node_name $convert $converter_for $[] $[]= $find_converter $handles? $raise".split(" "));
return function(g){g=p(g,"Asciidoctor").$$scope;(function(g,$super){function b(){}var m=b=n(g,$super,"CompositeConverter",b),p=m.$$proto,t,k,l,r;p.converter_map=p.converters=c;m.$attr_reader("converters");a.defn(m,"$initialize",t=function(a,b){var g,h,l,k,m=arguments.length;k=m-1;0>k&&(k=0);k=Array(k);for(var p=1;p<m;p++)k[p-1]=arguments[p];this.backend=a;(g=(h=this.converters=k.$flatten().$compact()).$each,g.$$p=(l=function(a){var b=l.$$s||this,e;null==a&&(a=c);return(e=a["$respond_to?"]("composed"))===
c||null==e||e.$$is_boolean&&1!=e?c:a.$composed(b)},l.$$s=this,l.$$arity=1,l),g).call(h);return this.converter_map=e([],{})},t.$$arity=-2);a.defn(m,"$convert",k=function(a,b,g){var h;null==b&&(b=c);null==g&&(g=e([],{}));!1!==(h=b)&&h!==c&&null!=h?h:b=a.$node_name();return this.$converter_for(b).$convert(a,b,g)},k.$$arity=-2);a.alias(m,"convert_with_options","convert");a.defn(m,"$converter_for",l=function(a){var b,e;return b=this.converter_map,!1!==(e=b["$[]"](a))&&e!==c&&null!=e?e:b["$[]="](a,this.$find_converter(a))},
l.$$arity=1);return(a.defn(m,"$find_converter",r=function(b){try{var e,g,h;(e=(g=this.converters).$each,e.$$p=(h=function(e){var g;null==e&&(e=c);if((g=e["$handles?"](b))===c||null==g||g.$$is_boolean&&1!=g)return c;a.ret(e)},h.$$s=this,h.$$arity=1,h),e).call(g);return this.$raise("Could not find a converter to handle transform: "+b)}catch(l){if(l===a.returner)return l.$v;throw l;}},r.$$arity=1),c)&&"find_converter"})(g.get("Converter"),g.get("Converter").$$scope.get("Base"))}(a.base)};Opal.modules["asciidoctor/converter/html5"]=
function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var d=a.nil,b=a.module,
m=a.klass,w=a.hash2,t=a.range;a.add_stubs("$default= $== $[] $instance $empty? $attr $>= $safe $attr? $<< $doctitle $include? $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $index $text $footnotes $nofooter $inspect $!= $document $sections $level $special $numbered $caption $<= $sectnum $< $captioned_title $+ $role $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $each_with_index $items $text? $blocks? $chomp $read_svg_contents $image_uri $to_sym $start_with? $end_with? $list_marker_keyword $parent $warn $context $times $size $columns $colspan $rowspan $rows $select $role? $insert $split $target $type $attributes $references $join $map $chop $read_contents $sub $gsub $match $length".split(" "));
return function(k){k=b(k,"Asciidoctor").$$scope;(function(b,$super){function k(){}var C=k=m(b,$super,"Html5Converter",k),r=C.$$proto,D=C.$$scope,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q,Z,R,ba,ga,ia,ma,la,na,fa,T,ja,L,O,ka,J,pa,ra,ua,ta,ha,za,va,ya,wa;r.xml_mode=r.void_element_slash=r.stylesheets=d;r=[[d,d,d]];y=a.cdecl(D,"QUOTE_TAGS",w("emphasis strong monospaced superscript subscript double single mark asciimath latexmath".split(" "),{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>",
"</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]}));y["$default="].apply(y,r);r[r.length-1];a.cdecl(D,"SvgPreambleRx",/\A.*?(?=<svg\b)/m);a.cdecl(D,"SvgStartTagRx",/\A<svg[^>]*>/);a.cdecl(D,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/);a.defn(C,"$initialize",v=function(a,b){var c;null==b&&(b=w([],{}));this.xml_mode=
b["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=(c=this.xml_mode)===d||null==c||c.$$is_boolean&&1!=c?d:"/";return this.stylesheets=D.get("Stylesheets").$instance()},v.$$arity=-2);a.defn(C,"$document",N=function(a){var b,e,g,h,l,k,m=d,q=d,L=d,T=d,V=d,X=d,H=d,W=X=H=X=H=T=H=T=H=d,q=q=X=X=H=d,m=[],q=this.void_element_slash,L="<br"+q+">";if((b=(T=a.$attr("asset-uri-scheme","https"))["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b)T=""+T+":";V=""+T+"//cdnjs.cloudflare.com/ajax/libs";X=!1!==
(b=c(a.$safe(),D.get("SafeMode").$$scope.get("SECURE")))&&b!==d&&null!=b?b:a["$attr?"]("linkcss");m["$<<"]("<!DOCTYPE html>");H=(b=a["$attr?"]("nolang"))===d||null==b||b.$$is_boolean&&1!=b?' lang="'+a.$attr("lang","en")+'"':d;m["$<<"]("<html"+((b=this.xml_mode)===d||null==b||b.$$is_boolean&&1!=b?d:' xmlns="http://www.w3.org/1999/xhtml"')+H+">");m["$<<"]('<head>\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+q+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+q+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+
q+'>\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+'"'+q+">");if((b=a["$attr?"]("app-name"))!==d&&null!=b&&(!b.$$is_boolean||1==b))m["$<<"]('<meta name="application-name" content="'+a.$attr("app-name")+'"'+q+">");if((b=a["$attr?"]("description"))!==d&&null!=b&&(!b.$$is_boolean||1==b))m["$<<"]('<meta name="description" content="'+a.$attr("description")+'"'+q+">");if((b=a["$attr?"]("keywords"))!==d&&null!=b&&(!b.$$is_boolean||1==b))m["$<<"]('<meta name="keywords" content="'+
a.$attr("keywords")+'"'+q+">");if((b=a["$attr?"]("authors"))!==d&&null!=b&&(!b.$$is_boolean||1==b))m["$<<"]('<meta name="author" content="'+a.$attr("authors")+'"'+q+">");if((b=a["$attr?"]("copyright"))!==d&&null!=b&&(!b.$$is_boolean||1==b))m["$<<"]('<meta name="copyright" content="'+a.$attr("copyright")+'"'+q+">");m["$<<"]("<title>"+a.$doctitle(w(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if((b=D.get("DEFAULT_STYLESHEET_KEYS")["$include?"](a.$attr("stylesheet")))!==d&&
null!=b&&(!b.$$is_boolean||1==b)){if((b=H=a.$attr("webfonts"))!==d&&null!=b&&(!b.$$is_boolean||1==b))m["$<<"]('<link rel="stylesheet" href="'+T+"//fonts.googleapis.com/css?family="+((b=H["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b?H:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700")+'"'+q+">");if(!1!==X&&X!==d&&null!=X)m["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(D.get("DEFAULT_STYLESHEET_NAME"),a.$attr("stylesdir",
""),!1)+'"'+q+">");else m["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if((b=a["$attr?"]("stylesheet"))!==d&&null!=b&&(!b.$$is_boolean||1==b))if(!1!==X&&X!==d&&null!=X)m["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+q+">");else m["$<<"]("<style>\n"+a.$read_asset(a.$normalize_system_path(a.$attr("stylesheet"),a.$attr("stylesdir","")),w(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>");if((b=a["$attr?"]("icons","font"))!==
d&&null!=b&&(!b.$$is_boolean||1==b))if((b=a["$attr?"]("iconfont-remote"))===d||null==b||b.$$is_boolean&&1!=b)T=""+a.$attr("iconfont-name","font-awesome")+".css",m["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(T,a.$attr("stylesdir",""),!1)+'"'+q+">");else m["$<<"]('<link rel="stylesheet" href="'+a.$attr("iconfont-cdn",""+V+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+q+">");H=T=a.$attr("source-highlighter");if("coderay"["$==="](H)){if(a.$attr("coderay-css","class")["$=="]("class"))if(!1!==
X&&X!==d&&null!=X)m["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),a.$attr("stylesdir",""),!1)+'"'+q+">");else m["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](H)&&a.$attr("pygments-css","class")["$=="]("class"))if(H=a.$attr("pygments-style"),!1!==X&&X!==d&&null!=X)m["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(H),a.$attr("stylesdir",""),!1)+'"'+q+">");
else m["$<<"](this.stylesheets.$embed_pygments_stylesheet(H));if((b=(X=a.$docinfo())["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b)m["$<<"](X);m["$<<"]("</head>");H=[];if((b=a.$id())!==d&&null!=b&&(!b.$$is_boolean||1==b))H["$<<"]('id="'+a.$id()+'"');if((b=(e=(g=(h=X=a["$sections?"](),!1!==h&&h!==d&&null!=h?a["$attr?"]("toc-class"):h),!1!==g&&g!==d&&null!=g?a["$attr?"]("toc"):g),!1!==e&&e!==d&&null!=e?a["$attr?"]("toc-placement","auto"):e))===d||null==b||b.$$is_boolean&&1!=b)H["$<<"]('class="'+
a.$doctype()+'"');else H["$<<"]('class="'+a.$doctype()+" "+a.$attr("toc-class")+" toc-"+a.$attr("toc-position","header")+'"');if((b=a["$attr?"]("max-width"))!==d&&null!=b&&(!b.$$is_boolean||1==b))H["$<<"]('style="max-width: '+a.$attr("max-width")+';"');m["$<<"]("<body "+p(H," ")+">");if((b=a.$noheader())===d||null==b||b.$$is_boolean&&1!=b){m["$<<"]('<div id="header">');if(a.$doctype()["$=="]("manpage")){m["$<<"]("<h1>"+a.$doctitle()+" Manual Page</h1>");if((b=(e=(g=!1!==X&&X!==d&&null!=X)?a["$attr?"]("toc"):
X,!1!==e&&e!==d&&null!=e?a["$attr?"]("toc-placement","auto"):e))!==d&&null!=b&&(!b.$$is_boolean||1==b))m["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");m["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else{if((b=a["$has_header?"]())!==d&&null!=b&&(!b.$$is_boolean||1==b)){if((b=a.$notitle())===d||null==b||b.$$is_boolean&&
1!=b)m["$<<"]("<h1>"+a.$header().$title()+"</h1>");W=[];if((b=a["$attr?"]("author"))!==d&&null!=b&&(!b.$$is_boolean||1==b)){W["$<<"]('<span id="author" class="author">'+a.$attr("author")+"</span>"+L);if((b=a["$attr?"]("email"))!==d&&null!=b&&(!b.$$is_boolean||1==b))W["$<<"]('<span id="email" class="email">'+a.$sub_macros(a.$attr("email"))+"</span>"+L);(b=n(H=a.$attr("authorcount").$to_i(),1))===d||null==b||b.$$is_boolean&&1!=b||(b=(e=t(2,H,!1)).$each,b.$$p=(l=function(b){var c;null==b&&(b=d);W["$<<"]('<span id="author'+
b+'" class="author">'+a.$attr("author_"+b)+"</span>"+L);return(c=a["$attr?"]("email_"+b))===d||null==c||c.$$is_boolean&&1!=c?d:W["$<<"]('<span id="email'+b+'" class="email">'+a.$sub_macros(a.$attr("email_"+b))+"</span>"+L)},l.$$s=this,l.$$arity=1,l),b).call(e)}if((b=a["$attr?"]("revnumber"))!==d&&null!=b&&(!b.$$is_boolean||1==b))W["$<<"]('<span id="revnumber">'+(!1!==(b=a.$attr("version-label"))&&b!==d&&null!=b?b:"").$downcase()+" "+a.$attr("revnumber")+((b=a["$attr?"]("revdate"))===d||null==b||b.$$is_boolean&&
1!=b?"":",")+"</span>");if((b=a["$attr?"]("revdate"))!==d&&null!=b&&(!b.$$is_boolean||1==b))W["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>");if((b=a["$attr?"]("revremark"))!==d&&null!=b&&(!b.$$is_boolean||1==b))W["$<<"](""+L+'<span id="revremark">'+a.$attr("revremark")+"</span>");if((b=W["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b)m["$<<"]('<div class="details">'),m.$concat(W),m["$<<"]("</div>")}if((b=(g=(h=!1!==X&&X!==d&&null!=X)?a["$attr?"]("toc"):X,!1!==g&&g!==d&&null!=g?a["$attr?"]("toc-placement",
"auto"):g))!==d&&null!=b&&(!b.$$is_boolean||1==b))m["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>")}m["$<<"]("</div>")}m["$<<"]('<div id="content">\n'+a.$content()+"\n</div>");(b=(g=a["$footnotes?"](),!1!==g&&g!==d&&null!=g?a["$attr?"]("nofootnotes")["$!"]():g))===d||null==b||b.$$is_boolean&&1!=b||(m["$<<"]('<div id="footnotes">\n<hr'+q+">"),(b=(g=a.$footnotes()).$each,b.$$p=(k=function(a){null==a&&(a=
d);return m["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},k.$$s=this,k.$$arity=1,k),b).call(g),m["$<<"]("</div>"));if((b=a.$nofooter())===d||null==b||b.$$is_boolean&&1!=b){m["$<<"]('<div id="footer">');m["$<<"]('<div id="footer-text">');if((b=a["$attr?"]("revnumber"))!==d&&null!=b&&(!b.$$is_boolean||1==b))m["$<<"](""+a.$attr("version-label")+" "+a.$attr("revnumber")+L);if((b=(h=a["$attr?"]("last-update-label"),
!1!==h&&h!==d&&null!=h?a["$attr?"]("reproducible")["$!"]():h))!==d&&null!=b&&(!b.$$is_boolean||1==b))m["$<<"](""+a.$attr("last-update-label")+" "+a.$attr("docdatetime"));m["$<<"]("</div>");m["$<<"]("</div>")}if((b=(X=a.$docinfo("footer"))["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b)m["$<<"](X);H=T;"highlightjs"["$==="](H)||"highlight.js"["$==="](H)?(X=a.$attr("highlightjsdir",""+V+"/highlight.js/8.9.1"),m["$<<"]('<link rel="stylesheet" href="'+X+"/styles/"+a.$attr("highlightjs-theme","github")+
'.min.css"'+q+">"),m["$<<"]('<script src="'+X+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):"prettify"["$==="](H)&&(X=a.$attr("prettifydir",""+V+"/prettify/r298"),m["$<<"]('<link rel="stylesheet" href="'+X+"/"+a.$attr("prettify-theme","prettify")+'.min.css"'+q+">"),m["$<<"]('<script src="'+X+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));(b=a["$attr?"]("stem"))===d||null==b||b.$$is_boolean&&1!=b||(q=a.$attr("eqnums","none"),(b=q["$empty?"]())===
d||null==b||b.$$is_boolean&&1!=b||(q="AMS"),q=' equationNumbers: { autoNumber: "'+q+'" } ',m["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+D.get("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+D.get("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+D.get("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+
'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+q+'}\n});\n\x3c/script>\n<script src="'+V+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));m["$<<"]("</body>");m["$<<"]("</html>");return p(m,D.get("EOL"))},N.$$arity=1);a.defn(C,"$embedded",F=function(a){var b,c,e,f,g,h=d,l=d,k=d,h=[];if(a.$doctype()["$=="]("manpage")){if((b=a.$notitle())===d||null==b||b.$$is_boolean&&1!=b)l=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',h["$<<"]("<h1"+l+">"+
a.$doctitle()+" Manual Page</h1>");h["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else(b=(c=a["$has_header?"](),!1!==c&&c!==d&&null!=c?a.$notitle()["$!"]():c))===d||null==b||b.$$is_boolean&&1!=b||(l=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',h["$<<"]("<h1"+l+">"+a.$header().$title()+"</h1>"));if((b=(c=(e=(f=a["$sections?"](),!1!==f&&f!==d&&null!=f?a["$attr?"]("toc"):f),!1!==e&&
e!==d&&null!=e?(k=a.$attr("toc-placement"))["$!="]("macro"):e),!1!==c&&c!==d&&null!=c?k["$!="]("preamble"):c))!==d&&null!=b&&(!b.$$is_boolean||1==b))h["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");h["$<<"](a.$content());(b=(c=a["$footnotes?"](),!1!==c&&c!==d&&null!=c?a["$attr?"]("nofootnotes")["$!"]():c))===d||null==b||b.$$is_boolean&&1!=b||(h["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),(b=(c=a.$footnotes()).$each,
b.$$p=(g=function(a){null==a&&(a=d);return h["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},g.$$s=this,g.$$arity=1,g),b).call(c),h["$<<"]("</div>"));return p(h,D.get("EOL"))},F.$$arity=1);a.defn(C,"$outline",I=function(a,b){var c,f,h,l=d,k=d,m=d,n=d,q=d,t=d;null==b&&(b=w([],{}));if((c=a["$sections?"]())===d||null==c||c.$$is_boolean&&1!=c)return d;l=!1!==(c=b["$[]"]("sectnumlevels"))&&c!==d&&null!=c?
c:a.$document().$attr("sectnumlevels",3).$to_i();k=!1!==(c=b["$[]"]("toclevels"))&&c!==d&&null!=c?c:a.$document().$attr("toclevels",2).$to_i();m=[];n=a.$sections();q=(t=n["$[]"](0)).$level();(c=(f=q["$=="](0))?t.$special():q["$=="](0))===d||null==c||c.$$is_boolean&&1!=c||(q=1);m["$<<"]('<ul class="sectlevel'+q+'">');(c=(f=n).$each,c.$$p=(h=function(a){var b=h.$$s||this,c,f,u,p=d,n=d;null==a&&(a=d);p=(c=(f=(u=a.$numbered(),!1!==u&&u!==d&&null!=u?a.$caption()["$!"]():u),!1!==f&&f!==d&&null!=f?e(a.$level(),
l):f))===d||null==c||c.$$is_boolean&&1!=c?d:""+a.$sectnum()+" ";if((c=(f=g(a.$level(),k),!1!==f&&f!==d&&null!=f?n=b.$outline(a,w(["toclevels","secnumlevels"],{toclevels:k,secnumlevels:l})):f))===d||null==c||c.$$is_boolean&&1!=c)return m["$<<"]('<li><a href="#'+a.$id()+'">'+p+a.$captioned_title()+"</a></li>");m["$<<"]('<li><a href="#'+a.$id()+'">'+p+a.$captioned_title()+"</a>");m["$<<"](n);return m["$<<"]("</li>")},h.$$s=this,h.$$arity=1,h),c).call(f);m["$<<"]("</ul>");return p(m,D.get("EOL"))},I.$$arity=
-2);a.defn(C,"$section",G=function(a){var b,c,f,g=d,l=d,k=d,m=d,p=d,n=d,q=d,V=d,X=q=d,V=d,g=a.$level();(b=(c=g["$=="](0))?a.$special():g["$=="](0))===d||null==b||b.$$is_boolean&&1!=b||(g=1);l="h"+h(g,1);k=m=p=n=d;(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b||(k=' id="'+(q=a.$id())+'"',(b=(V=a.$document())["$attr?"]("sectanchors"))===d||null==b||b.$$is_boolean&&1!=b||(m='<a class="anchor" href="#'+q+'"></a>'),(b=V["$attr?"]("sectlinks"))===d||null==b||b.$$is_boolean&&1!=b||(p='<a class="link" href="#'+
q+'">',n="</a>"));if(g["$=="](0))return"<h1"+k+' class="sect0">'+m+p+a.$title()+n+"</h1>\n"+a.$content();q=(b=X=a.$role())===d||null==b||b.$$is_boolean&&1!=b?' class="sect'+g+'"':' class="sect'+g+" "+X+'"';V=(b=(c=(f=a.$numbered(),!1!==f&&f!==d&&null!=f?a.$caption()["$!"]():f),!1!==c&&c!==d&&null!=c?e(g,a.$document().$attr("sectnumlevels",3).$to_i()):c))===d||null==b||b.$$is_boolean&&1!=b?d:""+a.$sectnum()+" ";return"<div"+q+">\n<"+l+k+">"+m+p+V+a.$captioned_title()+n+"</"+l+">\n"+(g["$=="](1)?'<div class="sectionbody">\n'+
a.$content()+"\n</div>":a.$content())+"\n</div>"},G.$$arity=1);a.defn(C,"$admonition",K=function(a){var b,c,e=d,f=d,g=d,h=d,l=d,e=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',f=a.$attr("name"),g=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$title()+"</div>\n",h=(b=a.$document()["$attr?"]("icons"))===d||null==b||b.$$is_boolean&&1!=b?'<div class="title">'+a.$caption()+"</div>":(b=(c=a.$document()["$attr?"]("icons","font"),!1!==c&&c!==d&&null!=
c?a["$attr?"]("icon")["$!"]():c))===d||null==b||b.$$is_boolean&&1!=b?'<img src="'+a.$icon_uri(f)+'" alt="'+a.$caption()+'"'+this.void_element_slash+">":'<i class="fa icon-'+f+'" title="'+a.$caption()+'"></i>';return"<div"+e+' class="admonitionblock '+f+(b=l=a.$role(),!1!==b&&b!==d&&null!=b?" "+l:b)+'">\n<table>\n<tr>\n<td class="icon">\n'+h+'\n</td>\n<td class="content">\n'+g+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},K.$$arity=1);a.defn(C,"$audio",z=function(a){var b,c=d,e=d,f=d,g=f=d,c=this.xml_mode,
e=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',f=["audioblock",a.$role()].$compact(),f=' class="'+p(f," ")+'"',g=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+e+f+">\n"+g+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+'"'+((b=a["$option?"]("autoplay"))===d||null==b||b.$$is_boolean&&1!=b?d:this.$append_boolean_attribute("autoplay",c))+((b=a["$option?"]("nocontrols"))===d||null==
b||b.$$is_boolean&&1!=b?this.$append_boolean_attribute("controls",c):d)+((b=a["$option?"]("loop"))===d||null==b||b.$$is_boolean&&1!=b?d:this.$append_boolean_attribute("loop",c))+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},z.$$arity=1);a.defn(C,"$colist",q=function(a){var b,c,e,f,g,l=d,k=d,m=d,n=m=d,l=[],k=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',m=["colist",a.$style(),a.$role()].$compact(),m=' class="'+p(m," ")+'"';l["$<<"]("<div"+k+m+">");
if((b=a["$title?"]())!==d&&null!=b&&(!b.$$is_boolean||1==b))l["$<<"]('<div class="title">'+a.$title()+"</div>");(b=a.$document()["$attr?"]("icons"))===d||null==b||b.$$is_boolean&&1!=b?(l["$<<"]("<ol>"),(b=(f=a.$items()).$each,b.$$p=(g=function(a){null==a&&(a=d);return l["$<<"]("<li>\n<p>"+a.$text()+"</p>\n</li>")},g.$$s=this,g.$$arity=1,g),b).call(f),l["$<<"]("</ol>")):(l["$<<"]("<table>"),n=a.$document()["$attr?"]("icons","font"),(b=(c=a.$items()).$each_with_index,b.$$p=(e=function(b,c){var f=e.$$s||
this,g=d,g=d;null==f.void_element_slash&&(f.void_element_slash=d);null==b&&(b=d);null==c&&(c=d);g=h(c,1);g=!1!==n&&n!==d&&null!=n?'<i class="conum" data-value="'+g+'"></i><b>'+g+"</b>":'<img src="'+a.$icon_uri("callouts/"+g)+'" alt="'+g+'"'+f.void_element_slash+">";return l["$<<"]("<tr>\n<td>"+g+"</td>\n<td>"+b.$text()+"</td>\n</tr>")},e.$$s=this,e.$$arity=2,e),b).call(c),l["$<<"]("</table>"));l["$<<"]("</div>");return p(l,D.get("EOL"))},q.$$arity=1);a.defn(C,"$dlist",A=function(b){var c,e,f,g,h,
l,k,m=d,n=d,q=d,V=q=q=d,X=n=d,m=[],n=(c=b.$id())===d||null==c||c.$$is_boolean&&1!=c?d:' id="'+b.$id()+'"',q=b.$style(),q=("qanda"["$==="](q)?["qlist","qanda",b.$role()]:"horizontal"["$==="](q)?["hdlist",b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),q=' class="'+p(q," ")+'"';m["$<<"]("<div"+n+q+">");if((c=b["$title?"]())!==d&&null!=c&&(!c.$$is_boolean||1==c))m["$<<"]('<div class="title">'+b.$title()+"</div>");q=b.$style();"qanda"["$==="](q)?(m["$<<"]("<ol>"),(c=(e=b.$items()).$each,c.$$p=(f=
function(b,c){var e=f.$$s||this,g,h,l;null==b&&(b=d);null==c&&(c=d);m["$<<"]("<li>");(g=(h=[].concat(a.to_a(b))).$each,g.$$p=(l=function(a){null==a&&(a=d);return m["$<<"]("<p><em>"+a.$text()+"</em></p>")},l.$$s=e,l.$$arity=1,l),g).call(h);if(!1!==c&&c!==d&&null!=c){if((g=c["$text?"]())!==d&&null!=g&&(!g.$$is_boolean||1==g))m["$<<"]("<p>"+c.$text()+"</p>");if((g=c["$blocks?"]())!==d&&null!=g&&(!g.$$is_boolean||1==g))m["$<<"](c.$content())}return m["$<<"]("</li>")},f.$$s=this,f.$$arity=2,f),c).call(e),
m["$<<"]("</ol>")):"horizontal"["$==="](q)?(V=this.void_element_slash,m["$<<"]("<table>"),(c=!1!==(g=b["$attr?"]("labelwidth"))&&g!==d&&null!=g?g:b["$attr?"]("itemwidth"))===d||null==c||c.$$is_boolean&&1!=c||(m["$<<"]("<colgroup>"),n=(c=b["$attr?"]("labelwidth"))===d||null==c||c.$$is_boolean&&1!=c?d:' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"',m["$<<"]("<col"+n+V+">"),n=(c=b["$attr?"]("itemwidth"))===d||null==c||c.$$is_boolean&&1!=c?d:' style="width: '+b.$attr("itemwidth").$chomp("%")+
'%;"',m["$<<"]("<col"+n+V+">"),m["$<<"]("</colgroup>")),(c=(g=b.$items()).$each,c.$$p=(h=function(c,e){var f=h.$$s||this,g,l,u,k=d,p=d;null==c&&(c=d);null==e&&(e=d);m["$<<"]("<tr>");m["$<<"]('<td class="hdlist1'+((g=b["$option?"]("strong"))===d||null==g||g.$$is_boolean&&1!=g?d:" strong")+'">');k=[].concat(a.to_a(c));p=k["$[]"](-1);(g=(l=k).$each,g.$$p=(u=function(a){var b;null==a&&(a=d);m["$<<"](a.$text());return(b=a["$!="](p))===d||null==b||b.$$is_boolean&&1!=b?d:m["$<<"]("<br"+V+">")},u.$$s=f,u.$$arity=
1,u),g).call(l);m["$<<"]("</td>");m["$<<"]('<td class="hdlist2">');if(!1!==e&&e!==d&&null!=e){if((g=e["$text?"]())!==d&&null!=g&&(!g.$$is_boolean||1==g))m["$<<"]("<p>"+e.$text()+"</p>");if((g=e["$blocks?"]())!==d&&null!=g&&(!g.$$is_boolean||1==g))m["$<<"](e.$content())}m["$<<"]("</td>");return m["$<<"]("</tr>")},h.$$s=this,h.$$arity=2,h),c).call(g),m["$<<"]("</table>")):(m["$<<"]("<dl>"),X=(c=b.$style())===d||null==c||c.$$is_boolean&&1!=c?' class="hdlist1"':d,(c=(l=b.$items()).$each,c.$$p=(k=function(b,
c){var e=k.$$s||this,f,g,h;null==b&&(b=d);null==c&&(c=d);(f=(g=[].concat(a.to_a(b))).$each,f.$$p=(h=function(a){null==a&&(a=d);return m["$<<"]("<dt"+X+">"+a.$text()+"</dt>")},h.$$s=e,h.$$arity=1,h),f).call(g);if(!1!==c&&c!==d&&null!=c){m["$<<"]("<dd>");if((f=c["$text?"]())!==d&&null!=f&&(!f.$$is_boolean||1==f))m["$<<"]("<p>"+c.$text()+"</p>");if((f=c["$blocks?"]())!==d&&null!=f&&(!f.$$is_boolean||1==f))m["$<<"](c.$content());return m["$<<"]("</dd>")}return d},k.$$s=this,k.$$arity=2,k),c).call(l),
m["$<<"]("</dl>"));m["$<<"]("</div>");return p(m,D.get("EOL"))},A.$$arity=1);a.defn(C,"$example",U=function(a){var b,c=d,e=d,f=d,c=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',e=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+c+' class="'+((b=f=a.$role())===d||null==b||b.$$is_boolean&&1!=b?"exampleblock":p(["exampleblock",f]," "))+'">\n'+e+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},U.$$arity=
1);a.defn(C,"$floating_title",S=function(a){var b,c=d,e=d,f=d,c="h"+h(a.$level(),1),e=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',f=[a.$style(),a.$role()].$compact();return"<"+c+e+' class="'+p(f," ")+'">'+a.$title()+"</"+c+">"},S.$$arity=1);a.defn(C,"$image",Y=function(a){var b,c,e,f,h=d,l=d,k=d,m=d,n=d,q=d,V=d,X=d,V=k=k=l=l=h=d,h=a.$attr("target"),l=(b=a["$attr?"]("width"))===d||null==b||b.$$is_boolean&&1!=b?d:' width="'+a.$attr("width")+'"',k=(b=a["$attr?"]("height"))===
d||null==b||b.$$is_boolean&&1!=b?d:' height="'+a.$attr("height")+'"';(b=(c=(e=!1!==(f=a["$attr?"]("format","svg",!1))&&f!==d&&null!=f?f:h["$include?"](".svg"),!1!==e&&e!==d&&null!=e?g(a.$document().$safe(),D.get("SafeMode").$$scope.get("SECURE")):e),!1!==c&&c!==d&&null!=c?!1!==(e=m=a["$option?"]("inline"))&&e!==d&&null!=e?e:n=a["$option?"]("interactive"):c))===d||null==b||b.$$is_boolean&&1!=b||(!1!==m&&m!==d&&null!=m?q=!1!==(b=this.$read_svg_contents(a,h))&&b!==d&&null!=b?b:'<span class="alt">'+a.$attr("alt")+
"</span>":!1!==n&&n!==d&&null!=n&&(V=(b=a["$attr?"]("fallback"))===d||null==b||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+l+k+this.void_element_slash+">",q='<object type="image/svg+xml" data="'+a.$image_uri(h)+'"'+l+k+">"+V+"</object>"));!1!==(b=q)&&b!==d&&null!=b?b:q='<img src="'+a.$image_uri(h)+'" alt="'+a.$attr("alt")+'"'+l+k+this.void_element_slash+">";(b=X=a.$attr("link"))===d||null==b||b.$$is_boolean&&
1!=b||(q='<a class="image" href="'+X+'">'+q+"</a>");h=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"';l=["imageblock",a.$role()].$compact();l=' class="'+p(l," ")+'"';k=[];if((b=a["$attr?"]("align"))!==d&&null!=b&&(!b.$$is_boolean||1==b))k["$<<"]("text-align: "+a.$attr("align"));if((b=a["$attr?"]("float"))!==d&&null!=b&&(!b.$$is_boolean||1==b))k["$<<"]("float: "+a.$attr("float"));k=(b=k["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b?' style="'+p(k,";")+'"':d;V=(b=a["$title?"]())===
d||null==b||b.$$is_boolean&&1!=b?d:'\n<div class="title">'+a.$captioned_title()+"</div>";return"<div"+h+l+k+'>\n<div class="content">\n'+q+"\n</div>"+V+"\n</div>"},Y.$$arity=1);a.defn(C,"$listing",ea=function(a){var b,c=d,e=d,f=d,g=d,h=g=c=f=c=d,l=d,c=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&b!==d&&null!=b?b:a["$option?"]("nowrap");a.$style()["$=="]("source")?(f=(b=e=a.$attr("language",d,!1))===d||null==b||b.$$is_boolean&&1!=b?d:' data-lang="'+e+'"',g=a.$document().$attr("source-highlighter"),
"coderay"["$==="](g)?c=' class="CodeRay highlight'+(!1!==c&&c!==d&&null!=c?" nowrap":d)+'"':"pygments"["$==="](g)?c=' class="pygments highlight'+(!1!==c&&c!==d&&null!=c?" nowrap":d)+'"':"highlightjs"["$==="](g)||"highlight.js"["$==="](g)?(c=' class="highlightjs highlight'+(!1!==c&&c!==d&&null!=c?" nowrap":d)+'"',!1!==e&&e!==d&&null!=e&&(f=' class="language-'+e+'"'+f)):"prettify"["$==="](g)?(c=' class="prettyprint highlight'+(!1!==c&&c!==d&&null!=c?" nowrap":d)+((b=a["$attr?"]("linenums"))===d||null==
b||b.$$is_boolean&&1!=b?d:" linenums")+'"',!1!==e&&e!==d&&null!=e&&(f=' class="language-'+e+'"'+f)):"html-pipeline"["$==="](g)?(c=!1!==e&&e!==d&&null!=e?' lang="'+e+'"':d,f=d):(c=' class="highlight'+(!1!==c&&c!==d&&null!=c?" nowrap":d)+'"',!1!==e&&e!==d&&null!=e&&(f=' class="language-'+e+'"'+f)),f="<pre"+c+"><code"+f+">",c="</code></pre>"):(f="<pre"+(!1!==c&&c!==d&&null!=c?' class="nowrap"':d)+">",c="</pre>");g=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"';h=(b=a["$title?"]())===
d||null==b||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+g+' class="listingblock'+(b=l=a.$role(),!1!==b&&b!==d&&null!=b?" "+l:b)+'">\n'+h+'<div class="content">\n'+f+a.$content()+c+"\n</div>\n</div>"},ea.$$arity=1);a.defn(C,"$literal",ca=function(a){var b,c=d,e=d,f=d,g=d,c=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',e=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$title()+"</div>\n",f=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&
b!==d&&null!=b?b:a["$option?"]("nowrap");return"<div"+c+' class="literalblock'+(b=g=a.$role(),!1!==b&&b!==d&&null!=b?" "+g:b)+'">\n'+e+'<div class="content">\n<pre'+(!1!==f&&f!==d&&null!=f?' class="nowrap"':d)+">"+a.$content()+"</pre>\n</div>\n</div>"},ca.$$arity=1);a.defn(C,"$stem",B=function(b){var c,e,f=d,g=d,h=d,l=d,k=d,m=d,f=(c=b.$id())===d||null==c||c.$$is_boolean&&1!=c?d:' id="'+b.$id()+'"',g=(c=b["$title?"]())===d||null==c||c.$$is_boolean&&1!=c?d:'<div class="title">'+b.$title()+"</div>\n";
e=D.get("BLOCK_MATH_DELIMITERS")["$[]"](b.$style().$to_sym());c=a.to_ary(e);h=null==c[0]?d:c[0];l=null==c[1]?d:c[1];e;if((c=(e=(k=b.$content())["$start_with?"](h),!1!==e&&e!==d&&null!=e?k["$end_with?"](l):e))===d||null==c||c.$$is_boolean&&1!=c)k=""+h+k+l;return"<div"+f+' class="'+((c=m=b.$role())===d||null==c||c.$$is_boolean&&1!=c?"stemblock":p(["stemblock",m]," "))+'">\n'+g+'<div class="content">\n'+k+"\n</div>\n</div>"},B.$$arity=1);a.defn(C,"$olist",Q=function(a){var b,c,e,f=d,g=d,h=d,l=g=h=d,
k=h=d,f=[],g=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',h=["olist",a.$style(),a.$role()].$compact(),h=' class="'+p(h," ")+'"';f["$<<"]("<div"+g+h+">");if((b=a["$title?"]())!==d&&null!=b&&(!b.$$is_boolean||1==b))f["$<<"]('<div class="title">'+a.$title()+"</div>");g=(b=l=a.$list_marker_keyword())===d||null==b||b.$$is_boolean&&1!=b?d:' type="'+l+'"';h=(b=a["$attr?"]("start"))===d||null==b||b.$$is_boolean&&1!=b?d:' start="'+a.$attr("start")+'"';k=(b=a["$option?"]("reversed"))===
d||null==b||b.$$is_boolean&&1!=b?d:this.$append_boolean_attribute("reversed",this.xml_mode);f["$<<"]('<ol class="'+a.$style()+'"'+g+h+k+">");(b=(c=a.$items()).$each,b.$$p=(e=function(a){var b;null==a&&(a=d);f["$<<"]("<li>");f["$<<"]("<p>"+a.$text()+"</p>");if((b=a["$blocks?"]())!==d&&null!=b&&(!b.$$is_boolean||1==b))f["$<<"](a.$content());return f["$<<"]("</li>")},e.$$s=this,e.$$arity=1,e),b).call(c);f["$<<"]("</ol>");f["$<<"]("</div>");return p(f,D.get("EOL"))},Q.$$arity=1);a.defn(C,"$open",Z=function(a){var b,
c,e,f=d,g=d,h=d,l=d;if((f=a.$style())["$=="]("abstract")){if((b=a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document()))===d||null==b||b.$$is_boolean&&1!=b)return g=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',h=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$title()+"</div>\n","<div"+g+' class="quoteblock abstract'+(b=l=a.$role(),!1!==b&&b!==d&&null!=b?" "+l:b)+'">\n'+h+"<blockquote>\n"+a.$content()+
"\n</blockquote>\n</div>";this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content.");return""}if((b=f["$=="]("partintro")?!1!==(c=!1!==(e=n(a.$level(),0))&&e!==d&&null!=e?e:a.$parent().$context()["$!="]("section"))&&c!==d&&null!=c?c:a.$document().$doctype()["$!="]("book"):f["$=="]("partintro"))===d||null==b||b.$$is_boolean&&1!=b)return g=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',h=(b=a["$title?"]())===
d||null==b||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$title()+"</div>\n","<div"+g+' class="openblock'+((b=!1!==f&&f!==d&&null!=f?f["$!="]("open"):f)===d||null==b||b.$$is_boolean&&1!=b?"":" "+f)+(b=l=a.$role(),!1!==b&&b!==d&&null!=b?" "+l:b)+'">\n'+h+'<div class="content">\n'+a.$content()+"\n</div>\n</div>";this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content.");return""},Z.$$arity=1);a.defn(C,"$page_break",
R=function(a){return'<div style="page-break-after: always;"></div>'},R.$$arity=1);a.defn(C,"$paragraph",ba=function(a){var b,c=d,c=d,c=(b=a.$role())===d||null==b||b.$$is_boolean&&1!=b?'class="paragraph"':'class="paragraph '+a.$role()+'"',c=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?c:'id="'+a.$id()+'" '+c;return(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?"<div "+c+">\n<p>"+a.$content()+"</p>\n</div>":"<div "+c+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>"},
ba.$$arity=1);a.defn(C,"$preamble",ga=function(a){var b,c,e,f=d,g=d,g=(b=(c=(e=(f=a.$document())["$attr?"]("toc-placement","preamble"),!1!==e&&e!==d&&null!=e?f["$sections?"]():e),!1!==c&&c!==d&&null!=c?f["$attr?"]("toc"):c))===d||null==b||b.$$is_boolean&&1!=b?d:'\n<div id="toc" class="'+f.$attr("toc-class","toc")+'">\n<div id="toctitle">'+f.$attr("toc-title")+"</div>\n"+this.$outline(f)+"\n</div>";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+g+"\n</div>"},ga.$$arity=
1);a.defn(C,"$quote",ia=function(a){var b,c,e=d,f=d,g=f=d,h=d,l=d,k=d,k=h=d,e=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',f=["quoteblock",a.$role()].$compact(),f=' class="'+p(f," ")+'"',g=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'\n<div class="title">'+a.$title()+"</div>",h=(b=a["$attr?"]("attribution"))===d||null==b||b.$$is_boolean&&1!=b?d:a.$attr("attribution"),l=(b=a["$attr?"]("citetitle"))===d||null==b||b.$$is_boolean&&1!=b?d:a.$attr("citetitle");(b=!1!==
(c=h)&&c!==d&&null!=c?c:l)===d||null==b||b.$$is_boolean&&1!=b?k=d:(k=!1!==l&&l!==d&&null!=l?"<cite>"+l+"</cite>":d,h=!1!==h&&h!==d&&null!=h?"&#8212; "+h+(!1!==l&&l!==d&&null!=l?"<br"+this.void_element_slash+">\n":d):d,k='\n<div class="attribution">\n'+h+k+"\n</div>");return"<div"+e+f+">"+g+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+k+"\n</div>"},ia.$$arity=1);a.defn(C,"$thematic_break",ma=function(a){return"<hr"+this.void_element_slash+">"},ma.$$arity=1);a.defn(C,"$sidebar",la=function(a){var b,
c=d,e=d,f=d,c=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',e=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$title()+"</div>\n";return"<div"+c+' class="'+((b=f=a.$role())===d||null==b||b.$$is_boolean&&1!=b?"sidebarblock":p(["sidebarblock",f]," "))+'">\n<div class="content">\n'+e+a.$content()+"\n</div>\n</div>"},la.$$arity=1);a.defn(C,"$table",na=function(a){var b,c,e,f,g,h,l,k,m,q,V=d,X=d,H=d,W=d,t=d,L=W=H=d,T=d,V=[],X=(b=a.$id())===d||null==
b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',H=["tableblock","frame-"+a.$attr("frame","all"),"grid-"+a.$attr("grid","all")],W=[];if((b=(c=a["$option?"]("autowidth"),!1!==c&&c!==d&&null!=c?a["$attr?"]("width",d,!1)["$!"]():c))===d||null==b||b.$$is_boolean&&1!=b)if((b=a["$attr?"]("tablepcwidth",100))===d||null==b||b.$$is_boolean&&1!=b)W["$<<"]("width: "+a.$attr("tablepcwidth")+"%;");else H["$<<"]("spread");if((b=t=a.$role())!==d&&null!=b&&(!b.$$is_boolean||1==b))H["$<<"](t);H=' class="'+p(H," ")+'"';
if((b=a["$attr?"]("float"))!==d&&null!=b&&(!b.$$is_boolean||1==b))W["$<<"]("float: "+a.$attr("float")+";");W=(b=W["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b?' style="'+p(W," ")+'"':d;V["$<<"]("<table"+X+H+W+">");if((b=a["$title?"]())!==d&&null!=b&&(!b.$$is_boolean||1==b))V["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");(b=n(a.$attr("rowcount"),0))===d||null==b||b.$$is_boolean&&1!=b||(L=this.void_element_slash,V["$<<"]("<colgroup>"),(b=a["$option?"]("autowidth"))===d||null==
b||b.$$is_boolean&&1!=b?(b=(f=a.$columns()).$each,b.$$p=(g=function(a){null==a&&(a=d);return V["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+L+">")},g.$$s=this,g.$$arity=1,g),b).call(f):(T="<col"+L+">",(b=(c=a.$columns().$size()).$times,b.$$p=(e=function(){return V["$<<"](T)},e.$$s=this,e.$$arity=0,e),b).call(c)),V["$<<"]("</colgroup>"),(b=(h=(k=(m=["head","foot","body"]).$select,k.$$p=(q=function(b){null==b&&(b=d);return a.$rows()["$[]"](b)["$empty?"]()["$!"]()},q.$$s=this,q.$$arity=1,
q),k).call(m)).$each,b.$$p=(l=function(b){var c=l.$$s||this,e,f,g;null==b&&(b=d);V["$<<"]("<t"+b+">");(e=(f=a.$rows()["$[]"](b)).$each,e.$$p=(g=function(c){var e=g.$$s||this,f,h,l;null==c&&(c=d);V["$<<"]("<tr>");(f=(h=c).$each,f.$$p=(l=function(c){var e=l.$$s||this,f,g,h,k,m=d,p=d,H=p=d,u=d,X=d,n=d;null==c&&(c=d);b["$=="]("head")?m=c.$text():(p=c.$style(),"asciidoc"["$==="](p)?m="<div>"+c.$content()+"</div>":"verse"["$==="](p)?m='<div class="verse">'+c.$text()+"</div>":"literal"["$==="](p)?m='<div class="literal"><pre>'+
c.$text()+"</pre></div>":(m="",(f=(g=c.$content()).$each,f.$$p=(h=function(a){null==a&&(a=d);return m=""+m+'<p class="tableblock">'+a+"</p>"},h.$$s=e,h.$$arity=1,h),f).call(g)));p=(f=!1!==(k=b["$=="]("head"))&&k!==d&&null!=k?k:c.$style()["$=="]("header"))===d||null==f||f.$$is_boolean&&1!=f?"td":"th";H=' class="tableblock halign-'+c.$attr("halign")+" valign-"+c.$attr("valign")+'"';u=(f=c.$colspan())===d||null==f||f.$$is_boolean&&1!=f?d:' colspan="'+c.$colspan()+'"';X=(f=c.$rowspan())===d||null==f||
f.$$is_boolean&&1!=f?d:' rowspan="'+c.$rowspan()+'"';n=(f=a.$document()["$attr?"]("cellbgcolor"))===d||null==f||f.$$is_boolean&&1!=f?d:' style="background-color: '+a.$document().$attr("cellbgcolor")+';"';return V["$<<"]("<"+p+H+u+X+n+">"+m+"</"+p+">")},l.$$s=e,l.$$arity=1,l),f).call(h);return V["$<<"]("</tr>")},g.$$s=c,g.$$arity=1,g),e).call(f);return V["$<<"]("</t"+b+">")},l.$$s=this,l.$$arity=1,l),b).call(h));V["$<<"]("</table>");return p(V,D.get("EOL"))},na.$$arity=1);a.defn(C,"$toc",fa=function(a){var b,
c,e,f=d,g=d,h=d,l=d,k=d,m=d;if((b=(c=(e=(f=a.$document())["$attr?"]("toc-placement","macro"),!1!==e&&e!==d&&null!=e?f["$sections?"]():e),!1!==c&&c!==d&&null!=c?f["$attr?"]("toc"):c))===d||null==b||b.$$is_boolean&&1!=b)return"\x3c!-- toc disabled --\x3e";(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?(g=' id="toc"',h=' id="toctitle"'):(g=' id="'+a.$id()+'"',h=' id="'+a.$id()+'title"');l=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?f.$attr("toc-title"):a.$title();k=(b=a["$attr?"]("levels"))===
d||null==b||b.$$is_boolean&&1!=b?d:a.$attr("levels").$to_i();m=(b=a["$role?"]())===d||null==b||b.$$is_boolean&&1!=b?f.$attr("toc-class","toc"):a.$role();return"<div"+g+' class="'+m+'">\n<div'+h+' class="title">'+l+"</div>\n"+this.$outline(f,w(["toclevels"],{toclevels:k}))+"\n</div>"},fa.$$arity=1);a.defn(C,"$ulist",T=function(a){var b,c,e,f=d,g=d,h=d,l=d,k=d,m=d,n=d,f=[],g=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',h=["ulist",a.$style(),a.$role()].$compact(),k=l=d;(b=m=a["$option?"]("checklist"))===
d||null==b||b.$$is_boolean&&1!=b?n=(b=a.$style())===d||null==b||b.$$is_boolean&&1!=b?d:' class="'+a.$style()+'"':(h.$insert(1,"checklist"),n=' class="checklist"',(b=a["$option?"]("interactive"))===d||null==b||b.$$is_boolean&&1!=b?(b=a.$document()["$attr?"]("icons","font"))===d||null==b||b.$$is_boolean&&1!=b?(l="&#10003; ",k="&#10063; "):(l='<i class="fa fa-check-square-o"></i> ',k='<i class="fa fa-square-o"></i> '):(b=this.xml_mode)===d||null==b||b.$$is_boolean&&1!=b?(l='<input type="checkbox" data-item-complete="1" checked> ',
k='<input type="checkbox" data-item-complete="0"> '):(l='<input type="checkbox" data-item-complete="1" checked="checked"/> ',k='<input type="checkbox" data-item-complete="0"/> '));f["$<<"]("<div"+g+' class="'+p(h," ")+'">');if((b=a["$title?"]())!==d&&null!=b&&(!b.$$is_boolean||1==b))f["$<<"]('<div class="title">'+a.$title()+"</div>");f["$<<"]("<ul"+n+">");(b=(c=a.$items()).$each,b.$$p=(e=function(a){var b;null==a&&(a=d);f["$<<"]("<li>");if((b=!1!==m&&m!==d&&null!=m?a["$attr?"]("checkbox"):m)===d||
null==b||b.$$is_boolean&&1!=b)f["$<<"]("<p>"+a.$text()+"</p>");else f["$<<"]("<p>"+((b=a["$attr?"]("checked"))===d||null==b||b.$$is_boolean&&1!=b?k:l)+a.$text()+"</p>");if((b=a["$blocks?"]())!==d&&null!=b&&(!b.$$is_boolean||1==b))f["$<<"](a.$content());return f["$<<"]("</li>")},e.$$s=this,e.$$arity=1,e),b).call(c);f["$<<"]("</ul>");f["$<<"]("</div>");return p(f,D.get("EOL"))},T.$$arity=1);a.defn(C,"$verse",ja=function(a){var b,c,e=d,f=d,g=f=d,h=d,l=d,k=d,k=h=d,e=(b=a.$id())===d||null==b||b.$$is_boolean&&
1!=b?d:' id="'+a.$id()+'"',f=["verseblock",a.$role()].$compact(),f=' class="'+p(f," ")+'"',g=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'\n<div class="title">'+a.$title()+"</div>",h=(b=a["$attr?"]("attribution"))===d||null==b||b.$$is_boolean&&1!=b?d:a.$attr("attribution"),l=(b=a["$attr?"]("citetitle"))===d||null==b||b.$$is_boolean&&1!=b?d:a.$attr("citetitle");(b=!1!==(c=h)&&c!==d&&null!=c?c:l)===d||null==b||b.$$is_boolean&&1!=b?k=d:(k=!1!==l&&l!==d&&null!=l?"<cite>"+l+"</cite>":d,h=!1!==
h&&h!==d&&null!=h?"&#8212; "+h+(!1!==l&&l!==d&&null!=l?"<br"+this.void_element_slash+">\n":d):d,k='\n<div class="attribution">\n'+h+k+"\n</div>");return"<div"+e+f+">"+g+'\n<pre class="content">'+a.$content()+"</pre>"+k+"\n</div>"},ja.$$arity=1);a.defn(C,"$video",L=function(b){var c,e,f=this,g=d,h=d,l=d,k=d,m=d,n=d,q=d,V=d,X=d,H=d,W=d,t=d,L=d,T=d,v=d,O=d,y=d,x=d,J=d,ja=d,C=d,w=d,ha=d,z=d,r=d,D=d,R=d,K=d,ka=d,N=d,G=d,g=f.xml_mode,h=(c=b.$id())===d||null==c||c.$$is_boolean&&1!=c?d:' id="'+b.$id()+'"',
l=["videoblock",b.$role()].$compact(),k=' class="'+p(l," ")+'"',m=(c=b["$title?"]())===d||null==c||c.$$is_boolean&&1!=c?d:'\n<div class="title">'+b.$captioned_title()+"</div>",n=(c=b["$attr?"]("width"))===d||null==c||c.$$is_boolean&&1!=c?d:' width="'+b.$attr("width")+'"',q=(c=b["$attr?"]("height"))===d||null==c||c.$$is_boolean&&1!=c?d:' height="'+b.$attr("height")+'"';return function(){V=b.$attr("poster");if("vimeo"["$==="](V)){if((c=(X=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===
d||null==c||c.$$is_boolean&&1!=c)X=""+X+":";H=(c=b["$attr?"]("start",d,!1))===d||null==c||c.$$is_boolean&&1!=c?d:"#at="+b.$attr("start");W="?";t=(c=b["$option?"]("autoplay"))===d||null==c||c.$$is_boolean&&1!=c?d:""+W+"autoplay=1";!1!==t&&t!==d&&null!=t&&(W="&amp;");L=(c=b["$option?"]("loop"))===d||null==c||c.$$is_boolean&&1!=c?d:""+W+"loop=1";return"<div"+h+k+">"+m+'\n<div class="content">\n<iframe'+n+q+' src="'+X+"//player.vimeo.com/video/"+b.$attr("target")+H+t+L+'" frameborder="0"'+((c=b["$option?"]("nofullscreen"))===
d||null==c||c.$$is_boolean&&1!=c?f.$append_boolean_attribute("allowfullscreen",g):d)+"></iframe>\n</div>\n</div>"}if("youtube"["$==="](V)){if((c=(X=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===d||null==c||c.$$is_boolean&&1!=c)X=""+X+":";T=(c=b["$option?"]("related"))===d||null==c||c.$$is_boolean&&1!=c?0:1;v=(c=b["$attr?"]("start",d,!1))===d||null==c||c.$$is_boolean&&1!=c?d:"&amp;start="+b.$attr("start");O=(c=b["$attr?"]("end",d,!1))===d||null==c||c.$$is_boolean&&1!=c?d:"&amp;end="+
b.$attr("end");t=(c=b["$option?"]("autoplay"))===d||null==c||c.$$is_boolean&&1!=c?d:"&amp;autoplay=1";L=(c=b["$option?"]("loop"))===d||null==c||c.$$is_boolean&&1!=c?d:"&amp;loop=1";y=(c=b["$option?"]("nocontrols"))===d||null==c||c.$$is_boolean&&1!=c?d:"&amp;controls=0";(c=b["$option?"]("nofullscreen"))===d||null==c||c.$$is_boolean&&1!=c?(x=d,J=f.$append_boolean_attribute("allowfullscreen",g)):(x="&amp;fs=0",J=d);ja=(c=b["$option?"]("modest"))===d||null==c||c.$$is_boolean&&1!=c?d:"&amp;modestbranding=1";
C=(c=b["$attr?"]("theme",d,!1))===d||null==c||c.$$is_boolean&&1!=c?d:"&amp;theme="+b.$attr("theme");w=(c=b["$attr?"]("lang"))===d||null==c||c.$$is_boolean&&1!=c?d:"&amp;hl="+b.$attr("lang");e=b.$attr("target").$split("/",2);c=a.to_ary(e);ha=null==c[0]?d:c[0];z=null==c[1]?d:c[1];e;(c=!1!==(e=z)&&e!==d&&null!=e?e:z=b.$attr("list",d,!1))===d||null==c||c.$$is_boolean&&1!=c?(e=ha.$split(",",2),c=a.to_ary(e),ha=null==c[0]?d:c[0],D=null==c[1]?d:c[1],e,r=(c=!1!==(e=D)&&e!==d&&null!=e?e:D=b.$attr("playlist",
d,!1))===d||null==c||c.$$is_boolean&&1!=c?!1!==L&&L!==d&&null!=L?"&amp;playlist="+ha:d:"&amp;playlist="+D):r="&amp;list="+z;return"<div"+h+k+">"+m+'\n<div class="content">\n<iframe'+n+q+' src="'+X+"//www.youtube.com/embed/"+ha+"?rel="+T+v+O+t+L+y+r+x+ja+C+w+'" frameborder="0"'+J+"></iframe>\n</div>\n</div>"}R=(c=(""+(K=b.$attr("poster")))["$empty?"]())===d||null==c||c.$$is_boolean&&1!=c?' poster="'+b.$media_uri(K)+'"':d;ka=b.$attr("start",d,!1);N=b.$attr("end",d,!1);G=(c=!1!==(e=ka)&&e!==d&&null!=
e?e:N)===d||null==c||c.$$is_boolean&&1!=c?d:"#t="+ka+(!1!==N&&N!==d&&null!=N?",":d)+N;return"<div"+h+k+">"+m+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+G+'"'+n+q+R+((c=b["$option?"]("autoplay"))===d||null==c||c.$$is_boolean&&1!=c?d:f.$append_boolean_attribute("autoplay",g))+((c=b["$option?"]("nocontrols"))===d||null==c||c.$$is_boolean&&1!=c?f.$append_boolean_attribute("controls",g):d)+((c=b["$option?"]("loop"))===d||null==c||c.$$is_boolean&&1!=c?d:f.$append_boolean_attribute("loop",
g))+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},L.$$arity=1);a.defn(C,"$inline_anchor",O=function(a){var b,c,e=this,f=d,g=d,h=d,l=d,k=d,m=d,f=a.$target();return function(){g=a.$type();if("xref"["$==="](g))return h=!1!==(b=a.$attributes()["$[]"]("refid"))&&b!==d&&null!=b?b:f,l=!1!==(b=a.$text())&&b!==d&&null!=b?b:!1!==(c=a.$document().$references()["$[]"]("ids")["$[]"](h))&&c!==d&&null!=c?c:"["+h+"]",'<a href="'+f+'">'+l+"</a>";if("ref"["$==="](g))return'<a id="'+
f+'"></a>';if("link"["$==="](g)){k=[];if((b=a.$id())!==d&&null!=b&&(!b.$$is_boolean||1==b))k["$<<"](' id="'+a.$id()+'"');if((b=m=a.$role())!==d&&null!=b&&(!b.$$is_boolean||1==b))k["$<<"](' class="'+m+'"');if((b=a["$attr?"]("title",d,!1))!==d&&null!=b&&(!b.$$is_boolean||1==b))k["$<<"](' title="'+a.$attr("title")+'"');if((b=a["$attr?"]("window",d,!1))!==d&&null!=b&&(!b.$$is_boolean||1==b))k["$<<"](' target="'+a.$attr("window")+'"');return'<a href="'+f+'"'+k.$join()+">"+a.$text()+"</a>"}return"bibref"["$==="](g)?
'<a id="'+f+'"></a>['+f+"]":e.$warn("asciidoctor: WARNING: unknown anchor type: "+a.$type().$inspect())}()},O.$$arity=1);a.defn(C,"$inline_break",ka=function(a){return""+a.$text()+"<br"+this.void_element_slash+">"},ka.$$arity=1);a.defn(C,"$inline_button",J=function(a){return'<b class="button">'+a.$text()+"</b>"},J.$$arity=1);a.defn(C,"$inline_callout",pa=function(a){var b,c=d;if((b=a.$document()["$attr?"]("icons","font"))===d||null==b||b.$$is_boolean&&1!=b){if((b=a.$document()["$attr?"]("icons"))===
d||null==b||b.$$is_boolean&&1!=b)return'<b class="conum">('+a.$text()+")</b>";c=a.$icon_uri("callouts/"+a.$text());return'<img src="'+c+'" alt="'+a.$text()+'"'+this.void_element_slash+">"}return'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>"},pa.$$arity=1);a.defn(C,"$inline_footnote",ra=function(a){var b,c=d,e=d;if((b=c=a.$attr("index"))===d||null==b||b.$$is_boolean&&1!=b)return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+
a.$text()+"]</sup>":d;if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+c+'" title="View footnote.">'+c+"</a>]</sup>";e=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="_footnote_'+a.$id()+'"';return'<sup class="footnote"'+e+'>[<a id="_footnoteref_'+c+'" class="footnote" href="#_footnote_'+c+'" title="View footnote.">'+c+"</a>]</sup>"},ra.$$arity=1);a.defn(C,"$inline_image",ua=function(a){var b,c,e,f,h,l,k,m,p=d,n=d,q=d,X=c=q=d,H=d,W=d,t=d,L=
c=d,p=d;(b=(c=(p=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):(p=a.$type())["$=="]("icon"))===d||null==b||b.$$is_boolean&&1!=b?(b=(e=p["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():p["$=="]("icon"))===d||null==b||b.$$is_boolean&&1!=b?(c=a.$target(),X=(b=(e=["width","height","title"]).$map,b.$$p=(f=function(b){var c;null==b&&(b=d);return(c=a["$attr?"](b))===d||null==c||c.$$is_boolean&&1!=c?d:" "+b+'="'+a.$attr(b)+'"'},f.$$s=this,f.$$arity=1,f),b).call(e).$join(),(b=
(h=(l=(k=p["$!="]("icon"),!1!==k&&k!==d&&null!=k?!1!==(m=a["$attr?"]("format","svg",!1))&&m!==d&&null!=m?m:c["$include?"](".svg"):k),!1!==l&&l!==d&&null!=l?g(a.$document().$safe(),D.get("SafeMode").$$scope.get("SECURE")):l),!1!==h&&h!==d&&null!=h?!1!==(l=H=a["$option?"]("inline"))&&l!==d&&null!=l?l:W=a["$option?"]("interactive"):h))===d||null==b||b.$$is_boolean&&1!=b||(!1!==H&&H!==d&&null!=H?q=!1!==(b=this.$read_svg_contents(a,c))&&b!==d&&null!=b?b:'<span class="alt">'+a.$attr("alt")+"</span>":!1!==
W&&W!==d&&null!=W&&(t=(b=a["$attr?"]("fallback"))===d||null==b||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+X+this.void_element_slash+">",q='<object type="image/svg+xml" data="'+a.$image_uri(c)+'"'+X+">"+t+"</object>")),!1!==(b=q)&&b!==d&&null!=b?b:q='<img src="'+(p["$=="]("icon")?a.$icon_uri(c):a.$image_uri(c))+'" alt="'+a.$attr("alt")+'"'+X+this.void_element_slash+">"):q="["+a.$attr("alt")+"]":(n=
"fa fa-"+a.$target(),(b=(c=w(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"})).$each,b.$$p=(e=function(b,c){var e;null==b&&(b=d);null==c&&(c=d);return(e=a["$attr?"](b))===d||null==e||e.$$is_boolean&&1!=e?d:n=""+n+" "+c+a.$attr(b)},e.$$s=this,e.$$arity=2,e),b).call(c),q=(b=a["$attr?"]("title"))===d||null==b||b.$$is_boolean&&1!=b?d:' title="'+a.$attr("title")+'"',q='<i class="'+n+'"'+q+"></i>");(b=a["$attr?"]("link"))===d||null==b||b.$$is_boolean&&1!=b||(c=(b=a["$attr?"]("window"))===
d||null==b||b.$$is_boolean&&1!=b?d:' target="'+a.$attr("window")+'"',q='<a class="image" href="'+a.$attr("link")+'"'+c+">"+q+"</a>");n=(b=L=a.$role())===d||null==b||b.$$is_boolean&&1!=b?p:""+p+" "+L;p=(b=a["$attr?"]("float"))===d||null==b||b.$$is_boolean&&1!=b?d:' style="float: '+a.$attr("float")+'"';return'<span class="'+n+'"'+p+">"+q+"</span>"},ua.$$arity=1);a.defn(C,"$inline_indexterm",ta=function(a){return a.$type()["$=="]("visible")?a.$text():""},ta.$$arity=1);a.defn(C,"$inline_kbd",ha=function(a){var b,
c,e,f=d,f=d;if((f=a.$attr("keys")).$size()["$=="](1))return"<kbd>"+f["$[]"](0)+"</kbd>";f=(b=(c=f).$map,b.$$p=(e=function(a){null==a&&(a=d);return"<kbd>"+a+"</kbd>+"},e.$$s=this,e.$$arity=1,e),b).call(c).$join().$chop();return'<span class="keyseq">'+f+"</span>"},ha.$$arity=1);a.defn(C,"$inline_menu",za=function(a){var b,c,e,f=d,g=d,h=g=d,f=a.$attr("menu");if((b=(g=a.$attr("submenus"))["$empty?"]()["$!"]())===d||null==b||b.$$is_boolean&&1!=b)return(b=h=a.$attr("menuitem"))===d||null==b||b.$$is_boolean&&
1!=b?'<span class="menu">'+f+"</span>":'<span class="menuseq"><span class="menu">'+f+'</span>&#160;&#9656; <span class="menuitem">'+h+"</span></span>";g=(b=(c=g).$map,b.$$p=(e=function(a){null==a&&(a=d);return'<span class="submenu">'+a+"</span>&#160;&#9656; "},e.$$s=this,e.$$arity=1,e),b).call(c).$join().$chop();return'<span class="menuseq"><span class="menu">'+f+"</span>&#160;&#9656; "+g+' <span class="menuitem">'+a.$attr("menuitem")+"</span></span>"},za.$$arity=1);a.defn(C,"$inline_quoted",va=function(b){var c,
e,f=d,g=d,h=d,l=d;e=d;e=D.get("QUOTE_TAGS")["$[]"](b.$type());c=a.to_ary(e);f=null==c[0]?d:c[0];g=null==c[1]?d:c[1];h=null==c[2]?d:c[2];e;e=(c=l=b.$role())===d||null==c||c.$$is_boolean&&1!=c?""+f+b.$text()+g:!1!==h&&h!==d&&null!=h?""+f.$chop()+' class="'+l+'">'+b.$text()+g:'<span class="'+l+'">'+f+b.$text()+g+"</span>";return(c=b.$id())===d||null==c||c.$$is_boolean&&1!=c?e:'<a id="'+b.$id()+'"></a>'+e},va.$$arity=1);a.defn(C,"$append_boolean_attribute",ya=function(a,b){return!1!==b&&b!==d&&null!=
b?" "+a+'="'+a+'"':" "+a},ya.$$arity=2);return(a.defn(C,"$read_svg_contents",wa=function(a,b){var c,e,f,g=d,h=d,l=d;if((c=g=a.$read_contents(b,w(["start","normalize","label"],{start:a.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))!==d&&null!=c&&(!c.$$is_boolean||1==c)){if((c=g["$start_with?"]("<svg"))===d||null==c||c.$$is_boolean&&1!=c)g=g.$sub(D.get("SvgPreambleRx"),"");h=l=d;(c=(e=["width","height"]).$each,c.$$p=(f=function(b){var c;null==b&&(b=d);if((c=a["$attr?"](b))===d||null==c||
c.$$is_boolean&&1!=c)return d;if(!1===l||l===d||null==l)l=(h=g.$match(D.get("SvgStartTagRx"))["$[]"](0)).$gsub(D.get("DimensionAttributeRx"),"");return l=""+l.$chop()+" "+b+'="'+a.$attr(b)+'px">'},f.$$s=this,f.$$arity=1,f),c).call(e);!1!==l&&l!==d&&null!=l&&(g=""+l+g["$[]"](t(h.$length(),-1,!1)))}return g},wa.$$arity=2),d)&&"read_svg_contents"})(k.get("Converter"),k.get("Converter").$$scope.get("BuiltIn"))}(a.base)};Opal.modules["asciidoctor/opal_ext/string"]=function(a){var c=a.nil,p=a.klass;a.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice".split(" "));
return function(n,$super){function g(){}var h=g=p(n,$super,"String",g),d,b;return(d=h["$method_defined?"]("limit"))===c||null==d||d.$$is_boolean&&1!=d?(a.defn(h,"$limit",b=function(a){var b,d=c,d=this.$bytes().$length();if((b="number"===typeof a&&"number"===typeof d?a<d:a["$<"](d))===c||null==b||b.$$is_boolean&&1!=b)return this.$to_s();d=this.$byteslice(0,a);return d.$to_s()},b.$$arity=1),c)&&"limit":c}(a.base,null)};Opal.modules["asciidoctor/extensions"]=function(a){function c(a,b){return"number"===
typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var e=a.nil,g=a.module,h=a.klass,d=a.hash2,b=a.range,m=a.hash;a.add_stubs("$[]= $config $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $new $create_block $=== $has_more_lines? $next_block $dup $<< $each $define_method $send $insert $call $attr_accessor $[] $option $to_set $flatten $resolve_regexp $== $attr $method $register $arity $instance_exec $to_proc $activate $+ $values $groups $add_document_processor $! $any? $select $add_syntax_processor $to_sym $include? $private $tr $to_s $join $map $upcase $chr $split $instance_variable_get $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $class_for_name $< $update_config $unshift $as_symbol $name= $pop $size $> $- $fill $-@ $next_auto_id $generate_name $length $empty? $const_defined?".split(" "));
return function(w){(function(t){t=g(t,"Extensions");var k=t.$$scope;(function(b,$super){function c(){}var f=c=h(b,$super,"Processor",c),g=f.$$scope,k,m,p,n,t,w,r,K,z,q;f.$$proto.config=e;(function(b){var c,f,g;a.defn(b,"$config",c=function(){var a;null==this.config&&(this.config=e);return!1!==(a=this.config)&&a!==e&&null!=a?a:this.config=d([],{})},c.$$arity=0);a.defn(b,"$option",f=function(a,b){return this.$config()["$[]="](a,b)},f.$$arity=2);a.defn(b,"$use_dsl",g=function(){var a;return(a=this.$name()["$nil_or_empty?"]())===
e||null==a||a.$$is_boolean&&1!=a?(a=this.$constants().$grep("DSL"))===e||null==a||a.$$is_boolean&&1!=a?e:this.$extend(this.$const_get("DSL")):(a=this.$constants().$grep("DSL"))===e||null==a||a.$$is_boolean&&1!=a?e:this.$include(this.$const_get("DSL"))},g.$$arity=0);a.alias(b,"extend_dsl","use_dsl");return a.alias(b,"include_dsl","use_dsl")})(a.get_singleton_class(f));f.$attr_reader("config");a.defn(f,"$initialize",k=function(a){null==a&&(a=d([],{}));return this.config=this.$class().$config().$merge(a)},
k.$$arity=-1);a.defn(f,"$update_config",m=function(a){return this.config.$update(a)},m.$$arity=1);a.defn(f,"$process",p=function(b){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return this.$raise(a.get("NotImplementedError"))},p.$$arity=-1);a.defn(f,"$create_block",n=function(a,b,c,e,f){null==f&&(f=d([],{}));return g.get("Block").$new(a,b,d(["source","attributes"],{source:c,attributes:e}).$merge(f))},n.$$arity=-5);a.defn(f,"$create_image_block",t=function(a,
b,c){null==c&&(c=d([],{}));return this.$create_block(a,"image",e,b,c)},t.$$arity=-3);a.defn(f,"$create_inline",w=function(a,b,c,e){null==e&&(e=d([],{}));return g.get("Inline").$new(a,b,c,e)},w.$$arity=-4);a.defn(f,"$parse_content",r=function(a,b,c){var f,h,l=e,k=e;null==c&&(c=e);for(l=(f=g.get("Reader")["$==="](b))===e||null==f||f.$$is_boolean&&1!=f?g.get("Reader").$new(b):b;(h=l["$has_more_lines?"]())!==e&&null!=h&&(!h.$$is_boolean||1==h);)if(k=g.get("Parser").$next_block(l,a,!1!==c&&c!==e&&null!=
c?c.$dup():d([],{})),!1!==k&&k!==e&&null!=k)a["$<<"](k);return a},r.$$arity=-3);return(K=(z=[["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]]).$each,K.$$p=(q=function(b,c,d){var f=q.$$s||this,g,h;null==b&&(b=e);null==c&&
(c=e);null==d&&(d=e);return(g=f.$define_method,g.$$p=(h=function(b){var e=h.$$s||this,f,g=arguments.length;f=g-0;0>f&&(f=0);f=Array(f);for(var l=0;l<g;l++)f[l-0]=arguments[l];return e.$send.apply(e,[c].concat(a.to_a(f.$dup().$insert(1,d))))},h.$$s=f,h.$$arity=-1,h),g).call(f,b)},q.$$s=f,q.$$arity=3,q),K).call(z)})(k.base,null);(function(b){b=g(b,"ProcessorDsl");var c,d,f;a.defn(b,"$option",c=function(a,b){return this.$config()["$[]="](a,b)},c.$$arity=2);a.defn(b,"$process",d=function(b){var c,f,g=
d.$$p||e;null==this.process_block&&(this.process_block=e);var h=arguments.length;f=h-0;0>f&&(f=0);f=Array(f);for(var l=0;l<h;l++)f[l-0]=arguments[l];d.$$p=null;return g!==e?this.process_block=g:(c=this.process_block)===e||null==c||c.$$is_boolean&&1!=c?this.$raise(a.get("NotImplementedError")):(c=this.process_block).$call.apply(c,a.to_a(f))},d.$$arity=-1);a.defn(b,"$process_block_given?",f=function(){var a;return(a=this.process_block,null!=a&&a!==e)?"instance-variable":e},f.$$arity=0)})(k.base);(function(b,
$super){function c(){}var d=c=h(b,$super,"Preprocessor",c),f;return(a.defn(d,"$process",f=function(b,c){return this.$raise(a.get("NotImplementedError"))},f.$$arity=2),e)&&"process"})(k.base,k.get("Processor"));a.casgn(k.get("Preprocessor"),"DSL",k.get("ProcessorDsl"));(function(b,$super){function c(){}var d=c=h(b,$super,"Treeprocessor",c),f;return(a.defn(d,"$process",f=function(b){return this.$raise(a.get("NotImplementedError"))},f.$$arity=1),e)&&"process"})(k.base,k.get("Processor"));a.casgn(k.get("Treeprocessor"),
"DSL",k.get("ProcessorDsl"));(function(b,$super){function c(){}var d=c=h(b,$super,"Postprocessor",c),f;return(a.defn(d,"$process",f=function(b,c){return this.$raise(a.get("NotImplementedError"))},f.$$arity=2),e)&&"process"})(k.base,k.get("Processor"));a.casgn(k.get("Postprocessor"),"DSL",k.get("ProcessorDsl"));(function(b,$super){function c(){}var d=c=h(b,$super,"IncludeProcessor",c),f,g;a.defn(d,"$process",f=function(b,c,d,e){return this.$raise(a.get("NotImplementedError"))},f.$$arity=4);return(a.defn(d,
"$handles?",g=function(a){return!0},g.$$arity=1),e)&&"handles?"})(k.base,k.get("Processor"));a.casgn(k.get("IncludeProcessor"),"DSL",k.get("ProcessorDsl"));(function(b,$super){function c(){}var f=c=h(b,$super,"DocinfoProcessor",c),g,k;f.$$proto.config=e;f.$attr_accessor("location");a.defn(f,"$initialize",g=function(b){var c,f,h;null==b&&(b=d([],{}));g.$$p=null;(c=a.find_super_dispatcher(this,"initialize",g,!1),c.$$p=null,c).call(this,b);return c="location",f=this.config,!1!==(h=f["$[]"](c))&&h!==
e&&null!=h?h:f["$[]="](c,"head")},g.$$arity=-1);return(a.defn(f,"$process",k=function(b){return this.$raise(a.get("NotImplementedError"))},k.$$arity=1),e)&&"process"})(k.base,k.get("Processor"));(function(b){b=g(b,"DocinfoProcessorDsl");var c;b.$include(b.$$scope.get("ProcessorDsl"));a.defn(b,"$at_location",c=function(a){return this.$option("location",a)},c.$$arity=1)})(k.base);a.casgn(k.get("DocinfoProcessor"),"DSL",k.get("DocinfoProcessorDsl"));(function(b,$super){function c(){}var f=c=h(b,$super,
"BlockProcessor",c),g,k;f.$$proto.config=e;f.$attr_accessor("name");a.defn(f,"$initialize",g=function(b,c){var f,h,l,k=e;null==b&&(b=e);null==c&&(c=d([],{}));g.$$p=null;(f=a.find_super_dispatcher(this,"initialize",g,!1),f.$$p=null,f).call(this,c);this.name=!1!==(f=b)&&f!==e&&null!=f?f:this.config["$[]"]("name");k=this.config["$[]"]("contexts");if(a.get("NilClass")["$==="](k))f="contexts",h=this.config,!1!==(l=h["$[]"](f))&&l!==e&&null!=l?l:h["$[]="](f,["open","paragraph"].$to_set());else if(a.get("Symbol")["$==="](k))this.config["$[]="]("contexts",
[this.config["$[]"]("contexts")].$to_set());else this.config["$[]="]("contexts",this.config["$[]"]("contexts").$to_set());return f="content_model",h=this.config,!1!==(l=h["$[]"](f))&&l!==e&&null!=l?l:h["$[]="](f,"compound")},g.$$arity=-1);return(a.defn(f,"$process",k=function(b,c,d){return this.$raise(a.get("NotImplementedError"))},k.$$arity=3),e)&&"process"})(k.base,k.get("Processor"));(function(b){b=g(b,"BlockProcessorDsl");var c=b.$$scope,d,f,h,k,m;b.$include(c.get("ProcessorDsl"));a.defn(b,"$named",
d=function(a){var b;return(b=c.get("Processor")["$==="](this))===e||null==b||b.$$is_boolean&&1!=b?this.$option("name",a):this.name=a},d.$$arity=1);a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$contexts",f=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("contexts",b.$flatten())},f.$$arity=-1);a.alias(b,"on_contexts","contexts");a.alias(b,"on_context","contexts");a.defn(b,"$content_model",h=function(a){return this.$option("content_model",
a)},h.$$arity=1);a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",k=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("pos_attrs",b.$flatten())},k.$$arity=-1);a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes","positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",m=function(a){return this.$option("default_attrs",
a)},m.$$arity=1);a.alias(b,"seed_attributes_with","default_attrs")})(k.base);a.casgn(k.get("BlockProcessor"),"DSL",k.get("BlockProcessorDsl"));(function(b,$super){function c(){}var f=c=h(b,$super,"MacroProcessor",c),g,k;f.$$proto.config=e;f.$attr_accessor("name");a.defn(f,"$initialize",g=function(b,c){var f,h,l;null==b&&(b=e);null==c&&(c=d([],{}));g.$$p=null;(f=a.find_super_dispatcher(this,"initialize",g,!1),f.$$p=null,f).call(this,c);this.name=!1!==(f=b)&&f!==e&&null!=f?f:this.config["$[]"]("name");
return f="content_model",h=this.config,!1!==(l=h["$[]"](f))&&l!==e&&null!=l?l:h["$[]="](f,"attributes")},g.$$arity=-1);return(a.defn(f,"$process",k=function(b,c,d){return this.$raise(a.get("NotImplementedError"))},k.$$arity=3),e)&&"process"})(k.base,k.get("Processor"));(function(b){b=g(b,"MacroProcessorDsl");var c=b.$$scope,d,f,h,k;b.$include(c.get("ProcessorDsl"));a.defn(b,"$named",d=function(a){var b;return(b=c.get("Processor")["$==="](this))===e||null==b||b.$$is_boolean&&1!=b?this.$option("name",
a):this.name=a},d.$$arity=1);a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$content_model",f=function(a){return this.$option("content_model",a)},f.$$arity=1);a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",h=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("pos_attrs",b.$flatten())},h.$$arity=-1);a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes",
"positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",k=function(a){return this.$option("default_attrs",a)},k.$$arity=1);a.alias(b,"seed_attributes_with","default_attrs")})(k.base);(function(a,$super){function b(){}b=h(a,$super,"BlockMacroProcessor",b);return e})(k.base,k.get("MacroProcessor"));a.casgn(k.get("BlockMacroProcessor"),"DSL",k.get("MacroProcessorDsl"));(function(b,$super){function c(){}var d=c=h(b,$super,"InlineMacroProcessor",
c),f=d.$$proto,g,k;f.config=f.name=e;a.defn(d,"$regexp",g=function(){var a,b;return a=this.config,!1!==(b=a["$[]"]("regexp"))&&b!==e&&null!=b?b:a["$[]="]("regexp",this.$resolve_regexp(this.name,this.config["$[]"]("format")))},g.$$arity=0);return(a.defn(d,"$resolve_regexp",k=function(a,b){return b["$=="]("short")?new RegExp("\\\\?"+a+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):new RegExp("\\\\?"+a+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")},k.$$arity=2),e)&&"resolve_regexp"})(k.base,k.get("MacroProcessor"));(function(b){b=
g(b,"InlineMacroProcessorDsl");var c,d;b.$include(b.$$scope.get("MacroProcessorDsl"));a.defn(b,"$using_format",c=function(a){return this.$option("format",a)},c.$$arity=1);a.defn(b,"$match",d=function(a){return this.$option("regexp",a)},d.$$arity=1)})(k.base);a.casgn(k.get("InlineMacroProcessor"),"DSL",k.get("InlineMacroProcessorDsl"));(function(b,$super){function c(){}var d=c=h(b,$super,"Extension",c),f;d.$attr("kind");d.$attr("config");d.$attr("instance");return(a.defn(d,"$initialize",f=function(a,
b,c){this.kind=a;this.instance=b;return this.config=c},f.$$arity=3),e)&&"initialize"})(k.base,null);(function(b,$super){function c(){}var d=c=h(b,$super,"ProcessorExtension",c),f;d.$attr("process_method");return(a.defn(d,"$initialize",f=function(b,c,d){var g;null==d&&(d=e);f.$$p=null;(g=a.find_super_dispatcher(this,"initialize",f,!1),g.$$p=null,g).call(this,b,c,c.$config());return this.process_method=!1!==(g=d)&&g!==e&&null!=g?g:c.$method("process")},f.$$arity=-3),e)&&"initialize"})(k.base,k.get("Extension"));
(function(b,$super){function c(){}var d=c=h(b,$super,"Group",c),f;(function(b){var c=b.$$scope,d;return(a.defn(b,"$register",d=function(a){null==a&&(a=e);return c.get("Extensions").$register(a,this)},d.$$arity=-1),e)&&"register"})(a.get_singleton_class(d));return(a.defn(d,"$activate",f=function(b){return this.$raise(a.get("NotImplementedError"))},f.$$arity=1),e)&&"activate"})(k.base,null);(function(g,$super){function k(){}var m=k=h(g,$super,"Registry",k),t=m.$$proto,w=m.$$scope,y,v,r,F,I,G,K,z,q,
A,U,S,Y,ea,ca,B,Q,Z,R,ba,ga,ia,ma,la,na,fa,T,ja,L,O,ka,J,pa,ra;t.groups=t.preprocessor_extensions=t.treeprocessor_extensions=t.postprocessor_extensions=t.include_processor_extensions=t.docinfo_processor_extensions=t.block_extensions=t.block_macro_extensions=t.inline_macro_extensions=e;m.$attr_reader("document");m.$attr_reader("groups");a.defn(m,"$initialize",y=function(a){null==a&&(a=d([],{}));this.groups=a;return this.document=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=
this.preprocessor_extensions=this.treeprocessor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=e},y.$$arity=-1);a.defn(m,"$activate",v=function(b){var d,g,h;this.document=b;(d=(g=c(w.get("Extensions").$groups().$values(),this.groups.$values())).$each,d.$$p=(h=function(b){var c=h.$$s||this,d,f=e;null==b&&(b=e);f=b;a.get("Proc")["$==="](f)?(f=b.$arity(),b=0["$==="](f)||-1["$==="](f)?(d=c.$instance_exec,d.$$p=b.$to_proc(),d).call(c):1["$==="](f)?
b.$call(c):e):b=a.get("Class")["$==="](f)?b.$new().$activate(c):b.$activate(c);return b},h.$$s=this,h.$$arity=1,h),d).call(g);return this},v.$$arity=1);a.defn(m,"$preprocessor",r=function(a){var b,c,d=r.$$p||e,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];r.$$p=null;return(b=this.$add_document_processor,b.$$p=d.$to_proc(),b).call(this,"preprocessor",c)},r.$$arity=-1);a.defn(m,"$preprocessors?",F=function(){return this.preprocessor_extensions["$!"]()["$!"]()},
F.$$arity=0);a.defn(m,"$preprocessors",I=function(){return this.preprocessor_extensions},I.$$arity=0);a.defn(m,"$treeprocessor",G=function(a){var b,c,d=G.$$p||e,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];G.$$p=null;return(b=this.$add_document_processor,b.$$p=d.$to_proc(),b).call(this,"treeprocessor",c)},G.$$arity=-1);a.defn(m,"$treeprocessors?",K=function(){return this.treeprocessor_extensions["$!"]()["$!"]()},K.$$arity=0);a.defn(m,"$treeprocessors",z=function(){return this.treeprocessor_extensions},
z.$$arity=0);a.defn(m,"$postprocessor",q=function(a){var b,c,d=q.$$p||e,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];q.$$p=null;return(b=this.$add_document_processor,b.$$p=d.$to_proc(),b).call(this,"postprocessor",c)},q.$$arity=-1);a.defn(m,"$postprocessors?",A=function(){return this.postprocessor_extensions["$!"]()["$!"]()},A.$$arity=0);a.defn(m,"$postprocessors",U=function(){return this.postprocessor_extensions},U.$$arity=0);a.defn(m,"$include_processor",
S=function(a){var b,c,d=S.$$p||e,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];S.$$p=null;return(b=this.$add_document_processor,b.$$p=d.$to_proc(),b).call(this,"include_processor",c)},S.$$arity=-1);a.defn(m,"$include_processors?",Y=function(){return this.include_processor_extensions["$!"]()["$!"]()},Y.$$arity=0);a.defn(m,"$include_processors",ea=function(){return this.include_processor_extensions},ea.$$arity=0);a.defn(m,"$docinfo_processor",ca=function(a){var b,
c,d=ca.$$p||e,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];ca.$$p=null;return(b=this.$add_document_processor,b.$$p=d.$to_proc(),b).call(this,"docinfo_processor",c)},ca.$$arity=-1);a.defn(m,"$docinfo_processors?",B=function(a){var b,c,d;null==a&&(a=e);return(b=this.docinfo_processor_extensions)===e||null==b||b.$$is_boolean&&1!=b?!1:!1!==a&&a!==e&&null!=a?(b=(c=this.docinfo_processor_extensions)["$any?"],b.$$p=(d=function(b){null==b&&(b=e);return b.$config()["$[]"]("location")["$=="](a)},
d.$$s=this,d.$$arity=1,d),b).call(c):!0},B.$$arity=-1);a.defn(m,"$docinfo_processors",Q=function(a){var b,c,d;null==a&&(a=e);return(b=this.docinfo_processor_extensions)===e||null==b||b.$$is_boolean&&1!=b?e:!1!==a&&a!==e&&null!=a?(b=(c=this.docinfo_processor_extensions).$select,b.$$p=(d=function(b){null==b&&(b=e);return b.$config()["$[]"]("location")["$=="](a)},d.$$s=this,d.$$arity=1,d),b).call(c):this.docinfo_processor_extensions},Q.$$arity=-1);a.defn(m,"$block",Z=function(a){var b,c,d=Z.$$p||e,f=
arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];Z.$$p=null;return(b=this.$add_syntax_processor,b.$$p=d.$to_proc(),b).call(this,"block",c)},Z.$$arity=-1);a.defn(m,"$blocks?",R=function(){return this.block_extensions["$!"]()["$!"]()},R.$$arity=0);a.defn(m,"$registered_for_block?",ba=function(a,b){var c,d=e;return(c=d=this.block_extensions["$[]"](a.$to_sym()))===e||null==c||c.$$is_boolean&&1!=c?!1:(c=d.$config()["$[]"]("contexts")["$include?"](b))===e||null==c||c.$$is_boolean&&
1!=c?!1:d},ba.$$arity=2);a.defn(m,"$find_block_extension",ga=function(a){return this.block_extensions["$[]"](a.$to_sym())},ga.$$arity=1);a.defn(m,"$block_macro",ia=function(a){var b,c,d=ia.$$p||e,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];ia.$$p=null;return(b=this.$add_syntax_processor,b.$$p=d.$to_proc(),b).call(this,"block_macro",c)},ia.$$arity=-1);a.defn(m,"$block_macros?",ma=function(){return this.block_macro_extensions["$!"]()["$!"]()},ma.$$arity=0);
a.defn(m,"$registered_for_block_macro?",la=function(a){var b,c=e;return(b=c=this.block_macro_extensions["$[]"](a.$to_sym()))===e||null==b||b.$$is_boolean&&1!=b?!1:c},la.$$arity=1);a.defn(m,"$find_block_macro_extension",na=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())},na.$$arity=1);a.defn(m,"$inline_macro",fa=function(a){var b,c,d=fa.$$p||e,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];fa.$$p=null;return(b=this.$add_syntax_processor,b.$$p=
d.$to_proc(),b).call(this,"inline_macro",c)},fa.$$arity=-1);a.defn(m,"$inline_macros?",T=function(){return this.inline_macro_extensions["$!"]()["$!"]()},T.$$arity=0);a.defn(m,"$registered_for_inline_macro?",ja=function(a){var b,c=e;return(b=c=this.inline_macro_extensions["$[]"](a.$to_sym()))===e||null==b||b.$$is_boolean&&1!=b?!1:c},ja.$$arity=1);a.defn(m,"$find_inline_macro_extension",L=function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())},L.$$arity=1);a.defn(m,"$inline_macros",O=function(){return this.inline_macro_extensions.$values()},
O.$$arity=0);m.$private();a.defn(m,"$add_document_processor",ka=function(c,d){var f,g,h,l,k,m,n=this,q=ka.$$p||e,t=e,L=e,T=e,v=e,O=L=e,J=e,aa=e,xa=e;ka.$$p=null;t=c.$to_s().$tr("_"," ");L=(f=(g=t.$split(" ")).$map,f.$$p=(h=function(a){null==a&&(a=e);return""+a.$chr().$upcase()+a["$[]"](b(1,-1,!1))},h.$$s=n,h.$$arity=1,h),f).call(g).$join().$to_sym();T=w.get("Extensions").$const_get(L);v=(f=null==a.Object.$$scope.AsciidoctorJ?e:"constant")===e||null==f||f.$$is_boolean&&1!=f?e:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(L);
L=!1!==(f=n.$instance_variable_get(("@"+c+"_extensions").$to_sym()))&&f!==e&&null!=f?f:n.$instance_variable_set(("@"+c+"_extensions").$to_sym(),[]);O=function(){if(q!==e)return J=n.$resolve_args(d,1),aa=T.$new(J),(f=T.$constants().$grep("DSL"))===e||null==f||f.$$is_boolean&&1!=f||aa.$extend(T.$const_get("DSL")),(f=(l=aa).$instance_exec,f.$$p=q.$to_proc(),f).call(l),aa.$freeze(),((f=aa["$process_block_given?"]())===e||null==f||f.$$is_boolean&&1!=f)&&n.$raise(a.get("ArgumentError").$new("No block specified to process "+
t+" extension at "+q.$source_location())),w.get("ProcessorExtension").$new(c,aa);k=n.$resolve_args(d,2);f=a.to_ary(k);aa=null==f[0]?e:f[0];J=null==f[1]?e:f[1];k;if((f=!1!==(k=a.get("Class")["$==="](aa))&&k!==e&&null!=k?k:(m=a.get("String")["$==="](aa),!1!==m&&m!==e&&null!=m?aa=w.get("Extensions").$class_for_name(aa):m))===e||null==f||f.$$is_boolean&&1!=f){if((f=!1!==(k=T["$==="](aa))&&k!==e&&null!=k?k:(m=!1!==v&&v!==e&&null!=v)?v["$==="](aa):v)===e||null==f||f.$$is_boolean&&1!=f)return n.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+
t+" extension: "+d));aa.$update_config(J);aa.$freeze();return w.get("ProcessorExtension").$new(c,aa)}((f=!1!==(k=p(aa,T))&&k!==e&&null!=k?k:(m=!1!==v&&v!==e&&null!=v)?p(aa,v):v)===e||null==f||f.$$is_boolean&&1!=f)&&n.$raise(a.get("ArgumentError").$new("Invalid type for "+t+" extension: "+aa));xa=aa.$new(J);xa.$freeze();return w.get("ProcessorExtension").$new(c,xa)}();return O.$config()["$[]"]("position")["$=="](">>")?L.$unshift(O):L["$<<"](O)},ka.$$arity=2);a.defn(m,"$add_syntax_processor",J=function(c,
f){var g,h,l,k,m;m=J.$$p||e;var n=e,q=e,t=e,L=q=e,T=t=e,v=e,O=e,q=e;J.$$p=null;n=c.$to_s().$tr("_"," ");q=(g=(h=n.$split(" ")).$map,g.$$p=(l=function(a){null==a&&(a=e);return""+a.$chr().$upcase()+a["$[]"](b(1,-1,!1))},l.$$s=this,l.$$arity=1,l),g).call(h).$join();t=(""+q+"Processor").$to_sym();q=w.get("Extensions").$const_get(t);L=(g=null==a.Object.$$scope.AsciidoctorJ?e:"constant")===e||null==g||g.$$is_boolean&&1!=g?e:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(t);t=!1!==(g=this.$instance_variable_get(("@"+
c+"_extensions").$to_sym()))&&g!==e&&null!=g?g:this.$instance_variable_set(("@"+c+"_extensions").$to_sym(),d([],{}));if(m!==e)return k=this.$resolve_args(f,2),g=a.to_ary(k),T=null==g[0]?e:g[0],v=null==g[1]?e:g[1],k,O=q.$new(this.$as_symbol(T),v),(g=q.$constants().$grep("DSL"))===e||null==g||g.$$is_boolean&&1!=g||O.$extend(q.$const_get("DSL")),m.$arity()["$=="](1)?a.yield1(m,O):(g=(k=O).$instance_exec,g.$$p=m.$to_proc(),g).call(k),((g=T=this.$as_symbol(O.$name()))===e||null==g||g.$$is_boolean&&1!=
g)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+n+" extension at "+m.$source_location())),((g=O["$process_block_given?"]())===e||null==g||g.$$is_boolean&&1!=g)&&this.$raise(a.get("NoMethodError").$new("No block specified to process "+n+" extension at "+m.$source_location())),O.$freeze(),t["$[]="](T,w.get("ProcessorExtension").$new(c,O));m=this.$resolve_args(f,3);g=a.to_ary(m);O=null==g[0]?e:g[0];T=null==g[1]?e:g[1];v=null==g[2]?e:g[2];m;if((g=!1!==(m=a.get("Class")["$==="](O))&&
m!==e&&null!=m?m:(k=a.get("String")["$==="](O),!1!==k&&k!==e&&null!=k?O=w.get("Extensions").$class_for_name(O):k))===e||null==g||g.$$is_boolean&&1!=g){if((g=!1!==(m=q["$==="](O))&&m!==e&&null!=m?m:(k=!1!==L&&L!==e&&null!=L)?L["$==="](O):L)===e||null==g||g.$$is_boolean&&1!=g)return this.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+n+" extension: "+f));O.$update_config(v);((g=T=!1!==T&&T!==e&&null!=T?(m=[this.$as_symbol(T)],k=O,k["$name="].apply(k,m),m[m.length-
1]):this.$as_symbol(O.$name()))===e||null==g||g.$$is_boolean&&1!=g)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+n+" extension: "+O));O.$freeze();return t["$[]="](T,w.get("ProcessorExtension").$new(c,O))}((g=!1!==(m=p(O,q))&&m!==e&&null!=m?m:(k=!1!==L&&L!==e&&null!=L)?p(O,L):L)===e||null==g||g.$$is_boolean&&1!=g)&&this.$raise(a.get("ArgumentError").$new("Class specified for "+n+" extension does not inherit from "+q+": "+O));q=O.$new(this.$as_symbol(T),v);((g=T=this.$as_symbol(q.$name()))===
e||null==g||g.$$is_boolean&&1!=g)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+n+" extension: "+O));O.$freeze();return t["$[]="](T,w.get("ProcessorExtension").$new(c,q))},J.$$arity=2);a.defn(m,"$resolve_args",pa=function(b,c){var f,g=e,h=e,l=e,g=(f=a.get("Hash")["$==="](b["$[]"](-1)))===e||null==f||f.$$is_boolean&&1!=f?d([],{}):b.$pop();if(c["$=="](1))return g;var h=b.$size(),k=l=n(n(c,1),h);(f="number"===typeof k?0<k:k["$>"](0))===e||null==f||f.$$is_boolean&&1!=f?(f=p(l,0))===
e||null==f||f.$$is_boolean&&1!=f||b.$pop(l["$-@"]()):b.$fill(e,h,l);b["$<<"](g);return b},pa.$$arity=2);return(a.defn(m,"$as_symbol",ra=function(a){return!1!==a&&a!==e&&null!=a?a.$to_sym():e},ra.$$arity=1),e)&&"as_symbol"})(k.base,null);(function(b){var g=b.$$scope,h,k,p,n,t,v,w,r;a.defn(b,"$generate_name",h=function(){return"extgrp"+this.$next_auto_id()},h.$$arity=0);a.defn(b,"$next_auto_id",k=function(){var a;null==this.auto_id&&(this.auto_id=e);!1!==(a=this.auto_id)&&a!==e&&null!=a?a:this.auto_id=
-1;return this.auto_id=c(this.auto_id,1)},k.$$arity=0);a.defn(b,"$groups",p=function(){var a;null==this.groups&&(this.groups=e);return!1!==(a=this.groups)&&a!==e&&null!=a?a:this.groups=d([],{})},p.$$arity=0);a.defn(b,"$build_registry",n=function(a){var b,c=n.$$p||e;null==a&&(a=e);n.$$p=null;return c!==e?(!1!==(b=a)&&b!==e&&null!=b?b:a=this.$generate_name(),g.get("Registry").$new(m(a,c))):g.get("Registry").$new()},n.$$arity=-1);a.defn(b,"$register",t=function(b){var c,d,f=t.$$p||e,g=e,h=e,l=h=e,l=
e,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(h=0;h<g;h++)d[h-0]=arguments[h];t.$$p=null;g=d.$length();f===e&&((c=(h=d.$pop())["$!"]())===e||null==c||c.$$is_boolean&&1!=c?(l=h,f=a.get("Class")["$==="](l)?h:a.get("String")["$==="](l)?this.$class_for_name(h):a.get("Symbol")["$==="](l)?this.$class_for_name(h.$to_s()):h):f=this.$raise(a.get("ArgumentError").$new("Extension group to register not specified")));h=f;l=!1!==(c=d.$pop())&&c!==e&&null!=c?c:this.$generate_name();((c=d["$empty?"]())===
e||null==c||c.$$is_boolean&&1!=c)&&this.$raise(a.get("ArgumentError").$new("Wrong number of arguments ("+g+" for 1..2)"));return this.$groups()["$[]="](l,h)},t.$$arity=-1);a.defn(b,"$unregister_all",v=function(){return this.groups=d([],{})},v.$$arity=0);a.defn(b,"$resolve_class",w=function(b){var c;return(c=a.get("Class")["$==="](b))===e||null==c||c.$$is_boolean&&1!=c?this.$class_for_name(b.$to_s()):b},w.$$arity=1);return(a.defn(b,"$class_for_name",r=function(b){var c,d,f,g=e,g=a.get("Object");(c=
(d=b.$split("::")).$each,c.$$p=(f=function(a){var c=f.$$s||this,d;null==a&&(a=e);return(d=a["$empty?"]())===e||null==d||d.$$is_boolean&&1!=d?(d=g["$const_defined?"](a))===e||null==d||d.$$is_boolean&&1!=d?c.$raise("Could not resolve class for name: "+b):g=g.$const_get(a):e},f.$$s=this,f.$$arity=1,f),c).call(d);return g},r.$$arity=1),e)&&"class_for_name"})(a.get_singleton_class(t))})(g(w,"Asciidoctor").$$scope.base)}(a.base)};Opal.modules["asciidoctor/opal_ext/nashorn/io"]=function(a){var c;c=a.nil;
var p=a.gvars;null==p.stdout&&(p.stdout=c);null==p.stderr&&(p.stderr=c);a.add_stubs(["$write_proc="]);a=[function(a){print(a)}];c=p.stdout;c["$write_proc="].apply(c,a);a[a.length-1];return a=[function(a){print(a)}],c=p.stderr,c["$write_proc="].apply(c,a),a[a.length-1]};Opal.modules["asciidoctor/opal_ext/electron/io"]=function(a){var c;c=a.nil;var p=a.gvars;null==p.stdout&&(p.stdout=c);null==p.stderr&&(p.stderr=c);a.add_stubs(["$write_proc="]);a=[function(a){console.log(a)}];c=p.stdout;c["$write_proc="].apply(c,
a);a[a.length-1];return a=[function(a){console.error(a)}],c=p.stderr,c["$write_proc="].apply(c,a),a[a.length-1]};Opal.modules["asciidoctor/opal_ext/node/io"]=function(a){var c=a.nil,p=a.klass;return function(n,$super){function g(){}var h=g=p(n,$super,"IO",g),d;return(a.defs(h,"$binread",d=function(a){return require("fs").readFileSync(a).toString("binary")},d.$$arity=1),c)&&"binread"}(a.base,null)};Opal.modules["asciidoctor/opal_ext"]=function(a){var c=a.top,p=a.nil;a.add_stubs(["$require","$=="]);
var n="object"===typeof process&&"object"===typeof process.versions&&1!=process.browser,e="object"===typeof navigator&&"string"===typeof navigator.userAgent&&-1!==typeof navigator.userAgent.indexOf("Electron"),g="object"===typeof window,h="object"===typeof Java&&Java.type,d="object"===typeof java,b="object"===typeof window&&"object"===typeof window.phantom,m="function"===typeof importScripts,w="object"===typeof JSRuntime,t,k,l,r;a.load("pathname");a.load("base64");"object"===typeof config&&"object"===
typeof config.runtime&&(r=config.runtime,t=r.platform,k=r.engine,l=r.framework,r=r.ioModule);"undefined"===typeof t&&(n?(t=t||"node",k=k||"v8",e&&(l=l||"electron")):h?(t=plaform||"java",k=k||"nashorn"):d?(t=t||"java",k=k||"rhino"):w?(t=t||"standalone",l=l||"spidermonkey"):g&&(t=t||"browser",b&&(l=l||"phantomjs")),m&&(l=l||"webworker"));if("undefined"===typeof t)throw Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");
"node"===t&&a.load("nodejs");"undefined"===typeof l&&(l="");"undefined"===typeof k&&(k="");if("undefined"!==typeof r){if("spidermonkey"!=r&&"phantomjs"!=r&&"node"!=r&&"java_nio"!=r&&"xmlhttprequest"!=r)throw Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest");}else if("spidermonkey"===l)r="spidermonkey";else if("phantomjs"===l)r="phantomjs";else if("node"===t)r="node";else if("nashorn"===k)r="java_nio";else if("browser"===t||"undefined"!==
typeof XmlHTTPRequest)r="xmlhttprequest";else throw Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");a.cdecl(a,"JAVASCRIPT_IO_MODULE",r);a.cdecl(a,"JAVASCRIPT_PLATFORM",t);a.cdecl(a,"JAVASCRIPT_ENGINE",k);a.cdecl(a,"JAVASCRIPT_FRAMEWORK",l);c.$require("strscan");c.$require("asciidoctor/opal_ext/file");c.$require("asciidoctor/opal_ext/match_data");c.$require("asciidoctor/opal_ext/kernel");c.$require("asciidoctor/opal_ext/thread_safe");
c.$require("asciidoctor/converter");c.$require("asciidoctor/converter/composite");c.$require("asciidoctor/converter/html5");c.$require("asciidoctor/opal_ext/string");c.$require("asciidoctor/extensions");a.get("JAVASCRIPT_ENGINE")["$=="]("nashorn")&&c.$require("asciidoctor/opal_ext/nashorn/io");a.get("JAVASCRIPT_FRAMEWORK")["$=="]("electron")&&c.$require("asciidoctor/opal_ext/electron/io");return a.get("JAVASCRIPT_PLATFORM")["$=="]("node")?c.$require("asciidoctor/opal_ext/node/io"):p};Opal.modules["asciidoctor/version"]=
function(a){var c=a.module,c=c(a.base,"Asciidoctor").$$scope;a.cdecl(c,"VERSION","1.5.5")};Opal.modules["asciidoctor/timings"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var e=a.nil,g=a.module,h=a.klass,d=a.hash2,b=a.gvars;a.add_stubs("$[]= $now $- $delete $> $+ $[] $puts $% $to_f $read_parse $convert $read_parse_convert".split(" "));
return function(m){(function(g,$super){function k(){}var l=k=h(g,$super,"Timings",k),m=l.$$proto,r,C,E,D,y,v,N,F;m.timers=m.log=e;a.defn(l,"$initialize",r=function(){this.log=d([],{});return this.timers=d([],{})},r.$$arity=0);a.defn(l,"$start",C=function(b){return this.timers["$[]="](b,a.get("Time").$now())},C.$$arity=1);a.defn(l,"$record",E=function(b){return this.log["$[]="](b,c(a.get("Time").$now(),this.timers.$delete(b)))},E.$$arity=1);a.defn(l,"$read_parse",D=function(){var a,b,c=e;return(a=
p(c=n(!1!==(b=this.log["$[]"]("read"))&&b!==e&&null!=b?b:0,!1!==(b=this.log["$[]"]("parse"))&&b!==e&&null!=b?b:0),0))===e||null==a||a.$$is_boolean&&1!=a?e:c},D.$$arity=0);a.defn(l,"$convert",y=function(){var a;return!1!==(a=this.log["$[]"]("convert"))&&a!==e&&null!=a?a:0},y.$$arity=0);a.defn(l,"$read_parse_convert",v=function(){var a,b,c=e;return(a=p(c=n(n(!1!==(b=this.log["$[]"]("read"))&&b!==e&&null!=b?b:0,!1!==(b=this.log["$[]"]("parse"))&&b!==e&&null!=b?b:0),!1!==(b=this.log["$[]"]("convert"))&&
b!==e&&null!=b?b:0),0))===e||null==a||a.$$is_boolean&&1!=a?e:c},v.$$arity=0);a.defn(l,"$total",N=function(){var a,b,c=e;return(a=p(c=n(n(n(!1!==(b=this.log["$[]"]("read"))&&b!==e&&null!=b?b:0,!1!==(b=this.log["$[]"]("parse"))&&b!==e&&null!=b?b:0),!1!==(b=this.log["$[]"]("convert"))&&b!==e&&null!=b?b:0),!1!==(b=this.log["$[]"]("write"))&&b!==e&&null!=b?b:0),0))===e||null==a||a.$$is_boolean&&1!=a?e:c},N.$$arity=0);return(a.defn(l,"$print_report",F=function(a,c){null==b.stdout&&(b.stdout=e);null==a&&
(a=b.stdout);null==c&&(c=e);!1!==c&&c!==e&&null!=c&&a.$puts("Input file: "+c);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},F.$$arity=-1),e)&&"print_report"})(g(m,"Asciidoctor").$$scope.base,null)}(a.base)};Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(a){var c=
a.nil,p=a.klass;a.add_stubs(["$method_defined?"]);(function(n,$super){function g(){}var h=g=p(n,$super,"NilClass",g),d;return(d=h["$method_defined?"]("nil_or_empty?"))===c||null==d||d.$$is_boolean&&1!=d?a.alias(h,"nil_or_empty?","nil?"):c})(a.base,null);(function(n,$super){function g(){}var h=g=p(n,$super,"String",g),d;return(d=h["$method_defined?"]("nil_or_empty?"))===c||null==d||d.$$is_boolean&&1!=d?a.alias(h,"nil_or_empty?","empty?"):c})(a.base,null);(function(n,$super){function g(){}var h=g=p(n,
$super,"Array",g),d;return(d=h["$method_defined?"]("nil_or_empty?"))===c||null==d||d.$$is_boolean&&1!=d?a.alias(h,"nil_or_empty?","empty?"):c})(a.base,null);(function(n,$super){function g(){}var h=g=p(n,$super,"Hash",g),d;return(d=h["$method_defined?"]("nil_or_empty?"))===c||null==d||d.$$is_boolean&&1!=d?a.alias(h,"nil_or_empty?","empty?"):c})(a.base,null);return function(n,$super){function g(){}var h=g=p(n,$super,"Numeric",g),d;return(d=h["$method_defined?"]("nil_or_empty?"))===c||null==d||d.$$is_boolean&&
1!=d?a.alias(h,"nil_or_empty?","nil?"):c}(a.base,null)};Opal.modules["asciidoctor/core_ext/string/limit"]=function(a){var c=a.nil,p=a.klass;a.add_stubs("$method_defined? $< $bytesize $valid_encoding? $force_encoding $byteslice $-".split(" "));return function(n,$super){function g(){}var h=g=p(n,$super,"String",g),d,b;return(d=h["$method_defined?"]("limit"))===c||null==d||d.$$is_boolean&&1!=d?(a.defn(h,"$limit",b=function(b){var d,g,h=c,h=this.$bytesize();if((d="number"===typeof b&&"number"===typeof h?
b<h:b["$<"](h))===c||null==d||d.$$is_boolean&&1!=d)return this;for(;(g=(h=this.$byteslice(0,b)).$force_encoding(a.get("Encoding").$$scope.get("UTF_8"))["$valid_encoding?"]())===c||null==g||g.$$is_boolean&&1!=g;)b="number"===typeof b?b-1:b["$-"](1);return h},b.$$arity=1),c)&&"limit":c}(a.base,null)};Opal.modules["asciidoctor/core_ext"]=function(a){var c,p=a.top,n=a.nil;a.add_stubs(["$require","$!="]);p.$require("asciidoctor/core_ext/nil_or_empty");if((c=a.get("RUBY_MIN_VERSION_1_9"))!==n&&null!=c&&
(!c.$$is_boolean||1==c))return p.$require("asciidoctor/core_ext/string/limit");if((c=a.get("RUBY_ENGINE")["$!="]("opal"))===n||null==c||c.$$is_boolean&&1!=c)return n};Opal.modules["asciidoctor/helpers"]=function(a){var c=a.nil,p=a.module,n=a.range,e=a.gvars;a.add_stubs("$require $== $=== $fail $warn $chomp $message $class $normalize_lines_from_string $normalize_lines_array $empty? $to_a $bytes $[] $map $rstrip $lines $encode $force_encoding $join $[]= $encoding $nil_or_empty? $each_line $include? $=~ $gsub $sprintf $each_byte $extname $-@ $length $basename $directory? $dirname $! $!= $mkdir_p $mkdir".split(" "));
return function(g){(function(g){g=p(g,"Helpers");var d=g.$$scope,b,m,r,t,k,l,M,x,C,E;a.defs(g,"$require_library",b=function(b,d,e){var g=c,h=c;null==d&&(d=!0);null==e&&(e="abort");try{return this.$require(b)}catch(l){if(a.rescue(l,[a.get("LoadError")])){g=l;try{if(!1!==d&&d!==c&&null!=d)return d["$=="](!0)&&(d=b),h=e,"abort"["$==="](h)?this.$fail("asciidoctor: FAILED: required gem '"+d+"' is not installed. Processing aborted."):"warn"["$==="](h)?this.$warn("asciidoctor: WARNING: optional gem '"+d+
"' is not installed. Functionality disabled."):c;h=e;return"abort"["$==="](h)?this.$fail("asciidoctor: FAILED: "+g.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](h)?this.$warn("asciidoctor: WARNING: "+g.$message().$chomp(".")+". Functionality disabled."):c}finally{a.pop_exception()}}else throw l;}},b.$$arity=-2);a.defs(g,"$normalize_lines",m=function(b){return b.$class()["$=="](a.get("String"))?this.$normalize_lines_from_string(b):this.$normalize_lines_array(b)},m.$$arity=1);a.defs(g,
"$normalize_lines_array",r=function(b){var e,g,h,l,k,m,p=c,t=c,q=c,r=c;if((e=b["$empty?"]())!==c&&null!=e&&(!e.$$is_boolean||1==e))return[];p=(t=b["$[]"](0))["$[]"](n(0,2,!1)).$bytes().$to_a();if((e=d.get("COERCE_ENCODING"))===c||null==e||e.$$is_boolean&&1!=e){if(p["$=="](d.get("BOM_BYTES_UTF_8")))b["$[]="](0,t["$[]"](n(3,-1,!1)));return(e=b.$map,e.$$p=(m=function(a){null==a&&(a=c);return a.$rstrip()},m.$$s=this,m.$$arity=1,m),e).call(b)}q=a.get("Encoding").$$scope.get("UTF_8");if((r=p["$[]"](n(0,
1,!1)))["$=="](d.get("BOM_BYTES_UTF_16LE")))return(e=(g=b.$join().$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](n(1,-1,!1)).$encode(q).$lines()).$map,e.$$p=(h=function(a){null==a&&(a=c);return a.$rstrip()},h.$$s=this,h.$$arity=1,h),e).call(g);if(r["$=="](d.get("BOM_BYTES_UTF_16BE")))return b["$[]="](0,t.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](n(1,-1,!1))),(e=b.$map,e.$$p=(l=function(b){null==b&&(b=c);return""+b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE")).$encode(q).$rstrip()},
l.$$s=this,l.$$arity=1,l),e).call(b);if(p["$[]"](n(0,2,!1))["$=="](d.get("BOM_BYTES_UTF_8")))b["$[]="](0,t.$force_encoding(q)["$[]"](n(1,-1,!1)));return(e=b.$map,e.$$p=(k=function(a){null==a&&(a=c);return a.$encoding()["$=="](q)?a.$rstrip():a.$force_encoding(q).$rstrip()},k.$$s=this,k.$$arity=1,k),e).call(b)},r.$$arity=1);a.defs(g,"$normalize_lines_from_string",t=function(b){var e,g,h,l=c,k=c,m=c;if((e=b["$nil_or_empty?"]())!==c&&null!=e&&(!e.$$is_boolean||1==e))return[];(e=d.get("COERCE_ENCODING"))===
c||null==e||e.$$is_boolean&&1!=e?b["$[]"](n(0,2,!1)).$bytes().$to_a()["$=="](d.get("BOM_BYTES_UTF_8"))&&(b=b["$[]"](n(3,-1,!1))):(l=a.get("Encoding").$$scope.get("UTF_8"),k=b["$[]"](n(0,2,!1)).$bytes().$to_a(),(m=k["$[]"](n(0,1,!1)))["$=="](d.get("BOM_BYTES_UTF_16LE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](n(1,-1,!1)).$encode(l):m["$=="](d.get("BOM_BYTES_UTF_16BE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](n(1,-1,!1)).$encode(l):k["$[]"](n(0,
2,!1))["$=="](d.get("BOM_BYTES_UTF_8"))?b=b.$encoding()["$=="](l)?b["$[]"](n(1,-1,!1)):b.$force_encoding(l)["$[]"](n(1,-1,!1)):b.$encoding()["$=="](l)||(b=b.$force_encoding(l)));return(e=(g=b.$each_line()).$map,e.$$p=(h=function(a){null==a&&(a=c);return a.$rstrip()},h.$$s=this,h.$$arity=1,h),e).call(g)},t.$$arity=1);a.defs(g,"$uriish?",k=function(a){var b;return b=a["$include?"](":"),!1!==b&&b!==c&&null!=b?a["$=~"](d.get("UriSniffRx")):b},k.$$arity=1);a.defs(g,"$uri_prefix",l=function(a){var b,g;
return(b=(g=a["$include?"](":"),!1!==g&&g!==c&&null!=g?a["$=~"](d.get("UriSniffRx")):g))===c||null==b||b.$$is_boolean&&1!=b?c:(b=e["~"])===c?c:b["$[]"](0)},l.$$arity=1);a.cdecl(d,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(g,"$encode_uri",M=function(a){var b,g;return(b=a.$gsub,b.$$p=(g=function(){var a=g.$$s||this,b,d,h,l;return(b=(d=((l=e["~"])===c?c:l["$[]"](0)).$each_byte()).$map,b.$$p=(h=function(a){var b=h.$$s||this;null==a&&(a=c);return b.$sprintf("%%%02X",a)},h.$$s=a,h.$$arity=
1,h),b).call(d).$join()},g.$$s=this,g.$$arity=0,g),b).call(a,d.get("REGEXP_ENCODE_URI_CHARS"))},M.$$arity=1);a.defs(g,"$rootname",x=function(b){var d,e=c;return(d=(e=a.get("File").$extname(b))["$empty?"]())===c||null==d||d.$$is_boolean&&1!=d?b["$[]"](n(0,e.$length()["$-@"](),!0)):b},x.$$arity=1);a.defs(g,"$basename",C=function(b,d){null==d&&(d=!1);return!1!==d&&d!==c&&null!=d?a.get("File").$basename(b,a.get("File").$extname(b)):a.get("File").$basename(b)},C.$$arity=-2);a.defs(g,"$mkdir_p",E=function(b){var d,
e,g=c;return(d=a.get("File")["$directory?"](b))===c||null==d||d.$$is_boolean&&1!=d?(g=a.get("File").$dirname(b),(d=(e=a.get("File")["$directory?"](g=a.get("File").$dirname(b))["$!"](),!1!==e&&e!==c&&null!=e?g["$!="]("."):e))===c||null==d||d.$$is_boolean&&1!=d||this.$mkdir_p(g),a.get("Dir").$mkdir(b)):c},E.$$arity=1)})(p(g,"Asciidoctor").$$scope.base)}(a.base)};Opal.modules["asciidoctor/substitutors"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,
b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=a.nil,h=a.slice,d=a.module,b=a.hash2,m=a.gvars,r=a.range;a.add_stubs("$join $keys $[] $+ $attr_reader $! $== $=== $each $has_key? $<< $empty? $* $include? $extract_passthroughs $sub_specialchars $sub_quotes $sub_attributes $split $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $restore_passthroughs $apply_subs $compat_mode $gsub $nil_or_empty? $[]= $size $unescape_brackets $resolve_pass_subs $> $- $end_with? $parse_attributes $start_with? $to_sym $attributes $document $basebackend? $to_i $convert $new $clear $convert_quoted_text $do_replacement $tr $length $store_attribute $fetch $attribute_undefined $counter $key? $downcase $attribute_missing $unescape_bracketed_text $inject $strip $map $pop $rstrip $extensions $inline_macros? $config $process_method $regexp $instance $inline_macros $register $basename $split_simple_csv $normalize_string $!= $!~ $delete $chop $attr? $sub $chomp $encode_uri $sub_inline_xrefs $sub_inline_anchors $find $id $references $index $text $rootname $key $escape $attr $read_next_id $callouts $push $parse_quoted_text_attributes $shorthand_property_syntax $shift $concat $parse_into $parse $each_char $=~ $chr $dup $& $resolve_subs $nil? $require_library $set_attr $sub_source $resolve_highlight_lines $highlight $to_a $uniq $sort $option? $resolve_block_subs".split(" "));
return function(t){(function(k){k=d(k,"Substitutors");var l=k.$$scope,t,x,C,E,D,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q,Z,R,ba,ga,ia,ma,la,na;a.cdecl(l,"SPECIAL_CHARS",b(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"}));a.cdecl(l,"SPECIAL_CHARS_PATTERN",new RegExp("["+l.get("SPECIAL_CHARS").$keys().$join()+"]"));a.cdecl(l,"SUBS",b("basic normal verbatim title header pass".split(" "),{basic:["specialcharacters"],normal:"specialcharacters quotes attributes replacements macros post_replacements".split(" "),
verbatim:["specialcharacters","callouts"],title:"specialcharacters quotes replacements macros attributes post_replacements".split(" "),header:["specialcharacters","attributes"],pass:[]}));a.cdecl(l,"COMPOSITE_SUBS",b(["none","normal","verbatim","specialchars"],{none:[],normal:l.get("SUBS")["$[]"]("normal"),verbatim:l.get("SUBS")["$[]"]("verbatim"),specialchars:["specialcharacters"]}));a.cdecl(l,"SUB_SYMBOLS",b("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",
r:"replacements",c:"specialcharacters",v:"verbatim"}));a.cdecl(l,"SUB_OPTIONS",b(["block","inline"],{block:c(c(l.get("COMPOSITE_SUBS").$keys(),l.get("SUBS")["$[]"]("normal")),["callouts"]),inline:c(l.get("COMPOSITE_SUBS").$keys(),l.get("SUBS")["$[]"]("normal"))}));a.cdecl(l,"SUB_HIGHLIGHT",["coderay","pygments"]);a.cdecl(l,"PASS_START","\u0096");a.cdecl(l,"PASS_END","\u0097");a.cdecl(l,"PASS_MATCH",/\u0096(\d+)\u0097/);a.cdecl(l,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/);
k.$attr_reader("passthroughs");a.defn(k,"$apply_subs",t=function(b,d,e){var h,k,m,n,q,t=g,v=g,r=g,x=g;null==this.passthroughs&&(this.passthroughs=g);null==d&&(d="normal");null==e&&(e=!1);if((h=d["$!"]())!==g&&null!=h&&(!h.$$is_boolean||1==h))return b;d["$=="]("normal")?d=l.get("SUBS")["$[]"]("normal"):!1!==e&&e!==g&&null!=e&&((h=a.get("Symbol")["$==="](d))===g||null==h||h.$$is_boolean&&1!=h?(t=[],(h=(k=d).$each,h.$$p=(m=function(a){var b;null==a&&(a=g);return(b=l.get("COMPOSITE_SUBS")["$has_key?"](a))===
g||null==b||b.$$is_boolean&&1!=b?t["$<<"](a):t=c(t,l.get("COMPOSITE_SUBS")["$[]"](a))},m.$$s=this,m.$$arity=1,m),h).call(k),d=t):d=!1!==(h=l.get("COMPOSITE_SUBS")["$[]"](d))&&h!==g&&null!=h?h:[d]);if((h=d["$empty?"]())!==g&&null!=h&&(!h.$$is_boolean||1==h))return b;v=(h=r=a.get("Array")["$==="](b))===g||null==h||h.$$is_boolean&&1!=h?b:p(b,l.get("EOL"));(h=x=d["$include?"]("macros"))===g||null==h||h.$$is_boolean&&1!=h||(v=this.$extract_passthroughs(v),(h=this.passthroughs["$empty?"]())===g||null==
h||h.$$is_boolean&&1!=h||(x=!1));(h=(n=d).$each,h.$$p=(q=function(a){var b=q.$$s||this,c,e=g;null==a&&(a=g);e=a;return"specialcharacters"["$==="](e)?v=b.$sub_specialchars(v):"quotes"["$==="](e)?v=b.$sub_quotes(v):"attributes"["$==="](e)?v=p(b.$sub_attributes(v.$split(l.get("EOL"))),l.get("EOL")):"replacements"["$==="](e)?v=b.$sub_replacements(v):"macros"["$==="](e)?v=b.$sub_macros(v):"highlight"["$==="](e)?v=b.$highlight_source(v,d["$include?"]("callouts")):"callouts"["$==="](e)?(c=d["$include?"]("highlight"))===
g||null==c||c.$$is_boolean&&1!=c?v=b.$sub_callouts(v):g:"post_replacements"["$==="](e)?v=b.$sub_post_replacements(v):b.$warn("asciidoctor: WARNING: unknown substitution type "+a)},q.$$s=this,q.$$arity=1,q),h).call(n);!1!==x&&x!==g&&null!=x&&(v=this.$restore_passthroughs(v));return!1!==r&&r!==g&&null!=r?v.$split(l.get("EOL")):v},t.$$arity=-2);a.defn(k,"$apply_normal_subs",x=function(b){var c;return this.$apply_subs((c=a.get("Array")["$==="](b))===g||null==c||c.$$is_boolean&&1!=c?b:p(b,l.get("EOL")))},
x.$$arity=1);a.defn(k,"$apply_title_subs",C=function(a){return this.$apply_subs(a,l.get("SUBS")["$[]"]("title"))},C.$$arity=1);a.defn(k,"$apply_header_subs",E=function(a){return this.$apply_subs(a,l.get("SUBS")["$[]"]("header"))},E.$$arity=1);a.defn(k,"$extract_passthroughs",D=function(c){var d,f,h,k,q,t,v,x,z=g,R=g,K=g,y=g;null==this.document&&(this.document=g);z=this.document.$compat_mode();(d=!1!==(f=!1!==(h=c["$include?"]("++"))&&h!==g&&null!=h?h:c["$include?"]("$$"))&&f!==g&&null!=f?f:c["$include?"]("ss:"))===
g||null==d||d.$$is_boolean&&1!=d||(c=(d=(f=c).$gsub,d.$$p=(k=function(){var c=k.$$s||this,d,f=g,h=g,q=g,t=q=g,L=g,T=g,v=g,f=g;null==c.passthroughs&&(c.passthroughs=g);null==m["~"]&&(m["~"]=g);f=m["~"];h=g;if((d=(q=f["$[]"](4))["$nil_or_empty?"]())===g||null==d||d.$$is_boolean&&1!=d){if((d=!1!==z&&z!==g&&null!=z?q["$=="]("++"):z)!==g&&null!=d&&(!d.$$is_boolean||1==d))return(d=f["$[]"](2)["$nil_or_empty?"]())===g||null==d||d.$$is_boolean&&1!=d?""+f["$[]"](1)+"["+f["$[]"](2)+"]"+f["$[]"](3)+"++"+c.$extract_passthroughs(f["$[]"](5))+
"++":""+f["$[]"](1)+f["$[]"](3)+"++"+c.$extract_passthroughs(f["$[]"](5))+"++";t=f["$[]"](2);(d=a.get("RUBY_ENGINE_OPAL"))===g||null==d||d.$$is_boolean&&1!=d||t["$=="]("")&&(t=g);L=f["$[]"](3).$size();T=f["$[]"](5);v=!1;if(!1!==t&&t!==g&&null!=t)if((d=n(L,0))===g||null==d||d.$$is_boolean&&1!=d)f["$[]"](1)["$=="]("\\")?(h="["+t+"]",t=g):((d=q["$=="]("++")?t["$end_with?"]("x-"):q["$=="]("++"))===g||null==d||d.$$is_boolean&&1!=d||(v=!0,t=t["$[]"](r(0,-2,!0))),t=c.$parse_attributes(t));else return""+
f["$[]"](1)+"["+t+"]"+p("\\",e(L,1))+q+f["$[]"](5)+q+")";else if((d=n(L,0))!==g&&null!=d&&(!d.$$is_boolean||1==d))return""+f["$[]"](1)+"["+t+"]"+p("\\",e(L,1))+q+f["$[]"](5)+q;f=q["$=="]("+++")?[]:["specialcharacters"];q=c.passthroughs.$size();if(!1!==t&&t!==g&&null!=t)if(!1!==v&&v!==g&&null!=v)c.passthroughs["$[]="](q,b(["text","subs","type","attributes"],{text:T,subs:l.get("SUBS")["$[]"]("normal"),type:"monospaced",attributes:t}));else c.passthroughs["$[]="](q,b(["text","subs","type","attributes"],
{text:T,subs:f,type:"unquoted",attributes:t}));else c.passthroughs["$[]="](q,b(["text","subs"],{text:T,subs:f}))}else{if(f["$[]"](6)["$=="]("\\"))return f["$[]"](0)["$[]"](r(1,-1,!1));c.passthroughs["$[]="](q=c.passthroughs.$size(),b(["text","subs"],{text:c.$unescape_brackets(f["$[]"](8)),subs:(d=f["$[]"](7)["$nil_or_empty?"]())===g||null==d||d.$$is_boolean&&1!=d?c.$resolve_pass_subs(f["$[]"](7)):[]}))}return""+h+l.get("PASS_START")+q+l.get("PASS_END")},k.$$s=this,k.$$arity=0,k),d).call(f,l.get("PassInlineMacroRx")));
h=l.get("PassInlineRx")["$[]"](z);d=a.to_ary(h);R=null==d[0]?g:d[0];K=null==d[1]?g:d[1];y=null==d[2]?g:d[2];h;(d=!1!==(h=c["$include?"](R))&&h!==g&&null!=h?h:(q=!1!==K&&K!==g&&null!=K)?c["$include?"](K):K)===g||null==d||d.$$is_boolean&&1!=d||(c=(d=(h=c).$gsub,d.$$p=(t=function(){var c=t.$$s||this,d,e=g,f=g,h=g,k=g,p=g,n=g,q=g,p=e=g;null==c.passthroughs&&(c.passthroughs=g);null==m["~"]&&(m["~"]=g);e=m["~"];f=e["$[]"](1);h=e["$[]"](2);k=(d=e["$[]"](3)["$start_with?"]("\\"))===g||null==d||d.$$is_boolean&&
1!=d?g:"\\";p=e["$[]"](4);n=e["$[]"](5);(d=a.get("RUBY_ENGINE_OPAL"))===g||null==d||d.$$is_boolean&&1!=d||h["$=="]("")&&(h=g);!1!==z&&z!==g&&null!=z?q=!0:(d=q=!1!==h&&h!==g&&null!=h?h["$end_with?"]("x-"):h)===g||null==d||d.$$is_boolean&&1!=d||(h=h["$[]"](r(0,-2,!0)));if(!1!==h&&h!==g&&null!=h){if((d=p["$=="]("`")?q["$!"]():p["$=="]("`"))!==g&&null!=d&&(!d.$$is_boolean||1==d))return""+f+"["+h+"]"+k+"`"+c.$extract_passthroughs(n)+"`";if(!1!==k&&k!==g&&null!=k)return""+f+"["+h+"]"+e["$[]"](3)["$[]"](r(1,
-1,!1));f["$=="]("\\")?(f="["+h+"]",h=g):h=c.$parse_attributes(h)}else{if((d=p["$=="]("`")?q["$!"]():p["$=="]("`"))!==g&&null!=d&&(!d.$$is_boolean||1==d))return""+f+k+"`"+c.$extract_passthroughs(n)+"`";if(!1!==k&&k!==g&&null!=k)return""+f+e["$[]"](3)["$[]"](r(1,-1,!1))}e=c.passthroughs.$size();if(!1!==z&&z!==g&&null!=z)c.passthroughs["$[]="](e,b(["text","subs","attributes","type"],{text:n,subs:["specialcharacters"],attributes:h,type:"monospaced"}));else if(!1!==h&&h!==g&&null!=h)if(!1!==q&&q!==g&&
null!=q)p=p["$=="]("`")?["specialcharacters"]:l.get("SUBS")["$[]"]("normal"),c.passthroughs["$[]="](e,b(["text","subs","attributes","type"],{text:n,subs:p,attributes:h,type:"monospaced"}));else c.passthroughs["$[]="](e,b(["text","subs","attributes","type"],{text:n,subs:["specialcharacters"],attributes:h,type:"unquoted"}));else c.passthroughs["$[]="](e,b(["text","subs"],{text:n,subs:["specialcharacters"]}));return""+f+l.get("PASS_START")+e+l.get("PASS_END")},t.$$s=this,t.$$arity=0,t),d).call(h,y));
(d=(q=c["$include?"](":"),!1!==q&&q!==g&&null!=q?!1!==(v=c["$include?"]("stem:"))&&v!==g&&null!=v?v:c["$include?"]("math:"):q))===g||null==d||d.$$is_boolean&&1!=d||(c=(d=(q=c).$gsub,d.$$p=(x=function(){var a=x.$$s||this,c,d=g,e=g,f=g,h=g,k=d=g;null==a.document&&(a.document=g);null==a.passthroughs&&(a.passthroughs=g);null==m["~"]&&(m["~"]=g);d=m["~"];if((c=d["$[]"](0)["$start_with?"]("\\"))!==g&&null!=c&&(!c.$$is_boolean||1==c))return d["$[]"](0)["$[]"](r(1,-1,!1));(e=d["$[]"](1).$to_sym())["$=="]("stem")&&
(e=((c=(f=a.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===g||null==c||c.$$is_boolean&&1!=c?f:"asciimath").$to_sym());h=a.$unescape_brackets(d["$[]"](3));d=(c=d["$[]"](2)["$nil_or_empty?"]())===g||null==c||c.$$is_boolean&&1!=c?a.$resolve_pass_subs(d["$[]"](2)):(c=a.document["$basebackend?"]("html"))===g||null==c||c.$$is_boolean&&1!=c?[]:["specialcharacters"];a.passthroughs["$[]="](k=a.passthroughs.$size(),b(["text","subs","type"],{text:h,subs:d,type:e}));return""+l.get("PASS_START")+
k+l.get("PASS_END")},x.$$s=this,x.$$arity=0,x),d).call(q,l.get("StemInlineMacroRx")));return c},D.$$arity=1);a.defn(k,"$restore_passthroughs",y=function(a,c){var d,e,f,h;null==this.passthroughs&&(this.passthroughs=g);null==c&&(c=!0);try{return(d=(e=!1!==c&&c!==g&&null!=c)?!1!==(f=this.passthroughs["$empty?"]())&&f!==g&&null!=f?f:a["$include?"](l.get("PASS_START"))["$!"]():c)===g||null==d||d.$$is_boolean&&1!=d?(d=(e=a).$gsub,d.$$p=(h=function(){var a=h.$$s||this,c,d=g,e=g,f=g,k=g;null==a.passthroughs&&
(a.passthroughs=g);null==m["~"]&&(m["~"]=g);d=a.passthroughs["$[]"](m["~"]["$[]"](1).$to_i());e=(c=f=d["$[]"]("subs"))===g||null==c||c.$$is_boolean&&1!=c?d["$[]"]("text"):a.$apply_subs(d["$[]"]("text"),f);(c=k=d["$[]"]("type"))===g||null==c||c.$$is_boolean&&1!=c||(e=l.get("Inline").$new(a,"quoted",e,b(["type","attributes"],{type:k,attributes:d["$[]"]("attributes")})).$convert());return(c=e["$include?"](l.get("PASS_START")))===g||null==c||c.$$is_boolean&&1!=c?e:a.$restore_passthroughs(e,!1)},h.$$s=
this,h.$$arity=0,h),d).call(e,l.get("PASS_MATCH")):a}finally{!1!==c&&c!==g&&null!=c&&this.passthroughs.$clear()}},y.$$arity=-2);a.defn(k,"$sub_specialchars",v=function(a){var b,c;return(b=l.get("SUPPORTS_GSUB_RESULT_HASH"))===g||null==b||b.$$is_boolean&&1!=b?(b=a.$gsub,b.$$p=(c=function(){var a;return l.get("SPECIAL_CHARS")["$[]"]((a=m["~"])===g?g:a["$[]"](0))},c.$$s=this,c.$$arity=0,c),b).call(a,l.get("SPECIAL_CHARS_PATTERN")):a.$gsub(l.get("SPECIAL_CHARS_PATTERN"),l.get("SPECIAL_CHARS"))},v.$$arity=
1);a.alias(k,"sub_specialcharacters","sub_specialchars");l.get("RUBY_ENGINE")["$=="]("opal")&&(a.defn(k,"$sub_quotes",N=function(a){var b,c,d;null==this.document&&(this.document=g);(b=(c=l.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,b.$$p=(d=function(b,c,e){var f=d.$$s||this,h,l,k;null==b&&(b=g);null==c&&(c=g);null==e&&(e=g);return a=(h=(l=a).$gsub,h.$$p=(k=function(){var a=k.$$s||this;null==m["~"]&&(m["~"]=g);return a.$convert_quoted_text(m["~"],b,c)},k.$$s=f,k.$$arity=0,k),h).call(l,
e)},d.$$s=this,d.$$arity=3,d),b).call(c);return a},N.$$arity=1),a.defn(k,"$sub_replacements",F=function(a){var b,c,d;(b=(c=l.get("REPLACEMENTS")).$each,b.$$p=(d=function(b,c,e){var f=d.$$s||this,h,l,k;null==b&&(b=g);null==c&&(c=g);null==e&&(e=g);return a=(h=(l=a).$gsub,h.$$p=(k=function(){var a=k.$$s||this;null==m["~"]&&(m["~"]=g);return a.$do_replacement(m["~"],c,e)},k.$$s=f,k.$$arity=0,k),h).call(l,b)},d.$$s=this,d.$$arity=3,d),b).call(c);return a},F.$$arity=1));a.defn(k,"$do_replacement",I=function(a,
b,c){var d,e=g,e=g;(d=(e=a["$[]"](0))["$include?"]("\\"))===g||null==d||d.$$is_boolean&&1!=d?(e=c,a="none"["$==="](e)?b:"leading"["$==="](e)?""+a["$[]"](1)+b:"bounding"["$==="](e)?""+a["$[]"](1)+b+a["$[]"](2):g):a=e.$tr("\\","");return a},I.$$arity=3);a.defn(k,"$sub_attributes",G=function(d,e){var h,k,n,q=g,t=g,v=g,x=g;null==this.document&&(this.document=g);null==e&&(e=b([],{}));if((h=d["$nil_or_empty?"]())!==g&&null!=h&&(!h.$$is_boolean||1==h))return d;(h=q=a.get("String")["$==="](d))===g||null==
h||h.$$is_boolean&&1!=h||(d=[d]);t=this.document.$attributes();v=g;x=[];(h=(k=d).$each,h.$$p=(n=function(b){var d=n.$$s||this,h,k,p,q,L=g,z=g;null==b&&(b=g);z=L=!1;(h=b["$include?"]("{"))===g||null==h||h.$$is_boolean&&1!=h||(b=function(){var q=a.new_brk();try{return(h=(k=b).$gsub,h.$$p=(p=function(){var b=p.$$s||this,d,h,k,n=g,O=g,x=g,aa=g,xa=g,V=g,X=g,H=g,W=g;null==b.document&&(b.document=g);null==m["~"]&&(m["~"]=g);n=m["~"];if((d=!1!==(h=n["$[]"](1)["$=="]("\\"))&&h!==g&&null!=h?h:n["$[]"](4)["$=="]("\\"))===
g||null==d||d.$$is_boolean&&1!=d){if((d=n["$[]"](3)["$nil_or_empty?"]()["$!"]())===g||null==d||d.$$is_boolean&&1!=d)return(d=t["$key?"](W=n["$[]"](2).$downcase()))===g||null==d||d.$$is_boolean&&1!=d?(d=l.get("INTRINSIC_ATTRIBUTES")["$key?"](W))===g||null==d||d.$$is_boolean&&1!=d?function(){xa=!1!==(d=v)&&d!==g&&null!=d?d:v=!1!==(h=e["$[]"]("attribute_missing"))&&h!==g&&null!=h?h:t.$fetch("attribute-missing",l.get("Compliance").$attribute_missing());if("skip"["$==="](xa))return n["$[]"](0);if("drop-line"["$==="](xa))b.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+
W),L=!0,a.brk("",q);else{if("warn"["$==="](xa))return b.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+W),n["$[]"](0);z=!0;return""}}():l.get("INTRINSIC_ATTRIBUTES")["$[]"](W):t["$[]"](W);O=c((x=n["$[]"](3)).$length(),1);aa=n["$[]"](2)["$[]"](r(O,-1,!1));return function(){xa=x;if("set"["$==="](xa))return V=aa.$split(":"),h=l.get("Parser").$store_attribute(V["$[]"](0),!1!==(k=V["$[]"](1))&&k!==g&&null!=k?k:"",b.document),d=a.to_ary(h),X=null==d[1]?g:d[1],h,!1!==X&&X!==g&&null!=
X||!t.$fetch("attribute-undefined",l.get("Compliance").$attribute_undefined())["$=="]("drop-line")||(L=!0,a.brk("",q)),z=!0,"";if("counter"["$==="](xa)||"counter2"["$==="](xa))return V=aa.$split(":"),H=b.document.$counter(V["$[]"](0),V["$[]"](1)),x["$=="]("counter2")?(z=!0,""):H;b.$warn("asciidoctor: WARNING: illegal attribute directive: "+n["$[]"](3));return n["$[]"](0)}()}return"{"+n["$[]"](2)+"}"},p.$$s=d,p.$$brk=q,p.$$arity=0,p),h).call(k,l.get("AttributeReferenceRx"))}catch(n){if(n===q)return n.$v;
throw n;}}());return(h=!1!==(q=L)&&q!==g&&null!=q?q:!1!==z&&z!==g&&null!=z?b["$empty?"]():z)===g||null==h||h.$$is_boolean&&1!=h?x["$<<"](b):g},n.$$s=this,n.$$arity=1,n),h).call(k);return!1!==q&&q!==g&&null!=q?p(x,l.get("EOL")):x},G.$$arity=-2);a.defn(k,"$sub_macros",K=function(c){var d,e,f,k,p,n,q,t,v,x,z,R,K,y,Q,C,u,da,qa,sa,B=g,ba=g,Z=g,U=g,aa=g,xa=g;null==this.document&&(this.document=g);if((d=c["$nil_or_empty?"]())!==g&&null!=d&&(!d.$$is_boolean||1==d))return c;B=b([],{});B["$[]="]("square_bracket",
c["$include?"]("["));B["$[]="]("round_bracket",c["$include?"]("("));B["$[]="]("colon",ba=c["$include?"](":"));B["$[]="]("macroish",(d=B["$[]"]("square_bracket"),!1!==d&&d!==g&&null!=d?ba:d));B["$[]="]("macroish_short_form",(d=(e=B["$[]"]("square_bracket"),!1!==e&&e!==g&&null!=e?ba:e),!1!==d&&d!==g&&null!=d?c["$include?"](":["):d));Z=this.document.$attributes()["$has_key?"]("linkattrs");U=this.document.$attributes()["$has_key?"]("experimental");aa=""+c;!1!==U&&U!==g&&null!=U&&((d=(e=B["$[]"]("macroish_short_form"),
!1!==e&&e!==g&&null!=e?!1!==(f=aa["$include?"]("kbd:"))&&f!==g&&null!=f?f:aa["$include?"]("btn:"):e))===g||null==d||d.$$is_boolean&&1!=d||(aa=(d=(e=aa).$gsub,d.$$p=(k=function(){var a=k.$$s||this,c,d,e,f=g,h=g,f=f=g;null==m["~"]&&(m["~"]=g);f=m["~"];if((c=(h=f["$[]"](0))["$start_with?"]("\\"))!==g&&null!=c&&(!c.$$is_boolean||1==c))return h["$[]"](r(1,-1,!1));if((c=h["$start_with?"]("kbd"))===g||null==c||c.$$is_boolean&&1!=c){if((c=h["$start_with?"]("btn"))===g||null==c||c.$$is_boolean&&1!=c)return g;
f=a.$unescape_bracketed_text(f["$[]"](1));return l.get("Inline").$new(a,"button",f).$convert()}f=a.$unescape_bracketed_text(f["$[]"](1));f=f["$=="]("+")?["+"]:(c=(d=f.$split(l.get("KbdDelimiterRx"))).$inject,c.$$p=(e=function(a,b){var c;null==a&&(a=g);null==b&&(b=g);if((c=b["$end_with?"]("++"))===g||null==c||c.$$is_boolean&&1!=c)a["$<<"](b.$strip());else a["$<<"](b["$[]"](r(0,-3,!1)).$strip()),a["$<<"]("+");return a},e.$$s=a,e.$$arity=2,e),c).call(d,[]);return l.get("Inline").$new(a,"kbd",g,b(["attributes"],
{attributes:b(["keys"],{keys:f})})).$convert()},k.$$s=this,k.$$arity=0,k),d).call(e,l.get("KbdBtnInlineMacroRx"))),(d=(f=B["$[]"]("macroish"),!1!==f&&f!==g&&null!=f?aa["$include?"]("menu:"):f))===g||null==d||d.$$is_boolean&&1!=d||(aa=(d=(f=aa).$gsub,d.$$p=(p=function(){var a=p.$$s||this,c,d,e,f=g,h=g,k=f=h=g,k=f=g;null==m["~"]&&(m["~"]=g);f=m["~"];if((c=(h=f["$[]"](0))["$start_with?"]("\\"))!==g&&null!=c&&(!c.$$is_boolean||1==c))return h["$[]"](r(1,-1,!1));h=f["$[]"](1);f=f["$[]"](2);(c=f["$!"]())===
g||null==c||c.$$is_boolean&&1!=c?(c=k=(d=f["$include?"]("&gt;"))===g||null==d||d.$$is_boolean&&1!=d?(d=f["$include?"](","))===g||null==d||d.$$is_boolean&&1!=d?g:",":"&gt;")===g||null==c||c.$$is_boolean&&1!=c?(k=[],f=f.$rstrip()):(k=(c=(d=f.$split(k)).$map,c.$$p=(e=function(a){null==a&&(a=g);return a.$strip()},e.$$s=a,e.$$arity=1,e),c).call(d),f=k.$pop()):(k=[],f=g);return l.get("Inline").$new(a,"menu",g,b(["attributes"],{attributes:b(["menu","submenus","menuitem"],{menu:h,submenus:k,menuitem:f})})).$convert()},
p.$$s=this,p.$$arity=0,p),d).call(f,l.get("MenuInlineMacroRx"))),(d=(n=aa["$include?"]('"'),!1!==n&&n!==g&&null!=n?aa["$include?"]("&gt;"):n))===g||null==d||d.$$is_boolean&&1!=d||(aa=(d=(n=aa).$gsub,d.$$p=(q=function(){var c=q.$$s||this,d,e,f,k,p,n=g,t=g;e=t=n=n=g;null==m["~"]&&(m["~"]=g);n=m["~"];if((d=(t=n["$[]"](0))["$start_with?"]("\\"))!==g&&null!=d&&(!d.$$is_boolean||1==d))return t["$[]"](r(1,-1,!1));n=n["$[]"](1);e=(f=(k=n.$split("&gt;")).$map,f.$$p=(p=function(a){null==a&&(a=g);return a.$strip()},
p.$$s=c,p.$$arity=1,p),f).call(k);d=a.to_ary(e);n=null==d[0]?g:d[0];t=h.call(d,1);e;e=t.$pop();return l.get("Inline").$new(c,"menu",g,b(["attributes"],{attributes:b(["menu","submenus","menuitem"],{menu:n,submenus:t,menuitem:e})})).$convert()},q.$$s=this,q.$$arity=0,q),d).call(n,l.get("MenuInlineRx"))));(d=(t=xa=this.document.$extensions(),!1!==t&&t!==g&&null!=t?xa["$inline_macros?"]():t))===g||null==d||d.$$is_boolean&&1!=d||(d=(t=xa.$inline_macros()).$each,d.$$p=(v=function(a){var c=v.$$s||this,d,
e,f;null==a&&(a=g);return aa=(d=(e=aa).$gsub,d.$$p=(f=function(){var c=f.$$s||this,d,e=g,h=g,e=g;null==m["~"]&&(m["~"]=g);e=m["~"];if((d=e["$[]"](0)["$start_with?"]("\\"))!==g&&null!=d&&(!d.$$is_boolean||1==d))return e["$[]"](0)["$[]"](r(1,-1,!1));h=e["$[]"](1);e=a.$config()["$[]"]("format")["$=="]("short")?b([],{}):a.$config()["$[]"]("content_model")["$=="]("attributes")?c.$parse_attributes(e["$[]"](2),!1!==(d=a.$config()["$[]"]("pos_attrs"))&&d!==g&&null!=d?d:[],b(["sub_input","unescape_input"],
{sub_input:!0,unescape_input:!0})):b(["text"],{text:c.$unescape_bracketed_text(e["$[]"](2))});return a.$process_method()["$[]"](c,h,e)},f.$$s=c,f.$$arity=0,f),d).call(e,a.$instance().$regexp())},v.$$s=this,v.$$arity=1,v),d).call(t);(d=(x=B["$[]"]("macroish"),!1!==x&&x!==g&&null!=x?!1!==(z=aa["$include?"]("image:"))&&z!==g&&null!=z?z:aa["$include?"]("icon:"):x))===g||null==d||d.$$is_boolean&&1!=d||(aa=(d=(x=aa).$gsub,d.$$p=(R=function(){var a=R.$$s||this,c,d,e,f=g,h=d=g,k=g,k=f=g;null==a.document&&
(a.document=g);null==m["~"]&&(m["~"]=g);f=m["~"];if((c=f["$[]"](0)["$start_with?"]("\\"))!==g&&null!=c&&(!c.$$is_boolean||1==c))return f["$[]"](0)["$[]"](r(1,-1,!1));d=a.$unescape_bracketed_text(f["$[]"](2));(c=f["$[]"](0)["$start_with?"]("icon:"))===g||null==c||c.$$is_boolean&&1!=c?(h="image",k=["alt","width","height"]):(h="icon",k=["size"]);f=a.$sub_attributes(f["$[]"](1));h["$=="]("icon")||a.document.$register("images",f);k=a.$parse_attributes(d,k);c="alt";d=k;!1!==(e=d["$[]"](c))&&e!==g&&null!=
e?e:d["$[]="](c,l.get("Helpers").$basename(f,!0).$tr("_-"," "));return l.get("Inline").$new(a,"image",g,b(["type","target","attributes"],{type:h,target:f,attributes:k})).$convert()},R.$$s=this,R.$$arity=0,R),d).call(x,l.get("ImageInlineMacroRx")));(d=!1!==(z=B["$[]"]("macroish_short_form"))&&z!==g&&null!=z?z:B["$[]"]("round_bracket"))===g||null==d||d.$$is_boolean&&1!=d||(aa=(d=(z=aa).$gsub,d.$$p=(K=function(){var c=K.$$s||this,d,e,f=g,h=g,k=g,p=g,f=f=g;null==c.document&&(c.document=g);null==m["~"]&&
(m["~"]=g);f=m["~"];if((d=f["$[]"](0)["$start_with?"]("\\"))!==g&&null!=d&&(!d.$$is_boolean||1==d))return f["$[]"](0)["$[]"](r(1,-1,!1));if((d=a.get("RUBY_ENGINE_OPAL"))!==g&&null!=d&&(!d.$$is_boolean||1==d)&&f["$[]"](1)["$=="](""))f["$[]="](1,g);h=0;k=g;if((d=p=f["$[]"](1))===g||null==d||d.$$is_boolean&&1!=d)k=f["$[]"](3),(d=(e=k["$start_with?"]("("),!1!==e&&e!==g&&null!=e?k["$end_with?"](")"):e))===g||null==d||d.$$is_boolean&&1!=d?h=2:(k=k["$[]"](r(1,-1,!0)),h=3);if((d=!1!==(e=p["$=="]("indexterm"))&&
e!==g&&null!=e?e:h["$=="](3))===g||null==d||d.$$is_boolean&&1!=d)return f=(d=p["$!"]())===g||null==d||d.$$is_boolean&&1!=d?c.$normalize_string(f["$[]"](2),!0):c.$normalize_string(k),c.document.$register("indexterms",[f]),l.get("Inline").$new(c,"indexterm",f,b(["type"],{type:"visible"})).$convert();f=(d=p["$!"]())===g||null==d||d.$$is_boolean&&1!=d?c.$split_simple_csv(c.$normalize_string(f["$[]"](2),!0)):c.$split_simple_csv(c.$normalize_string(k));c.document.$register("indexterms",[].concat(a.to_a(f)));
return l.get("Inline").$new(c,"indexterm",g,b(["attributes"],{attributes:b(["terms"],{terms:f})})).$convert()},K.$$s=this,K.$$arity=0,K),d).call(z,l.get("IndextermInlineMacroRx")));(d=(c=!1!==ba&&ba!==g&&null!=ba)?aa["$include?"]("://"):ba)===g||null==d||d.$$is_boolean&&1!=d||(aa=(d=(c=aa).$gsub,d.$$p=(y=function(){var c=y.$$s||this,d,e,f,h,k=g,p=g,n=g,q=g,t=g,L=t=g,k=g;null==c.document&&(c.document=g);null==m["~"]&&(m["~"]=g);k=m["~"];if((d=k["$[]"](2)["$start_with?"]("\\"))!==g&&null!=d&&(!d.$$is_boolean||
1==d))return""+k["$[]"](1)+k["$[]"](2)["$[]"](r(1,-1,!1))+k["$[]"](3);if((d=a.get("RUBY_ENGINE_OPAL"))!==g&&null!=d&&(!d.$$is_boolean||1==d)&&k["$[]"](3)["$=="](""))k["$[]="](3,g);if((d=(e=k["$[]"](1)["$=="]("link:"))?k["$[]"](3)["$!"]():k["$[]"](1)["$=="]("link:"))!==g&&null!=d&&(!d.$$is_boolean||1==d))return k["$[]"](0);p=(d=k["$[]"](1)["$!="]("link:"))===g||null==d||d.$$is_boolean&&1!=d?"":k["$[]"](1);n=k["$[]"](2);q="";if((d=!1!==(e=k["$[]"](3))&&e!==g&&null!=e?e:n["$!~"](l.get("UriTerminator")))===
g||null==d||d.$$is_boolean&&1!=d)t=m["~"]["$[]"](0),")"["$==="](t)?(n=n["$[]"](r(0,-2,!1)),q=")"):";"["$==="](t)?(d=(e=p["$start_with?"]("&lt;"),!1!==e&&e!==g&&null!=e?n["$end_with?"]("&gt;"):e))===g||null==d||d.$$is_boolean&&1!=d?(d=n["$end_with?"](");"))===g||null==d||d.$$is_boolean&&1!=d?(n=n["$[]"](r(0,-2,!1)),q=";"):(n=n["$[]"](r(0,-3,!1)),q=");"):(p=p["$[]"](r(4,-1,!1)),n=n["$[]"](r(0,-5,!1))):":"["$==="](t)&&((d=n["$end_with?"]("):"))===g||null==d||d.$$is_boolean&&1!=d?(n=n["$[]"](r(0,-2,!1)),
q=":"):(n=n["$[]"](r(0,-3,!1)),q="):"));c.document.$register("links",n);t=b(["type","target"],{type:"link",target:n});L=g;if((d=k["$[]"](3)["$nil_or_empty?"]())===g||null==d||d.$$is_boolean&&1!=d){if((d=!1!==Z&&Z!==g&&null!=Z?!1!==(f=k["$[]"](3)["$start_with?"]('"'))&&f!==g&&null!=f?f:(h=k["$[]"](3)["$include?"](","),!1!==h&&h!==g&&null!=h?k["$[]"](3)["$include?"]("="):h):Z)===g||null==d||d.$$is_boolean&&1!=d)k=c.$sub_attributes(k["$[]"](3).$gsub("\\]","]"));else{L=c.$parse_attributes(c.$sub_attributes(k["$[]"](3).$gsub("\\]",
"]")),[]);if((d=L["$has_key?"]("id"))!==g&&null!=d&&(!d.$$is_boolean||1==d))t["$[]="]("id",L.$delete("id"));k=!1!==(d=L["$[]"](1))&&d!==g&&null!=d?d:""}(d=k["$end_with?"]("^"))===g||null==d||d.$$is_boolean&&1!=d||(k=k.$chop(),!1!==L&&L!==g&&null!=L?(d="window",e=L,!1!==(f=e["$[]"](d))&&f!==g&&null!=f?f:e["$[]="](d,"_blank")):L=b(["window"],{window:"_blank"}))}else k="";if((d=k["$empty?"]())!==g&&null!=d&&(!d.$$is_boolean||1==d))if(k=(d=c.document["$attr?"]("hide-uri-scheme"))===g||null==d||d.$$is_boolean&&
1!=d?n:n.$sub(l.get("UriSniffRx"),""),!1!==L&&L!==g&&null!=L)L["$[]="]("role",("bare "+L["$[]"]("role")).$chomp(" "));else L=b(["role"],{role:"bare"});if(!1!==L&&L!==g&&null!=L)t["$[]="]("attributes",L);return""+p+l.get("Inline").$new(c,"anchor",k,t).$convert()+q},y.$$s=this,y.$$arity=0,y),d).call(c,l.get("LinkInlineRx")));(d=!1!==(Q=(C=B["$[]"]("macroish"),!1!==C&&C!==g&&null!=C?aa["$include?"]("link:"):C))&&Q!==g&&null!=Q?Q:aa["$include?"]("mailto:"))===g||null==d||d.$$is_boolean&&1!=d||(aa=(d=
(Q=aa).$gsub,d.$$p=(u=function(){var a=u.$$s||this,c,d,e,f=g,h=g,k=g,p=d=g,n=g,f=g;null==a.document&&(a.document=g);null==m["~"]&&(m["~"]=g);f=m["~"];if((c=f["$[]"](0)["$start_with?"]("\\"))!==g&&null!=c&&(!c.$$is_boolean||1==c))return f["$[]"](0)["$[]"](r(1,-1,!1));h=f["$[]"](1);k=f["$[]"](0)["$start_with?"]("mailto:");d=!1!==k&&k!==g&&null!=k?"mailto:"+h:h;p=b(["type","target"],{type:"link",target:d});n=g;if((c=!1!==Z&&Z!==g&&null!=Z?!1!==(e=f["$[]"](2)["$start_with?"]('"'))&&e!==g&&null!=e?e:f["$[]"](2)["$include?"](","):
Z)===g||null==c||c.$$is_boolean&&1!=c)f=a.$sub_attributes(f["$[]"](2).$gsub("\\]","]"));else{n=a.$parse_attributes(a.$sub_attributes(f["$[]"](2).$gsub("\\]","]")),[]);if((c=n["$key?"]("id"))!==g&&null!=c&&(!c.$$is_boolean||1==c))p["$[]="]("id",n.$delete("id"));!1===k||k===g||null==k||(c=n["$key?"](2))===g||null==c||c.$$is_boolean&&1!=c||(d=p["$[]="]("target",""+d+"?subject="+l.get("Helpers").$encode_uri(n["$[]"](2))),(c=n["$key?"](3))===g||null==c||c.$$is_boolean&&1!=c||(d=p["$[]="]("target",""+d+
"&amp;body="+l.get("Helpers").$encode_uri(n["$[]"](3)))));f=n["$[]"](1)}a.document.$register("links",d);(c=f["$end_with?"]("^"))===g||null==c||c.$$is_boolean&&1!=c||(f=f.$chop(),!1!==n&&n!==g&&null!=n?(c="window",d=n,!1!==(e=d["$[]"](c))&&e!==g&&null!=e?e:d["$[]="](c,"_blank")):n=b(["window"],{window:"_blank"}));if((c=f["$empty?"]())!==g&&null!=c&&(!c.$$is_boolean||1==c))if(!1!==k&&k!==g&&null!=k)f=h;else if(f=(c=a.document["$attr?"]("hide-uri-scheme"))===g||null==c||c.$$is_boolean&&1!=c?h:h.$sub(l.get("UriSniffRx"),
""),!1!==n&&n!==g&&null!=n)n["$[]="]("role",("bare "+n["$[]"]("role")).$chomp(" "));else n=b(["role"],{role:"bare"});if(!1!==n&&n!==g&&null!=n)p["$[]="]("attributes",n);return l.get("Inline").$new(a,"anchor",f,p).$convert()},u.$$s=this,u.$$arity=0,u),d).call(Q,l.get("LinkInlineMacroRx")));(d=aa["$include?"]("@"))===g||null==d||d.$$is_boolean&&1!=d||(aa=(d=(C=aa).$gsub,d.$$p=(da=function(){var a=da.$$s||this,c,d=g,e=g,d=d=g;null==a.document&&(a.document=g);null==m["~"]&&(m["~"]=g);d=m["~"];e=d["$[]"](0);
if((c=d=d["$[]"](1))!==g&&null!=c&&(!c.$$is_boolean||1==c))return"\\"["$==="](d)?e["$[]"](r(1,-1,!1)):e;d="mailto:"+e;a.document.$register("links",d);return l.get("Inline").$new(a,"anchor",e,b(["type","target"],{type:"link",target:d})).$convert()},da.$$s=this,da.$$arity=0,da),d).call(C,l.get("EmailInlineMacroRx")));(d=(qa=B["$[]"]("macroish_short_form"),!1!==qa&&qa!==g&&null!=qa?aa["$include?"]("footnote"):qa))===g||null==d||d.$$is_boolean&&1!=d||(aa=(d=(qa=aa).$gsub,d.$$p=(sa=function(){var c=sa.$$s||
this,d,e,f,h,k=g,p=g,n=e=k=g,q=g,k=g;null==c.document&&(c.document=g);null==m["~"]&&(m["~"]=g);k=m["~"];if((d=k["$[]"](0)["$start_with?"]("\\"))!==g&&null!=d&&(!d.$$is_boolean||1==d))return k["$[]"](0)["$[]"](r(1,-1,!1));k["$[]"](1)["$=="]("footnote")?(p=g,k=c.$restore_passthroughs(c.$sub_inline_xrefs(c.$sub_inline_anchors(c.$normalize_string(k["$[]"](2),!0))),!1),e=c.document.$counter("footnote-number"),c.document.$register("footnotes",l.get("Document").$$scope.get("Footnote").$new(e,p,k)),q=n=g):
(e=k["$[]"](2).$split(",",2),d=a.to_ary(e),p=null==d[0]?g:d[0],k=null==d[1]?g:d[1],e,p=p.$strip(),(d=k["$nil_or_empty?"]())===g||null==d||d.$$is_boolean&&1!=d?(k=c.$restore_passthroughs(c.$sub_inline_xrefs(c.$sub_inline_anchors(c.$normalize_string(k,!0))),!1),e=c.document.$counter("footnote-number"),c.document.$register("footnotes",l.get("Document").$$scope.get("Footnote").$new(e,p,k)),n="ref",q=g):((d=k=(e=(f=c.document.$references()["$[]"]("footnotes")).$find,e.$$p=(h=function(a){null==a&&(a=g);
return a.$id()["$=="](p)},h.$$s=c,h.$$arity=1,h),e).call(f))===g||null==d||d.$$is_boolean&&1!=d?(e=g,k=p):(e=k.$index(),k=k.$text()),q=p,p=g,n="xref"));return l.get("Inline").$new(c,"footnote",k,b(["attributes","id","target","type"],{attributes:b(["index"],{index:e}),id:p,target:q,type:n})).$convert()},sa.$$s=this,sa.$$arity=0,sa),d).call(qa,l.get("FootnoteInlineMacroRx")));return this.$sub_inline_xrefs(this.$sub_inline_anchors(aa,B),B)},K.$$arity=1);a.defn(k,"$sub_inline_anchors",z=function(c,d){var e,
f,h,k,p,n,q;null==d&&(d=g);(e=(f=!1!==(h=d["$!"]())&&h!==g&&null!=h?h:d["$[]"]("square_bracket"),!1!==f&&f!==g&&null!=f?c["$include?"]("[[["):f))===g||null==e||e.$$is_boolean&&1!=e||(c=(e=(f=c).$gsub,e.$$p=(k=function(){var a=k.$$s||this,c,d=g,e=d=g;null==m["~"]&&(m["~"]=g);d=m["~"];if((c=d["$[]"](0)["$start_with?"]("\\"))!==g&&null!=c&&(!c.$$is_boolean||1==c))return d["$[]"](0)["$[]"](r(1,-1,!1));d=e=d["$[]"](1);return l.get("Inline").$new(a,"anchor",e,b(["type","target"],{type:"bibref",target:d})).$convert()},
k.$$s=this,k.$$arity=0,k),e).call(f,l.get("InlineBiblioAnchorRx")));(e=!1!==(h=(p=!1!==(n=d["$!"]())&&n!==g&&null!=n?n:d["$[]"]("square_bracket"),!1!==p&&p!==g&&null!=p?c["$include?"]("[["):p))&&h!==g&&null!=h?h:(p=!1!==(n=d["$!"]())&&n!==g&&null!=n?n:d["$[]"]("macroish"),!1!==p&&p!==g&&null!=p?c["$include?"]("anchor:"):p))===g||null==e||e.$$is_boolean&&1!=e||(c=(e=(h=c).$gsub,e.$$p=(q=function(){var c=q.$$s||this,d,e,f=g,h=g,f=g;null==m["~"]&&(m["~"]=g);f=m["~"];if((d=f["$[]"](0)["$start_with?"]("\\"))!==
g&&null!=d&&(!d.$$is_boolean||1==d))return f["$[]"](0)["$[]"](r(1,-1,!1));if((d=a.get("RUBY_ENGINE_OPAL"))!==g&&null!=d&&(!d.$$is_boolean||1==d)){if(f["$[]"](1)["$=="](""))f["$[]="](1,g);if(f["$[]"](2)["$=="](""))f["$[]="](2,g);if(f["$[]"](4)["$=="](""))f["$[]="](4,g)}h=!1!==(d=f["$[]"](1))&&d!==g&&null!=d?d:f["$[]"](3);f=!1!==(d=!1!==(e=f["$[]"](2))&&e!==g&&null!=e?e:f["$[]"](4))&&d!==g&&null!=d?d:"["+h+"]";return l.get("Inline").$new(c,"anchor",f,b(["type","target"],{type:"ref",target:h})).$convert()},
q.$$s=this,q.$$arity=0,q),e).call(h,l.get("InlineAnchorRx")));return c},z.$$arity=-2);a.defn(k,"$sub_inline_xrefs",q=function(c,d){var e,f,h,k;null==d&&(d=g);(e=!1!==(f=!1!==(h=d["$!"]())&&h!==g&&null!=h?h:d["$[]"]("macroish"))&&f!==g&&null!=f?f:c["$include?"]("&lt;&lt;"))===g||null==e||e.$$is_boolean&&1!=e||(c=(e=(f=c).$gsub,e.$$p=(k=function(){var c=k.$$s||this,d,e,f,h,p,n,q=g,t=g,L=g,v=t=q=g,u=g,v=g;null==c.document&&(c.document=g);null==m["~"]&&(m["~"]=g);q=m["~"];if((d=q["$[]"](0)["$start_with?"]("\\"))!==
g&&null!=d&&(!d.$$is_boolean||1==d))return q["$[]"](0)["$[]"](r(1,-1,!1));if((d=a.get("RUBY_ENGINE_OPAL"))!==g&&null!=d&&(!d.$$is_boolean||1==d)&&q["$[]"](1)["$=="](""))q["$[]="](1,g);if((d=q["$[]"](1))===g||null==d||d.$$is_boolean&&1!=d){if(t=q["$[]"](2),(d=q["$[]"](3)["$nil_or_empty?"]())===g||null==d||d.$$is_boolean&&1!=d)L=q["$[]"](3)}else e=(f=(h=q["$[]"](1).$split(",",2)).$map,f.$$p=(p=function(a){null==a&&(a=g);return a.$strip()},p.$$s=c,p.$$arity=1,p),f).call(h),d=a.to_ary(e),t=null==d[0]?
g:d[0],L=null==d[1]?g:d[1],e,t=t.$sub(l.get("DoubleQuotedRx"),"\\2"),L=(d=L["$nil_or_empty?"]())===g||null==d||d.$$is_boolean&&1!=d?L.$sub(l.get("DoubleQuotedMultiRx"),"\\2"):g;(d=t["$include?"]("#"))===g||null==d||d.$$is_boolean&&1!=d?q=g:(e=t.$split("#"),d=a.to_ary(e),q=null==d[0]?g:d[0],t=null==d[1]?g:d[1],e);!1!==q&&q!==g&&null!=q?(q=l.get("Helpers").$rootname(q),(d=!1!==(e=c.document.$attributes()["$[]"]("docname")["$=="](q))&&e!==g&&null!=e?e:c.document.$references()["$[]"]("includes")["$include?"](q))===
g||null==d||d.$$is_boolean&&1!=d?(v=!1!==t&&t!==g&&null!=t?""+q+"#"+t:q,q=""+c.document.$attributes()["$[]"]("relfileprefix")+q+c.document.$attributes().$fetch("outfilesuffix",".html"),u=!1!==t&&t!==g&&null!=t?""+q+"#"+t:q):(v=t,q=g,u="#"+t)):((d=(e=(f=c.document.$references()["$[]"]("ids")["$has_key?"](t)["$!"](),!1!==f&&f!==g&&null!=f?!1!==(n=t["$include?"](" "))&&n!==g&&null!=n?n:t.$downcase()["$!="](t):f),!1!==e&&e!==g&&null!=e?v=(f=l.get("RUBY_MIN_VERSION_1_9"))===g||null==f||f.$$is_boolean&&
1!=f?c.document.$references()["$[]"]("ids").$index(t):c.document.$references()["$[]"]("ids").$key(t):e))===g||null==d||d.$$is_boolean&&1!=d||(t=v),v=t,u="#"+t);return l.get("Inline").$new(c,"anchor",L,b(["type","target","attributes"],{type:"xref",target:u,attributes:b(["path","fragment","refid"],{path:q,fragment:t,refid:v})})).$convert()},k.$$s=this,k.$$arity=0,k),e).call(f,l.get("XrefInlineMacroRx")));return c},q.$$arity=-2);a.defn(k,"$sub_callouts",A=function(c){var d,e,f=g,f=(d=this["$attr?"]("line-comment"))===
g||null==d||d.$$is_boolean&&1!=d?l.get("CalloutSourceRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+l.get("CalloutSourceRxt"));return(d=c.$gsub,d.$$p=(e=function(){var a=e.$$s||this,c=g;null==a.document&&(a.document=g);null==m["~"]&&(m["~"]=g);c=m["~"];return c["$[]"](1)["$=="]("\\")?c["$[]"](0).$sub("\\",""):l.get("Inline").$new(a,"callout",c["$[]"](3),b(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},e.$$s=this,e.$$arity=0,e),d).call(c,f)},A.$$arity=
1);a.defn(k,"$sub_post_replacements",U=function(a){var c,d,e,f,h=g,k=g;null==this.document&&(this.document=g);null==this.attributes&&(this.attributes=g);if((c=!1!==(d=this.document.$attributes()["$has_key?"]("hardbreaks"))&&d!==g&&null!=d?d:this.attributes["$has_key?"]("hardbreaks-option"))===g||null==c||c.$$is_boolean&&1!=c)return(c=a["$include?"]("+"))===g||null==c||c.$$is_boolean&&1!=c?a:(c=a.$gsub,c.$$p=(f=function(){var a=f.$$s||this;null==m["~"]&&(m["~"]=g);return l.get("Inline").$new(a,"break",
m["~"]["$[]"](1),b(["type"],{type:"line"})).$convert()},f.$$s=this,f.$$arity=0,f),c).call(a,l.get("LineBreakRx"));h=a.$split(l.get("EOL"));if(h.$size()["$=="](1))return a;k=h.$pop();return p((c=(d=h).$map,c.$$p=(e=function(a){var c=e.$$s||this;null==a&&(a=g);return l.get("Inline").$new(c,"break",a.$rstrip().$chomp(l.get("LINE_BREAK")),b(["type"],{type:"line"})).$convert()},e.$$s=this,e.$$arity=1,e),c).call(d).$push(k),l.get("EOL"))},U.$$arity=1);a.defn(k,"$convert_quoted_text",S=function(a,c,d){var e,
f=g,h=g,k=f=g,f=g;if((e=a["$[]"](0)["$start_with?"]("\\"))!==g&&null!=e&&(!e.$$is_boolean||1==e)){if((e=d["$=="]("constrained")?(h=a["$[]"](2))["$nil_or_empty?"]()["$!"]():d["$=="]("constrained"))===g||null==e||e.$$is_boolean&&1!=e)return a["$[]"](0)["$[]"](r(1,-1,!1));f="["+h+"]"}if(d["$=="]("constrained")){if(!1!==f&&f!==g&&null!=f)return""+f+l.get("Inline").$new(this,"quoted",a["$[]"](3),b(["type"],{type:c})).$convert();(e=f=this.$parse_quoted_text_attributes(a["$[]"](2)))===g||null==e||e.$$is_boolean&&
1!=e?k=g:(k=f.$delete("id"),c["$=="]("mark")&&(c="unquoted"));return""+a["$[]"](1)+l.get("Inline").$new(this,"quoted",a["$[]"](3),b(["type","id","attributes"],{type:c,id:k,attributes:f})).$convert()}(e=f=this.$parse_quoted_text_attributes(a["$[]"](1)))===g||null==e||e.$$is_boolean&&1!=e?k=g:(k=f.$delete("id"),c["$=="]("mark")&&(c="unquoted"));return l.get("Inline").$new(this,"quoted",a["$[]"](2),b(["type","id","attributes"],{type:c,id:k,attributes:f})).$convert()},S.$$arity=3);a.defn(k,"$parse_quoted_text_attributes",
Y=function(c){var d,e,f,k=g,m=g,q=g,q=k=g;if(!1===c||c===g||null==c)return g;if((d=c["$empty?"]())!==g&&null!=d&&(!d.$$is_boolean||1==d))return b([],{});(d=c["$include?"]("{"))===g||null==d||d.$$is_boolean&&1!=d||(c=this.$sub_attributes(c));c=c.$strip();(d=c["$include?"](","))===g||null==d||d.$$is_boolean&&1!=d||(e=c.$split(",",2),d=a.to_ary(e),c=null==d[0]?g:d[0],e);if((d=c["$empty?"]())===g||null==d||d.$$is_boolean&&1!=d){if((d=(e=!1!==(f=c["$start_with?"]("."))&&f!==g&&null!=f?f:c["$start_with?"]("#"),
!1!==e&&e!==g&&null!=e?l.get("Compliance").$shorthand_property_syntax():e))===g||null==d||d.$$is_boolean&&1!=d)return b(["role"],{role:c});k=c.$split("#",2);(d=n(k.$length(),1))===g||null==d||d.$$is_boolean&&1!=d?(m=g,q=[]):(e=k["$[]"](1).$split("."),d=a.to_ary(e),m=null==d[0]?g:d[0],q=h.call(d,1),e);k=(d=k["$[]"](0)["$empty?"]())===g||null==d||d.$$is_boolean&&1!=d?k["$[]"](0).$split("."):[];(d=n(k.$length(),1))===g||null==d||d.$$is_boolean&&1!=d||k.$shift();(d=n(q.$length(),0))===g||null==d||d.$$is_boolean&&
1!=d||k.$concat(q);q=b([],{});if(!1!==m&&m!==g&&null!=m)q["$[]="]("id",m);if((d=k["$empty?"]())===g||null==d||d.$$is_boolean&&1!=d)q["$[]="]("role",p(k," "));return q}return b([],{})},Y.$$arity=1);a.defn(k,"$parse_attributes",ea=function(a,c,d){var e,f=g,h=g;null==this.document&&(this.document=g);null==c&&(c=["role"]);null==d&&(d=b([],{}));if(!1===a||a===g||null==a)return g;if((e=a["$empty?"]())!==g&&null!=e&&(!e.$$is_boolean||1==e))return b([],{});(e=d["$[]"]("sub_input"))===g||null==e||e.$$is_boolean&&
1!=e||(a=this.document.$sub_attributes(a));(e=d["$[]"]("unescape_input"))===g||null==e||e.$$is_boolean&&1!=e||(a=this.$unescape_bracketed_text(a));f=g;(e=d.$fetch("sub_result",!0))===g||null==e||e.$$is_boolean&&1!=e||(f=this);return(e=h=d["$[]"]("into"))===g||null==e||e.$$is_boolean&&1!=e?l.get("AttributeList").$new(a,f).$parse(c):l.get("AttributeList").$new(a,f).$parse_into(h,c)},ea.$$arity=-2);a.defn(k,"$unescape_bracketed_text",ca=function(a){var b;return(b=a["$empty?"]())===g||null==b||b.$$is_boolean&&
1!=b?a.$strip().$tr(l.get("EOL")," ").$gsub("\\]","]"):""},ca.$$arity=1);a.defn(k,"$normalize_string",B=function(a,b){var c;null==b&&(b=!1);return(c=a["$empty?"]())===g||null==c||c.$$is_boolean&&1!=c?!1!==b&&b!==g&&null!=b?this.$unescape_brackets(a.$strip().$tr(l.get("EOL")," ")):a.$strip().$tr(l.get("EOL")," "):""},B.$$arity=-2);a.defn(k,"$unescape_brackets",Q=function(a){var b;return(b=a["$empty?"]())===g||null==b||b.$$is_boolean&&1!=b?a.$gsub("\\]","]"):""},Q.$$arity=1);a.defn(k,"$split_simple_csv",
Z=function(a){var b,c,d,e,f=g,h=g,l=g;(b=a["$empty?"]())===g||null==b||b.$$is_boolean&&1!=b?(b=a["$include?"]('"'))===g||null==b||b.$$is_boolean&&1!=b?f=(b=(d=a.$split(",")).$map,b.$$p=(e=function(a){null==a&&(a=g);return a.$strip()},e.$$s=this,e.$$arity=1,e),b).call(d):(f=[],h=[],l=!1,(b=a.$each_char,b.$$p=(c=function(a){var b=g;null==a&&(a=g);return function(){b=a;if(","["$==="](b)){if(!1!==l&&l!==g&&null!=l)return h.$push(a);f["$<<"](h.$join().$strip());return h=[]}return'"'["$==="](b)?l=l["$!"]():
h.$push(a)}()},c.$$s=this,c.$$arity=1,c),b).call(a),f["$<<"](h.$join().$strip())):f=[];return f},Z.$$arity=1);a.defn(k,"$resolve_subs",R=function(a,b,d,h){var k,m,q,t=g,v=g,x=g,z=g;null==b&&(b="block");null==d&&(d=g);null==h&&(h=g);if((k=a["$nil_or_empty?"]())!==g&&null!=k&&(!k.$$is_boolean||1==k))return[];t=g;v=l.get("SubModifierSniffRx")["$=~"](a);(k=(m=a.$tr(" ","").$split(",")).$each,k.$$p=(q=function(a){var h,k,m,p=g,n=k=k=k=g,p=g;null==a&&(a=g);p=g;!1!==v&&v!==g&&null!=v&&((k=a.$chr())["$=="]("+")?
(p="append",a=a["$[]"](r(1,-1,!1))):k["$=="]("-")?(p="remove",a=a["$[]"](r(1,-1,!1))):(h=a["$end_with?"]("+"))===g||null==h||h.$$is_boolean&&1!=h||(p="prepend",a=a.$chop()));a=a.$to_sym();(h=(k=b["$=="]("inline"))?!1!==(m=a["$=="]("verbatim"))&&m!==g&&null!=m?m:a["$=="]("v"):b["$=="]("inline"))===g||null==h||h.$$is_boolean&&1!=h?(h=l.get("COMPOSITE_SUBS")["$key?"](a))===g||null==h||h.$$is_boolean&&1!=h?(h=(k=b["$=="]("inline")?a.$length()["$=="](1):b["$=="]("inline"),!1!==k&&k!==g&&null!=k?l.get("SUB_SYMBOLS")["$key?"](a):
k))===g||null==h||h.$$is_boolean&&1!=h?k=[a]:(k=l.get("SUB_SYMBOLS")["$[]"](a),k=(h=n=l.get("COMPOSITE_SUBS")["$[]"](k))===g||null==h||h.$$is_boolean&&1!=h?[k]:n):k=l.get("COMPOSITE_SUBS")["$[]"](a):k=["specialcharacters"];if(!1!==p&&p!==g&&null!=p)return!1!==(h=t)&&h!==g&&null!=h?h:t=!1!==d&&d!==g&&null!=d?d.$dup():[],"append"["$==="](p)?t=c(t,k):"prepend"["$==="](p)?t=c(k,t):"remove"["$==="](p)?t=e(t,k):g;!1!==(h=t)&&h!==g&&null!=h?h:t=[];return t=c(t,k)},q.$$s=this,q.$$arity=1,q),k).call(m);x=
t["$&"](l.get("SUB_OPTIONS")["$[]"](b));if((k=e(t,x)["$empty?"]())===g||null==k||k.$$is_boolean&&1!=k)z=e(t,x),this.$warn("asciidoctor: WARNING: invalid substitution type"+((k=n(z.$size(),1))===g||null==k||k.$$is_boolean&&1!=k?"":"s")+(!1!==h&&h!==g&&null!=h?" for ":g)+h+": "+p(z,", "));return x},R.$$arity=-2);a.defn(k,"$resolve_block_subs",ba=function(a,b,c){return this.$resolve_subs(a,"block",b,c)},ba.$$arity=3);a.defn(k,"$resolve_pass_subs",ga=function(a){return this.$resolve_subs(a,"inline",g,
"passthrough macro")},ga.$$arity=1);a.defn(k,"$highlight_source",ia=function(d,e,h){var k,n,q,t,v,x=g,z=g,R=g,K=g,y=g,B=g,Q=g,C=z=g,ba=g,u=x=g,da=g;null==this.document&&(this.document=g);null==this.passthroughs&&(this.passthroughs=g);null==h&&(h=g);x=!1!==(k=h)&&k!==g&&null!=k?k:h=this.document.$attributes()["$[]"]("source-highlighter");if("coderay"["$==="](x)){if((k=!1!==(n=z=null==a.Object.$$scope.CodeRay?g:"constant")&&n!==g&&null!=n?n:this.document.$attributes()["$[]"]("coderay-unavailable"))===
g||null==k||k.$$is_boolean&&1!=k)(k=l.get("Helpers").$require_library("coderay",!0,"warn")["$nil?"]())===g||null==k||k.$$is_boolean&&1!=k?z=!0:this.document.$set_attr("coderay-unavailable","")}else if("pygments"["$==="](x)){if((k=!1!==(n=z=null==a.Object.$$scope.Pygments?g:"constant")&&n!==g&&null!=n?n:this.document.$attributes()["$[]"]("pygments-unavailable"))===g||null==k||k.$$is_boolean&&1!=k)(k=l.get("Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())===g||null==k||k.$$is_boolean&&
1!=k?z=!0:this.document.$set_attr("pygments-unavailable","")}else z=!1;if(!1===z||z===g||null==z)return this.$sub_source(d,e);R=0;K=!1;!1!==e&&e!==g&&null!=e?(y=b([],{}),B=-1,Q=(k=this["$attr?"]("line-comment"))===g||null==k||k.$$is_boolean&&1!=k?l.get("CalloutExtractRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+l.get("CalloutExtractRxt")),d=p((k=(n=d.$split(l.get("EOL"))).$map,k.$$p=(q=function(a){var b=q.$$s||this,d,e,h;null==a&&(a=g);R=c(R,1);return(d=(e=a).$gsub,
d.$$p=(h=function(){var a,b,c,d=g;null==m["~"]&&(m["~"]=g);d=m["~"];if(d["$[]"](1)["$=="]("\\"))return d["$[]"](0).$sub("\\","");(a=R,b=y,!1!==(c=b["$[]"](a))&&c!==g&&null!=c?c:b["$[]="](a,[]))["$<<"](d["$[]"](3));B=R;return g},h.$$s=b,h.$$arity=0,h),d).call(e,Q)},q.$$s=this,q.$$arity=1,q),k).call(n),l.get("EOL")),K=B["$=="](R),(k=y["$empty?"]())===g||null==k||k.$$is_boolean&&1!=k||(y=g)):y=g;C=z=g;x=h;if("coderay"["$==="](x))(k=z=(t=this["$attr?"]("linenums"))===g||null==t||t.$$is_boolean&&1!=t?
g:(!1!==(t=this.document.$attributes()["$[]"]("coderay-linenums-mode"))&&t!==g&&null!=t?t:"table").$to_sym())===g||null==k||k.$$is_boolean&&1!=k||(k=this["$attr?"]("highlight",g,!1))===g||null==k||k.$$is_boolean&&1!=k||(C=this.$resolve_highlight_lines(this.$attr("highlight",g,!1))),ba=a.get("CodeRay").$$scope.get("Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",b(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(!1!==(k=this.document.$attributes()["$[]"]("coderay-css"))&&
k!==g&&null!=k?k:"class").$to_sym(),line_numbers:z,line_number_anchors:!1,highlight_lines:C,bold_every:!1})).$highlight(d);else if("pygments"["$==="](x)){x=!1!==(k=a.get("Pygments").$$scope.get("Lexer")["$[]"](this.$attr("language",g,!1)))&&k!==g&&null!=k?k:a.get("Pygments").$$scope.get("Lexer")["$[]"]("text");u=b(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0});(!1!==(k=this.document.$attributes()["$[]"]("pygments-css"))&&k!==g&&null!=k?k:"class")["$=="]("class")||
(u["$[]="]("noclasses",!0),u["$[]="]("style",!1!==(k=this.document.$attributes()["$[]"]("pygments-style"))&&k!==g&&null!=k?k:l.get("Stylesheets").$$scope.get("DEFAULT_PYGMENTS_STYLE")));if((k=this["$attr?"]("highlight",g,!1))!==g&&null!=k&&(!k.$$is_boolean||1==k)&&((k=(C=this.$resolve_highlight_lines(this.$attr("highlight",g,!1)))["$empty?"]())===g||null==k||k.$$is_boolean&&1!=k))u["$[]="]("hl_lines",p(C," "));(k=this["$attr?"]("linenums"))===g||null==k||k.$$is_boolean&&1!=k?(u["$[]="]("nowrap",!0),
ba=x.$highlight(d,b(["options"],{options:u}))):u["$[]="]("linenos",!1!==(k=this.document.$attributes()["$[]"]("pygments-linenums-mode"))&&k!==g&&null!=k?k:"table")["$=="]("table")?(z="table",ba=x.$highlight(d,b(["options"],{options:u})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):ba=x.$highlight(d,b(["options"],{options:u})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1")}if((k=this.passthroughs["$empty?"]())===g||null==k||k.$$is_boolean&&
1!=k)ba=ba.$gsub(l.get("PASS_MATCH_HI"),""+l.get("PASS_START")+"\\1"+l.get("PASS_END"));if((k=(t=!1!==e&&e!==g&&null!=e)?y:e)===g||null==k||k.$$is_boolean&&1!=k)return ba;R=0;da=z["$!="]("table");return p((k=(t=ba.$split(l.get("EOL"))).$map,k.$$p=(v=function(a){var d=v.$$s||this,e,h,k,m=g,n=g,q=g,m=g;null==d.document&&(d.document=g);null==a&&(a=g);if(!1===da||da===g||null==da){if((e=a["$include?"]('<td class="code">'))===g||null==e||e.$$is_boolean&&1!=e)return a;da=!0}R=c(R,1);if((e=m=y.$delete(R))===
g||null==e||e.$$is_boolean&&1!=e)return a;n=g;(e=(h=!1!==K&&K!==g&&null!=K)?y["$empty?"]():K)===g||null==e||e.$$is_boolean&&1!=e||((e=q=a.$index("</pre>"))===g||null==e||e.$$is_boolean&&1!=e?a=""+a.$chomp(" ")+" ":(n=a["$[]"](r(q,-1,!1)),a=""+a["$[]"](r(0,q,!0)).$chomp(" ")+" "));if(m.$size()["$=="](1))return""+a+l.get("Inline").$new(d,"callout",m["$[]"](0),b(["id"],{id:d.document.$callouts().$read_next_id()})).$convert()+n;m=p((e=(h=m).$map,e.$$p=(k=function(a){var c=k.$$s||this;null==c.document&&
(c.document=g);null==a&&(a=g);return l.get("Inline").$new(c,"callout",a,b(["id"],{id:c.document.$callouts().$read_next_id()})).$convert()},k.$$s=d,k.$$arity=1,k),e).call(h)," ");return""+a+m+n},v.$$s=this,v.$$arity=1,v),k).call(t),l.get("EOL"))},ia.$$arity=-3);a.defn(k,"$resolve_highlight_lines",ma=function(b){var c,d,f,h=g,h=[];(c=(d=b.$delete(" ").$split(l.get("DataDelimiterRx"))).$map,c.$$p=(f=function(b){var c,d=g,f=g,l=g,f=g;null==b&&(b=g);d=!1;(c=b["$start_with?"]("!"))===g||null==c||c.$$is_boolean&&
1!=c||(b=b["$[]"](r(1,-1,!1)),d=!0);if((c=b["$include?"]("-"))===g||null==c||c.$$is_boolean&&1!=c)return!1!==d&&d!==g&&null!=d?h.$delete(b.$to_i()):h["$<<"](b.$to_i());b=b.$split("-",2);c=a.to_ary(b);f=null==c[0]?g:c[0];l=null==c[1]?g:c[1];b;f=r(f.$to_i(),l.$to_i(),!1).$to_a();return!1!==d&&d!==g&&null!=d?h=e(h,f):h.$concat(f)},f.$$s=this,f.$$arity=1,f),c).call(d);return h.$sort().$uniq()},ma.$$arity=1);a.defn(k,"$sub_source",la=function(a,b){return!1!==b&&b!==g&&null!=b?this.$sub_callouts(this.$sub_specialchars(a)):
this.$sub_specialchars(a)},la.$$arity=2);a.defn(k,"$lock_in_subs",na=function(){var a,b,c,d,e,f=g,h=f=g;null==this.default_subs&&(this.default_subs=g);null==this.content_model&&(this.content_model=g);null==this.context&&(this.context=g);null==this.attributes&&(this.attributes=g);null==this.style&&(this.style=g);null==this.document&&(this.document=g);null==this.subs&&(this.subs=g);if((a=this.default_subs)===g||null==a||a.$$is_boolean&&1!=a)if(f=this.content_model,"simple"["$==="](f))f=l.get("SUBS")["$[]"]("normal");
else if("verbatim"["$==="](f))f=(a=!1!==(b=this.context["$=="]("listing"))&&b!==g&&null!=b?b:(c=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))===g||null==a||a.$$is_boolean&&1!=a?this.context["$=="]("verse")?l.get("SUBS")["$[]"]("normal"):l.get("SUBS")["$[]"]("basic"):l.get("SUBS")["$[]"]("verbatim");else if("raw"["$==="](f))f=this.context["$=="]("stem")?l.get("SUBS")["$[]"]("basic"):l.get("SUBS")["$[]"]("pass");else return g;else f=this.default_subs;
(a=h=this.attributes["$[]"]("subs"))===g||null==a||a.$$is_boolean&&1!=a?this.subs=f.$dup():this.subs=this.$resolve_block_subs(h,f,this.context);return(a=(b=(c=(d=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"),!1!==d&&d!==g&&null!=d?this.attributes["$[]"]("language"):d),!1!==c&&c!==g&&null!=c?this.document["$basebackend?"]("html"):c),!1!==b&&b!==g&&null!=b?l.get("SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):b))===
g||null==a||a.$$is_boolean&&1!=a?g:this.subs=(a=(b=this.subs).$map,a.$$p=(e=function(a){null==a&&(a=g);return a["$=="]("specialcharacters")?"highlight":a},e.$$s=this,e.$$arity=1,e),a).call(b)},na.$$arity=0)})(d(t,"Asciidoctor").$$scope.base)}(a.base)};Opal.modules["asciidoctor/abstract_node"]=function(a){function c(a,d){return"number"===typeof a&&"number"===typeof d?a*d:a["$*"](d)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}var n=a.nil,e=a.module,g=a.klass,h=a.hash2,
d=a.range;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $raise $=== $attributes $nil? $has_key? $[]= $update $converter $include? $split $* $push $delete $attr? $empty? $extname $image_uri $attr $normalize_web_path $< $safe $uriish? $generate_data_uri_from_uri $generate_data_uri $normalize_system_path $readable? $warn $respond_to? $binread $open $read $encode64 $require_library $! $content_type $web_path $new $open_uri $normalize_lines_from_string $fetch $read_asset $!= $is_root? $join $base_dir $system_path".split(" "));
return function(b){(function(b,$super){function e(){}var k=e=g(b,$super,"AbstractNode",e),l=k.$$proto,r=k.$$scope,x,C,E,D,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q,Z,R,ba,ga,ia,ma,la,na,fa;l.document=l.attributes=l.path_resolver=n;k.$include(r.get("Substitutors"));k.$attr_reader("parent");k.$attr_reader("document");k.$attr_reader("context");k.$attr_reader("node_name");k.$attr_accessor("id");k.$attr_reader("attributes");a.defn(k,"$initialize",x=function(a,b,c){var d;null==c&&(c=h([],{}));b["$=="]("document")?
this.document=a:!1!==a&&a!==n&&null!=a?(this.parent=a,this.document=a.$document()):this.document=this.parent=n;this.context=b;this.node_name=b.$to_s();this.attributes=(d=c["$key?"]("attributes"))===n||null==d||d.$$is_boolean&&1!=d?h([],{}):c["$[]"]("attributes").$dup();return this.passthroughs=h([],{})},x.$$arity=-3);a.defn(k,"$parent=",C=function(a){this.parent=a;this.document=a.$document();return n},C.$$arity=1);a.defn(k,"$inline?",E=function(){return this.$raise(a.get("NotImplementedError"))},
E.$$arity=0);a.defn(k,"$block?",D=function(){return this.$raise(a.get("NotImplementedError"))},D.$$arity=0);a.defn(k,"$attr",y=function(b,c,d){var e,f;null==c&&(c=n);null==d&&(d=!0);(e=a.get("Symbol")["$==="](b))===n||null==e||e.$$is_boolean&&1!=e||(b=b.$to_s());this["$=="](this.document)&&(d=!1);return!1!==d&&d!==n&&null!=d?!1!==(e=!1!==(f=this.attributes["$[]"](b))&&f!==n&&null!=f?f:this.document.$attributes()["$[]"](b))&&e!==n&&null!=e?e:c:!1!==(e=this.attributes["$[]"](b))&&e!==n&&null!=e?e:c},
y.$$arity=-2);a.defn(k,"$attr?",v=function(b,c,d){var e;null==c&&(c=n);null==d&&(d=!0);(e=a.get("Symbol")["$==="](b))===n||null==e||e.$$is_boolean&&1!=e||(b=b.$to_s());this["$=="](this.document)&&(d=!1);return(e=c["$nil?"]())===n||null==e||e.$$is_boolean&&1!=e?!1!==d&&d!==n&&null!=d?c["$=="](!1!==(e=this.attributes["$[]"](b))&&e!==n&&null!=e?e:this.document.$attributes()["$[]"](b)):c["$=="](this.attributes["$[]"](b)):!1!==(e=this.attributes["$has_key?"](b))&&e!==n&&null!=e?e:!1!==d&&d!==n&&null!=
d?this.document.$attributes()["$has_key?"](b):d},v.$$arity=-2);a.defn(k,"$set_attr",N=function(a,b,c){var d;null==c&&(c=!0);return(d=c["$=="](!1)?this.attributes["$key?"](a):c["$=="](!1))===n||null==d||d.$$is_boolean&&1!=d?(this.attributes["$[]="](a,b),!0):!1},N.$$arity=-3);a.defn(k,"$set_option",F=function(a){var b;if((b=this.attributes["$has_key?"]("options"))===n||null==b||b.$$is_boolean&&1!=b)this.attributes["$[]="]("options",a);else this.attributes["$[]="]("options",""+this.attributes["$[]"]("options")+
","+a);return this.attributes["$[]="](""+a+"-option","")},F.$$arity=1);a.defn(k,"$option?",I=function(a){return this.attributes["$has_key?"](""+a+"-option")},I.$$arity=1);a.defn(k,"$update_attributes",G=function(a){this.attributes.$update(a);return n},G.$$arity=1);a.defn(k,"$converter",K=function(){return this.document.$converter()},K.$$arity=0);a.defn(k,"$role?",z=function(a){var b;null==a&&(a=n);return!1!==a&&a!==n&&null!=a?a["$=="](!1!==(b=this.attributes["$[]"]("role"))&&b!==n&&null!=b?b:this.document.$attributes()["$[]"]("role")):
!1!==(b=this.attributes["$has_key?"]("role"))&&b!==n&&null!=b?b:this.document.$attributes()["$has_key?"]("role")},z.$$arity=-1);a.defn(k,"$role",q=function(){var a;return!1!==(a=this.attributes["$[]"]("role"))&&a!==n&&null!=a?a:this.document.$attributes()["$[]"]("role")},q.$$arity=0);a.defn(k,"$has_role?",A=function(a){var b,c,d=n;return(b=d=!1!==(c=this.attributes["$[]"]("role"))&&c!==n&&null!=c?c:this.document.$attributes()["$[]"]("role"))===n||null==b||b.$$is_boolean&&1!=b?!1:d.$split(" ")["$include?"](a)},
A.$$arity=1);a.defn(k,"$roles",U=function(){var a,b,c=n;return(a=c=!1!==(b=this.attributes["$[]"]("role"))&&b!==n&&null!=b?b:this.document.$attributes()["$[]"]("role"))===n||null==a||a.$$is_boolean&&1!=a?[]:c.$split(" ")},U.$$arity=0);a.defn(k,"$add_role",S=function(a){var b,d,e=n;return(b=(e=(!1!==(d=this.attributes["$[]"]("role"))&&d!==n&&null!=d?d:"").$split(" "))["$include?"](a))===n||null==b||b.$$is_boolean&&1!=b?this.attributes["$[]="]("role",c(e.$push(a)," ")):n},S.$$arity=1);a.defn(k,"$remove_role",
Y=function(a){var b,d,e=n;if((b=(e=(!1!==(d=this.attributes["$[]"]("role"))&&d!==n&&null!=d?d:"").$split(" "))["$include?"](a))===n||null==b||b.$$is_boolean&&1!=b)return n;e.$delete(a);return this.attributes["$[]="]("role",c(e," "))},Y.$$arity=1);a.defn(k,"$reftext?",ea=function(){var a;return!1!==(a=this.attributes["$has_key?"]("reftext"))&&a!==n&&null!=a?a:this.document.$attributes()["$has_key?"]("reftext")},ea.$$arity=0);a.defn(k,"$reftext",ca=function(){var a;return!1!==(a=this.attributes["$[]"]("reftext"))&&
a!==n&&null!=a?a:this.document.$attributes()["$[]"]("reftext")},ca.$$arity=0);a.defn(k,"$icon_uri",B=function(b){var c,d=n;return(c=this["$attr?"]("icon"))===n||null==c||c.$$is_boolean&&1!=c?this.$image_uri(""+b+"."+this.document.$attr("icontype","png"),"iconsdir"):(c=a.get("File").$extname(d=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())===n||null==c||c.$$is_boolean&&1!=c?d:""+d+"."+this.document.$attr("icontype","png")},B.$$arity=1);a.defn(k,"$media_uri",Q=function(a,b){null==b&&
(b="imagesdir");return this.$normalize_web_path(a,!1!==b&&b!==n&&null!=b?this.document.$attr(b):n)},Q.$$arity=-2);a.defn(k,"$image_uri",Z=function(a,b){var c,d,e,f,g=n,h=n;null==b&&(b="imagesdir");return(c=(d=p((g=this.document).$safe(),r.get("SafeMode").$$scope.get("SECURE")),!1!==d&&d!==n&&null!=d?g["$attr?"]("data-uri"):d))===n||null==c||c.$$is_boolean&&1!=c?this.$normalize_web_path(a,!1!==b&&b!==n&&null!=b?g.$attr(b):n):(c=!1!==(d=r.get("Helpers")["$uriish?"](a))&&d!==n&&null!=d?d:(e=(f=!1!==
b&&b!==n&&null!=b?h=g.$attr(b):b,!1!==f&&f!==n&&null!=f?r.get("Helpers")["$uriish?"](h):f),!1!==e&&e!==n&&null!=e?a=this.$normalize_web_path(a,h,!1):e))===n||null==c||c.$$is_boolean&&1!=c?this.$generate_data_uri(a,b):(c=g["$attr?"]("allow-uri-read"))===n||null==c||c.$$is_boolean&&1!=c?a:this.$generate_data_uri_from_uri(a,g["$attr?"]("cache-uri"))},Z.$$arity=-2);a.defn(k,"$generate_data_uri",R=function(b,c){var e,f,g,l=n,k=l=n,m=n;null==c&&(c=n);l=a.get("File").$extname(b);l=l["$=="](".svg")?"image/svg+xml":
"image/"+l["$[]"](d(1,-1,!1));k=!1!==c&&c!==n&&null!=c?this.$normalize_system_path(b,this.document.$attr(c),n,h(["target_name"],{target_name:"image"})):this.$normalize_system_path(b);if((e=a.get("File")["$readable?"](k))===n||null==e||e.$$is_boolean&&1!=e)return this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+k),"data:"+l+":base64,";m=n;m=(e=a.get("IO")["$respond_to?"]("binread"))===n||null==e||e.$$is_boolean&&1!=e?(e=(f=a.get("File")).$open,e.$$p=(g=function(a){null==
a&&(a=n);return a.$read()},g.$$s=this,g.$$arity=1,g),e).call(f,k,"rb"):a.get("IO").$binread(k);return"data:"+l+";base64,"+a.get("Base64").$encode64(m).$delete(r.get("EOL"))},R.$$arity=-2);a.defn(k,"$generate_data_uri_from_uri",ba=function(b,c){var d,e,f=n,g=n;null==c&&(c=!1);!1!==c&&c!==n&&null!=c?r.get("Helpers").$require_library("open-uri/cached","open-uri-cached"):(d=a.get("RUBY_ENGINE_OPAL")["$!"]())===n||null==d||d.$$is_boolean&&1!=d||a.get("OpenURI");try{return f=n,g=(d=this.$open,d.$$p=(e=
function(a){null==a&&(a=n);f=a.$content_type();return a.$read()},e.$$s=this,e.$$arity=1,e),d).call(this,b,"rb"),"data:"+f+";base64,"+a.get("Base64").$encode64(g).$delete(r.get("EOL"))}catch(h){if(a.rescue(h,[r.get("StandardError")]))try{return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+b),b}finally{a.pop_exception()}else throw h;}},ba.$$arity=-2);a.defn(k,"$read_contents",ga=function(b,d){var e,g,l,k,m,p=n,q=n,t=n;null==d&&(d=h([],{}));p=this.document;if((e=!1!==(g=
r.get("Helpers")["$uriish?"](b))&&g!==n&&null!=g?g:(l=(k=q=d["$[]"]("start"),!1!==k&&k!==n&&null!=k?r.get("Helpers")["$uriish?"](q):k),!1!==l&&l!==n&&null!=l?b=(!1!==(k=this.path_resolver)&&k!==n&&null!=k?k:this.path_resolver=r.get("PathResolver").$new()).$web_path(b,q):l))===n||null==e||e.$$is_boolean&&1!=e)b=this.$normalize_system_path(b,d["$[]"]("start"),n,h(["target_name"],{target_name:!1!==(e=d["$[]"]("label"))&&e!==n&&null!=e?e:"asset"})),t=this.$read_asset(b,h(["normalize","warn_on_failure"],
{normalize:d["$[]"]("normalize"),warn_on_failure:d.$fetch("warn_on_failure",!0)}));else if((e=p["$attr?"]("allow-uri-read"))===n||null==e||e.$$is_boolean&&1!=e)(e=d.$fetch("warn_on_failure",!0))===n||null==e||e.$$is_boolean&&1!=e||this.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(!1!==(e=d["$[]"]("label"))&&e!==n&&null!=e?e:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),t=n;else{(e=p["$attr?"]("cache-uri"))===n||null==e||e.$$is_boolean&&1!=e||r.get("Helpers").$require_library("open-uri/cached",
"open-uri-cached");try{t=(e=(g=a.get("OpenURI")).$open_uri,e.$$p=(m=function(a){null==a&&(a=n);return a.$read()},m.$$s=this,m.$$arity=1,m),e).call(g,b),(e=d["$[]"]("normalize"))===n||null==e||e.$$is_boolean&&1!=e||(t=c(r.get("Helpers").$normalize_lines_from_string(t),r.get("EOL")))}catch(v){if(a.rescue(v,[r.get("StandardError")]))try{(e=d.$fetch("warn_on_failure",!0))===n||null==e||e.$$is_boolean&&1!=e||this.$warn("asciidoctor: WARNING: could not retrieve contents of "+(!1!==(e=d["$[]"]("label"))&&
e!==n&&null!=e?e:"asset")+" at URI: "+b),t=n}finally{a.pop_exception()}else throw v;}}return t},ga.$$arity=-2);a.defn(k,"$read_asset",ia=function(b,d){var e;null==d&&(d=h([],{}));if((e=a.get("Hash")["$==="](d))===n||null==e||e.$$is_boolean&&1!=e)d=h(["warn_on_failure"],{warn_on_failure:d["$!="](!1)});return(e=a.get("File")["$readable?"](b))===n||null==e||e.$$is_boolean&&1!=e?((e=d["$[]"]("warn_on_failure"))===n||null==e||e.$$is_boolean&&1!=e||this.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+
b),n):(e=d["$[]"]("normalize"))===n||null==e||e.$$is_boolean&&1!=e?a.get("IO").$read(b):c(r.get("Helpers").$normalize_lines_from_string(a.get("IO").$read(b)),r.get("EOL"))},ia.$$arity=-2);a.defn(k,"$normalize_web_path",ma=function(a,b,c){var d;null==b&&(b=n);null==c&&(c=!0);return(d=!1!==c&&c!==n&&null!=c?r.get("Helpers")["$uriish?"](a):c)===n||null==d||d.$$is_boolean&&1!=d?(!1!==(d=this.path_resolver)&&d!==n&&null!=d?d:this.path_resolver=r.get("PathResolver").$new()).$web_path(a,b):a},ma.$$arity=
-2);a.defn(k,"$normalize_system_path",la=function(b,c,d,e){var f,g=n,l=n;null==c&&(c=n);null==d&&(d=n);null==e&&(e=h([],{}));g=!1!==(f=this.path_resolver)&&f!==n&&null!=f?f:this.path_resolver=r.get("PathResolver").$new();if((f=p((l=this.document).$safe(),r.get("SafeMode").$$scope.get("SAFE")))===n||null==f||f.$$is_boolean&&1!=f){if(!1===c||c===n||null==c)c=l.$base_dir();if(!1===d||d===n||null==d)d=l.$base_dir()}else if(!1!==c&&c!==n&&null!=c){if((f=g["$is_root?"](c))===n||null==f||f.$$is_boolean&&
1!=f)c=a.get("File").$join(l.$base_dir(),c)}else c=l.$base_dir();return g.$system_path(b,c,d,e)},la.$$arity=-2);a.defn(k,"$normalize_asset_path",na=function(a,b,c){null==b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),n,h(["target_name","recover"],{target_name:b,recover:c}))},na.$$arity=-2);return(a.defn(k,"$is_uri?",fa=function(a){return r.get("Helpers")["$uriish?"](a)},fa.$$arity=1),n)&&"is_uri?"})(e(b,"Asciidoctor").$$scope.base,null)}(a.base)};Opal.modules["asciidoctor/abstract_block"]=
function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var n=a.nil,e=a.module,g=a.klass,h=a.hash2;a.add_stubs("$attr_accessor $attr_reader $attr_writer $== $!= $level $to_s $playback_attributes $convert $converter $* $map $file $lineno $include? $! $nil_or_empty? $apply_title_subs $title $empty? $<< $select $context $> $[] $has_role? $header? $concat $find_by $to_proc $each $flatten $delete $title? $attributes $counter_increment $index= $+ $sectname $counter $numbered $number= $attr $caption= $special $doctype $assign_index $reindex_sections".split(" "));
return function(d){d=e(d,"Asciidoctor").$$scope;(function(b,$super){function d(){}var e=d=g(b,$super,"AbstractBlock",d),k=e.$$proto,l=e.$$scope,r,x,C,E,D,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q;k.document=k.attributes=k.blocks=k.source_location=k.subs=k.title=k.subbed_title=k.caption=k.next_section_index=k.context=k.style=k.id=k.header=k.next_section_number=n;e.$attr_accessor("content_model");e.$attr_reader("subs");e.$attr_reader("blocks");e.$attr_accessor("level");e.$attr_writer("title");e.$attr_accessor("style");
e.$attr_accessor("caption");e.$attr_accessor("source_location");a.defn(e,"$initialize",r=function(b,c,d){var e,f=r.$$p,g=n,l=n;null==d&&(d=h([],{}));r.$$p=null;g=[];for(l=0;l<arguments.length;l++)g[l]=arguments[l];(e=a.find_super_dispatcher(this,"initialize",r,!1),e.$$p=f,e).apply(this,g);this.content_model="compound";this.subs=[];this.default_subs=n;this.blocks=[];this.style=this.caption=this.title=this.id=n;this.level=c["$=="]("document")?0:(e=!1!==b&&b!==n&&null!=b?c["$!="]("section"):b)===n||
null==e||e.$$is_boolean&&1!=e?n:b.$level();this.next_section_index=0;this.next_section_number=1;return this.source_location=n},r.$$arity=-3);a.defn(e,"$block?",x=function(){return!0},x.$$arity=0);a.defn(e,"$inline?",C=function(){return!1},C.$$arity=0);a.defn(e,"$context=",E=function(a){this.context=a;return this.node_name=a.$to_s()},E.$$arity=1);a.defn(e,"$convert",D=function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)},D.$$arity=0);a.alias(e,"render",
"convert");a.defn(e,"$content",y=function(){var a,b,d;return c((a=(b=this.blocks).$map,a.$$p=(d=function(a){null==a&&(a=n);return a.$convert()},d.$$s=this,d.$$arity=1,d),a).call(b),l.get("EOL"))},y.$$arity=0);a.defn(e,"$file",v=function(){var a;return(a=this.source_location)===n||null==a||a.$$is_boolean&&1!=a?n:this.source_location.$file()},v.$$arity=0);a.defn(e,"$lineno",N=function(){var a;return(a=this.source_location)===n||null==a||a.$$is_boolean&&1!=a?n:this.source_location.$lineno()},N.$$arity=
0);a.defn(e,"$sub?",F=function(a){return this.subs["$include?"](a)},F.$$arity=1);a.defn(e,"$title?",I=function(){return this.title["$nil_or_empty?"]()["$!"]()},I.$$arity=0);a.defn(e,"$title",G=function(){var a,b;return(a=(b=this.subbed_title,null!=b&&b!==n)?"instance-variable":n)===n||null==a||a.$$is_boolean&&1!=a?(a=this.title)===n||null==a||a.$$is_boolean&&1!=a?this.title:this.subbed_title=this.$apply_title_subs(this.title):this.subbed_title},G.$$arity=0);a.defn(e,"$captioned_title",K=function(){return""+
this.caption+this.$title()},K.$$arity=0);a.defn(e,"$blocks?",z=function(){return this.blocks["$empty?"]()["$!"]()},z.$$arity=0);a.defn(e,"$<<",q=function(a){this.blocks["$<<"](a);return this},q.$$arity=1);a.alias(e,"append","<<");a.defn(e,"$sections",A=function(){var a,b,c;return(a=(b=this.blocks).$select,a.$$p=(c=function(a){null==a&&(a=n);return a.$context()["$=="]("section")},c.$$s=this,c.$$arity=1,c),a).call(b)},A.$$arity=0);a.defn(e,"$sections?",U=function(){var a=this.next_section_index;return"number"===
typeof a?0<a:a["$>"](0)},U.$$arity=0);a.defn(e,"$find_by",S=function(b){var c,d,e,f,g,l,k,p=S.$$p||n,q=n,t=n,v=n,r=n,x=n,z=n;null==b&&(b=h([],{}));S.$$p=null;q=[];if((c=(d=(e=(f=!1!==(g=t=(v=b["$[]"]("context"))["$!"]())&&g!==n&&null!=g?g:v["$=="](this.context),!1!==f&&f!==n&&null!=f?!1!==(g=(r=b["$[]"]("style"))["$!"]())&&g!==n&&null!=g?g:r["$=="](this.style):f),!1!==e&&e!==n&&null!=e?!1!==(f=(x=b["$[]"]("role"))["$!"]())&&f!==n&&null!=f?f:this["$has_role?"](x):e),!1!==d&&d!==n&&null!=d?!1!==(e=
(z=b["$[]"]("id"))["$!"]())&&e!==n&&null!=e?e:z["$=="](this.id):d))!==n&&null!=c&&(!c.$$is_boolean||1==c)){if(!1!==z&&z!==n&&null!=z)return p!==n?(c=a.yield1(p,this))===n||null==c||c.$$is_boolean&&1!=c?q:[this]:[this];if(p!==n){if((c=a.yield1(p,this))!==n&&null!=c&&(!c.$$is_boolean||1==c))q["$<<"](this)}else q["$<<"](this)}(c=(d=(e=this.context["$=="]("document"))?!1!==(f=t)&&f!==n&&null!=f?f:v["$=="]("section"):this.context["$=="]("document"),!1!==d&&d!==n&&null!=d?this["$header?"]():d))===n||null==
c||c.$$is_boolean&&1!=c||q.$concat((c=(d=this.header).$find_by,c.$$p=p.$to_proc(),c).call(d,b));v["$=="]("document")||(this.context["$=="]("dlist")?(c=!1!==(e=t)&&e!==n&&null!=e?e:v["$!="]("section"))===n||null==c||c.$$is_boolean&&1!=c||(c=(e=this.blocks.$flatten()).$each,c.$$p=(l=function(a){var c,d;null==a&&(a=n);return!1!==a&&a!==n&&null!=a?q.$concat((c=(d=a).$find_by,c.$$p=p.$to_proc(),c).call(d,b)):n},l.$$s=this,l.$$arity=1,l),c).call(e):c=(f=(g=this.blocks).$each,f.$$p=(k=function(a){var c,
d;null==a&&(a=n);return(c=v["$=="]("section")?a.$context()["$!="]("section"):v["$=="]("section"))===n||null==c||c.$$is_boolean&&1!=c?q.$concat((c=(d=a).$find_by,c.$$p=p.$to_proc(),c).call(d,b)):n},k.$$s=this,k.$$arity=1,k),f).call(g));return q},S.$$arity=-1);a.alias(e,"query","find_by");a.defn(e,"$remove_sub",Y=function(a){this.subs.$delete(a);return n},Y.$$arity=1);a.defn(e,"$assign_caption",ea=function(a,b){var c,d,e=n,f=e=e=n;null==a&&(a=n);null==b&&(b=n);if((c=!1!==(d=this["$title?"]())&&d!==
n&&null!=d?d:this.caption["$!"]())===n||null==c||c.$$is_boolean&&1!=c)return n;!1!==a&&a!==n&&null!=a?this.caption=a:(c=e=this.document.$attributes()["$[]"]("caption"))===n||null==c||c.$$is_boolean&&1!=c?(c=this["$title?"]())===n||null==c||c.$$is_boolean&&1!=c||(!1!==(c=b)&&c!==n&&null!=c?c:b=this.context.$to_s(),e=""+b+"-caption",(c=e=this.document.$attributes()["$[]"](e))===n||null==c||c.$$is_boolean&&1!=c||(f=this.document.$counter_increment(""+b+"-number",this),this.caption=""+e+" "+f+". ")):
this.caption=e;return n},ea.$$arity=-1);a.defn(e,"$list_marker_keyword",ca=function(a){var b;null==a&&(a=n);return l.get("ORDERED_LIST_KEYWORDS")["$[]"](!1!==(b=a)&&b!==n&&null!=b?b:this.style)},ca.$$arity=-1);a.defn(e,"$assign_index",B=function(a){var b,c,d,e=n,f=n;b=[this.next_section_index];c=a;c["$index="].apply(c,b);b[b.length-1];this.next_section_index=p(this.next_section_index,1);return a.$sectname()["$=="]("appendix")?(e=this.document.$counter("appendix-number","A"),(b=a.$numbered())===n||
null==b||b.$$is_boolean&&1!=b||(b=[e],c=a,c["$number="].apply(c,b),b[b.length-1]),(b=(f=this.document.$attr("appendix-caption",""))["$empty?"]())===n||null==b||b.$$is_boolean&&1!=b?(b=[""+f+" "+e+": "],c=a,c["$caption="].apply(c,b),b[b.length-1]):(b=[""+e+". "],c=a,c["$caption="].apply(c,b),b[b.length-1])):(b=a.$numbered())===n||null==b||b.$$is_boolean&&1!=b?n:(b=(c=!1!==(d=a.$level()["$=="](1))&&d!==n&&null!=d?d:a.$level()["$=="](0)?a.$special():a.$level()["$=="](0),!1!==c&&c!==n&&null!=c?this.document.$doctype()["$=="]("book"):
c))===n||null==b||b.$$is_boolean&&1!=b?(b=[this.next_section_number],c=a,c["$number="].apply(c,b),b[b.length-1],this.next_section_number=p(this.next_section_number,1)):(b=[this.document.$counter("chapter-number",1)],c=a,c["$number="].apply(c,b),b[b.length-1])},B.$$arity=1);return(a.defn(e,"$reindex_sections",Q=function(){var a,b,c;this.next_section_number=this.next_section_index=0;return(a=(b=this.blocks).$each,a.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=n);return a.$context()["$=="]("section")?
(b.$assign_index(a),a.$reindex_sections()):n},c.$$s=this,c.$$arity=1,c),a).call(b)},Q.$$arity=0),n)&&"reindex_sections"})(d.base,d.get("AbstractNode"))}(a.base)};Opal.modules["asciidoctor/attribute_list"]=function(a){function c(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}var p=a.nil,n=a.module,e=a.klass,g=a.hash2;a.add_stubs("$== $new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $skip_blank $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $each $split $tr $empty? $apply_normal_subs $scan_to_quote $gsub $skip $scan".split(" "));
return function(h){(function(d,$super){function h(){}var n=h=e(d,$super,"AttributeList",h),t=n.$$proto,k=n.$$scope,l,r,x,C,E,D,y,v,N,F,I,G;t.attributes=t.scanner=t.delimiter=t.block=t.delimiter_skip_pattern=t.delimiter_boundary_pattern=p;a.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(k,"CG_BLANK","[ \\t]"),a.cdecl(k,"CC_WORD","a-zA-Z0-9_"),a.cdecl(k,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(k,"BoundaryRxs",g(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+k.get("CG_BLANK")+
"*(,|$))")}));a.cdecl(k,"EscapedQuoteRxs",g(['"',"'"],{'"':/\\"/,"'":/\\'/}));a.cdecl(k,"NameRx",new RegExp(""+k.get("CG_WORD")+"["+k.get("CC_WORD")+"\\-.]*"));a.cdecl(k,"BlankRx",new RegExp(""+k.get("CG_BLANK")+"+"));a.cdecl(k,"SkipRxs",g(["blank",","],{blank:k.get("BlankRx"),",":new RegExp(""+k.get("CG_BLANK")+"*(,|$)")}));a.defn(n,"$initialize",l=function(c,d,e){null==d&&(d=p);null==e&&(e=",");this.scanner=a.get("StringScanner").$new(c);this.block=d;this.delimiter=e;this.delimiter_skip_pattern=
k.get("SkipRxs")["$[]"](e);this.delimiter_boundary_pattern=k.get("BoundaryRxs")["$[]"](e);return this.attributes=p},l.$$arity=-2);a.defn(n,"$parse_into",r=function(a,c){null==c&&(c=[]);return a.$update(this.$parse(c))},r.$$arity=-2);a.defn(n,"$parse",x=function(a){var d,e,h=p;null==a&&(a=[]);if((d=this.attributes)!==p&&null!=d&&(!d.$$is_boolean||1==d))return this.attributes;this.attributes=g([],{});for(h=0;(e=this.$parse_attribute(h,a))!==p&&null!=e&&(!e.$$is_boolean||1==e)&&((e=this.scanner["$eos?"]())===
p||null==e||e.$$is_boolean&&1!=e);)this.$skip_delimiter(),h=c(h,1);return this.attributes},x.$$arity=-1);a.defn(n,"$rekey",C=function(a){return k.get("AttributeList").$rekey(this.attributes,a)},C.$$arity=1);a.defs(n,"$rekey",E=function(a,d){var e,g;(e=d.$each_with_index,e.$$p=(g=function(d,e){var g,h=p,l=p;null==d&&(d=p);null==e&&(e=p);if(!1===d||d===p||null==d)return p;h=c(e,1);return(g=l=a["$[]"](h))===p||null==g||g.$$is_boolean&&1!=g?p:a["$[]="](d,l)},g.$$s=this,g.$$arity=2,g),e).call(d);return a},
E.$$arity=2);a.defn(n,"$parse_attribute",D=function(a,d){var e,g,h,l,k=p,m=p,n=m=p,t=p,v=p,m=k=t=p;null==a&&(a=0);null==d&&(d=[]);k=!1;this.$skip_blank();if((m=this.scanner.$peek(1))["$=="]('"'))m=this.$parse_attribute_value(this.scanner.$get_byte()),n=p;else if(m["$=="]("'"))m=this.$parse_attribute_value(this.scanner.$get_byte()),n=p,k=!0;else{m=this.$scan_name();t=0;v=p;if((e=this.scanner["$eos?"]())===p||null==e||e.$$is_boolean&&1!=e)t=!1!==(e=this.$skip_blank())&&e!==p&&null!=e?e:0,v=this.scanner.$get_byte();
else if(!1===m||m===p||null==m)return!1;if((e=!1!==(g=v["$!"]())&&g!==p&&null!=g?g:v["$=="](this.delimiter))===p||null==e||e.$$is_boolean&&1!=e)if((e=!1!==(g=v["$!="]("="))&&g!==p&&null!=g?g:m["$!"]())===p||null==e||e.$$is_boolean&&1!=e){if(this.$skip_blank(),(e=this.scanner.$peek(1))!==p&&null!=e&&(!e.$$is_boolean||1==e))if((v=this.scanner.$get_byte())["$=="]('"'))n=this.$parse_attribute_value(v);else if(v["$=="]("'"))n=this.$parse_attribute_value(v),k=!0;else if(v["$=="](this.delimiter))n=p;else if(n=
""+v+this.$scan_to_delimiter(),n["$=="]("None"))return!0}else m=""+m+" "["$*"](t)+v+this.$scan_to_delimiter(),n=p;else n=p}if(!1!==n&&n!==p&&null!=n)if(t=m,"options"["$==="](t)||"opts"["$==="](t))m="options",(e=(g=n.$tr(" ","").$split(",")).$each,e.$$p=(h=function(a){var c=h.$$s||this;null==c.attributes&&(c.attributes=p);null==a&&(a=p);return c.attributes["$[]="](""+a+"-option","")},h.$$s=this,h.$$arity=1,h),e).call(g),this.attributes["$[]="](m,n);else if("title"["$==="](t))this.attributes["$[]="](m,
n);else this.attributes["$[]="](m,(e=(l=!1!==k&&k!==p&&null!=k?n["$empty?"]()["$!"]():k,!1!==l&&l!==p&&null!=l?this.block:l))===p||null==e||e.$$is_boolean&&1!=e?n:this.block.$apply_normal_subs(n));else{k=(e=(l=!1!==k&&k!==p&&null!=k?m["$empty?"]()["$!"]():k,!1!==l&&l!==p&&null!=l?this.block:l))===p||null==e||e.$$is_boolean&&1!=e?m:this.block.$apply_normal_subs(m);if((e=m=d["$[]"](a))!==p&&null!=e&&(!e.$$is_boolean||1==e))this.attributes["$[]="](m,k);this.attributes["$[]="](c(a,1),k)}return!0},D.$$arity=
-1);a.defn(n,"$parse_attribute_value",y=function(a){var c,d=p;if(this.scanner.$peek(1)["$=="](a))return this.scanner.$get_byte(),"";if((c=d=this.$scan_to_quote(a))===p||null==c||c.$$is_boolean&&1!=c)return""+a+this.$scan_to_delimiter();this.scanner.$get_byte();return d.$gsub(k.get("EscapedQuoteRxs")["$[]"](a),a)},y.$$arity=1);a.defn(n,"$skip_blank",v=function(){return this.scanner.$skip(k.get("BlankRx"))},v.$$arity=0);a.defn(n,"$skip_delimiter",N=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},
N.$$arity=0);a.defn(n,"$scan_name",F=function(){return this.scanner.$scan(k.get("NameRx"))},F.$$arity=0);a.defn(n,"$scan_to_delimiter",I=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},I.$$arity=0);return(a.defn(n,"$scan_to_quote",G=function(a){return this.scanner.$scan(k.get("BoundaryRxs")["$[]"](a))},G.$$arity=1),p)&&"scan_to_quote"})(n(h,"Asciidoctor").$$scope.base,null)}(a.base)};Opal.modules["asciidoctor/block"]=function(a){function c(a,d){return"number"===typeof a&&"number"===
typeof d?a*d:a["$*"](d)}var p=a.nil,n=a.module,e=a.klass,g=a.hash2;a.add_stubs("$default= $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $to_s $class $object_id $inspect".split(" "));return function(h){h=n(h,"Asciidoctor").$$scope;(function(d,$super){function h(){}var n=h=e(d,$super,"Block",h),t=n.$$proto,k=n.$$scope,l,r,x,C,E;t.attributes=t.content_model=t.lines=t.subs=t.blocks=
t.context=t.style=p;t=["simple"];l=a.cdecl(k,"DEFAULT_CONTENT_MODEL",g("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}));l["$default="].apply(l,t);t[t.length-1];a.alias(n,"blockname","context");n.$attr_accessor("lines");a.defn(n,"$initialize",r=function(c,d,e){var f,h=r.$$p,l=p,m=p,n=l=p;null==e&&(e=
g([],{}));r.$$p=null;l=[];for(n=0;n<arguments.length;n++)l[n]=arguments[n];(f=a.find_super_dispatcher(this,"initialize",r,!1),f.$$p=h,f).apply(this,l);this.content_model=!1!==(f=e["$[]"]("content_model"))&&f!==p&&null!=f?f:k.get("DEFAULT_CONTENT_MODEL")["$[]"](d);(f=e["$key?"]("subs"))===p||null==f||f.$$is_boolean&&1!=f?(this.subs=[],this.default_subs=p):(f=l=e["$[]"]("subs"))===p||null==f||f.$$is_boolean&&1!=f?(this.subs=[],this.default_subs=[],this.attributes.$delete("subs")):(l["$=="]("default")?
this.default_subs=e["$[]"]("default_subs"):(f=a.get("Array")["$==="](l))===p||null==f||f.$$is_boolean&&1!=f?(this.default_subs=p,this.attributes["$[]="]("subs",""+l)):(this.default_subs=l.$dup(),this.attributes.$delete("subs")),this.$lock_in_subs());return(f=(m=e["$[]"]("source"))["$nil_or_empty?"]())===p||null==f||f.$$is_boolean&&1!=f?(f=a.get("String")["$==="](m))===p||null==f||f.$$is_boolean&&1!=f?this.lines=m.$dup():this.lines=k.get("Helpers").$normalize_lines_from_string(m):this.lines=[]},r.$$arity=
-3);a.defn(n,"$content",x=function(){var d,e,g,h,l=this,m=x.$$p,n=p,t=p,r=p,q=p,w=p,C=p;x.$$p=null;w=[];for(C=0;C<arguments.length;C++)w[C]=arguments[C];return function(){n=l.content_model;if("compound"["$==="](n))return(d=(e=l,a.find_super_dispatcher(l,"content",x,!1)),d.$$p=m,d).apply(e,w);if("simple"["$==="](n))return l.$apply_subs(c(l.lines,k.get("EOL")),l.subs);if("verbatim"["$==="](n)||"raw"["$==="](n)){t=l.$apply_subs(l.lines,l.subs);var C=t.$size();if((d="number"===typeof C?2>C:C["$<"](2))===
p||null==d||d.$$is_boolean&&1!=d){for(;(g=(h=r=t["$[]"](0),!1!==h&&h!==p&&null!=h?r.$rstrip()["$empty?"]():h))!==p&&null!=g&&(!g.$$is_boolean||1==g);)t.$shift();for(;(g=(h=q=t["$[]"](-1),!1!==h&&h!==p&&null!=h?q.$rstrip()["$empty?"]():h))!==p&&null!=g&&(!g.$$is_boolean||1==g);)t.$pop();return c(t,k.get("EOL"))}return t["$[]"](0)}l.content_model["$=="]("empty")||l.$warn("Unknown content model '"+l.content_model+"' for block: "+l.$to_s());return p}()},x.$$arity=0);a.defn(n,"$source",C=function(){return c(this.lines,
k.get("EOL"))},C.$$arity=0);return(a.defn(n,"$to_s",E=function(){var a=p,a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"},E.$$arity=0),p)&&"to_s"})(h.base,h.get("AbstractBlock"))}(a.base)};Opal.modules["asciidoctor/callouts"]=function(a){function c(a,b){return"number"===
typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var n=a.nil,e=a.module,g=a.klass,h=a.hash2;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));return function(d){(function(b,$super){function d(){}var e=d=g(b,$super,"Callouts",d),k=e.$$proto,l,r,x,C,E,D,y,v,N;k.co_index=k.lists=k.list_index=n;a.defn(e,"$initialize",l=function(){this.lists=
[];this.list_index=0;return this.$next_list()},l.$$arity=0);a.defn(e,"$register",r=function(a){var b=n;this.$current_list()["$<<"](h(["ordinal","id"],{ordinal:a.$to_i(),id:b=this.$generate_next_callout_id()}));this.co_index=c(this.co_index,1);return b},r.$$arity=1);a.defn(e,"$read_next_id",x=function(){var a,b=n,d=n,b=n,d=this.$current_list(),e=this.co_index,g=d.$size();(a="number"===typeof e&&"number"===typeof g?e<=g:e["$<="](g))===n||null==a||a.$$is_boolean&&1!=a||(b=d["$[]"](p(this.co_index,1))["$[]"]("id"));
this.co_index=c(this.co_index,1);return b},x.$$arity=0);a.defn(e,"$callout_ids",C=function(a){var b,c,d;return(b=(c=this.$current_list()).$map,b.$$p=(d=function(b){null==b&&(b=n);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":n},d.$$s=this,d.$$arity=1,d),b).call(c).$join().$chop()},C.$$arity=1);a.defn(e,"$current_list",E=function(){return this.lists["$[]"](p(this.list_index,1))},E.$$arity=0);a.defn(e,"$next_list",D=function(){var a;this.list_index=c(this.list_index,1);var b=this.lists.$size(),
d=this.list_index;if((a="number"===typeof b&&"number"===typeof d?b<d:b["$<"](d))!==n&&null!=a&&(!a.$$is_boolean||1==a))this.lists["$<<"]([]);this.co_index=1;return n},D.$$arity=0);a.defn(e,"$rewind",y=function(){this.co_index=this.list_index=1;return n},y.$$arity=0);a.defn(e,"$generate_next_callout_id",v=function(){return this.$generate_callout_id(this.list_index,this.co_index)},v.$$arity=0);return(a.defn(e,"$generate_callout_id",N=function(a,b){return"CO"+a+"-"+b},N.$$arity=2),n)&&"generate_callout_id"})(e(d,
"Asciidoctor").$$scope.base,null)}(a.base)};Opal.modules["asciidoctor/document"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var e=a.nil,g=a.module,h=a.klass,d=a.hash2,b=a.range;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $include? $strip $tr_s $gsub $empty? $! $rpartition $delete $base_dir $inject $== $references $callouts $dup $attributes $each $safe $compat_mode $sourcemap $converter $extensions $start_with? $end_with? $chop $downcase $=== $const_get $upcase $to_s $key? $freeze $attribute_undefined $attribute_missing $find $constants $expand_path $pwd $>= $+ $length $fetch $abs $to_i $delete_if $parse $restore_attributes $update_backend_attributes $utc $at $now $strftime $join $build_registry $to_proc $activate $preprocessors? $process_method $preprocessors $treeprocessors? $!= $treeprocessors $nil_or_empty? $nextval $counter $save_to $chr $ord $source $source_lines $title= $title $first_section $title? $merge $has_header? $context $assign_index $clear_playback_attributes $save_attributes $attribute_locked? $doctitle $has_key? $rewind $name $negate $value $limit $apply_attribute_value_subs $delete? $update_doctype_attributes $match $resolve_pass_subs $apply_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $backend $default $create $fail $doctype $content_model $content $convert $postprocessors? $postprocessors $write $respond_to? $chomp $open $map $split $& $normalize_system_path $read_asset $resolve_docinfo_subs $sub_attributes $docinfo_processors? $* $compact $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));
return function(m){m=g(m,"Asciidoctor").$$scope;(function(g,$super){function k(){}var l=k=h(g,$super,"Document",k),m=l.$$proto,r=l.$$scope,C,E,D,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q,Z,R,ba,ga,ia,ma,la,na,fa,T,ja,L,O,ka,J,pa,ra,ua,ta,ha,za,va,ya,wa,P,u;m.attributes=m.safe=m.reader=m.base_dir=m.parsed=m.parent_document=m.extensions=m.options=m.counters=m.references=m.doctype=m.backend=m.header=m.blocks=m.attributes_modified=m.id=m.callouts=m.header_attributes=m.max_attribute_value_size=m.attribute_overrides=
m.converter=m.outfilesuffix=m.docinfo_processor_extensions=m.document=e;a.cdecl(r,"Footnote",a.get("Struct").$new("index","id","text"));(function(b,$super){function c(){}var d=c=h(b,$super,"AttributeEntry",c),f,g;d.$attr_reader("name","value","negate");a.defn(d,"$initialize",f=function(a,b,c){var d;null==c&&(c=e);this.name=a;this.value=b;return this.negate=(d=c["$nil?"]())===e||null==d||d.$$is_boolean&&1!=d?c:b["$nil?"]()},f.$$arity=-3);return(a.defn(d,"$save_to",g=function(a){var b;return(!1!==(b=
a["$[]"]("attribute_entries"))&&b!==e&&null!=b?b:a["$[]="]("attribute_entries",[]))["$<<"](this)},g.$$arity=1),e)&&"save_to"})(r.base,null);(function(b,$super){function c(){}var f=c=h(b,$super,"Title",c),g=f.$$proto,l=f.$$scope,k,m,n,p;g.sanitized=g.subtitle=g.combined=e;f.$attr_reader("main");a.alias(f,"title","main");f.$attr_reader("subtitle");f.$attr_reader("combined");a.defn(f,"$initialize",k=function(b,c){var f,g,h,k=e;null==c&&(c=d([],{}));(f=(g=this.sanitized=c["$[]"]("sanitize"),!1!==g&&g!==
e&&null!=g?b["$include?"]("<"):g))===e||null==f||f.$$is_boolean&&1!=f||(b=b.$gsub(l.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip());(f=!1!==(g=(k=!1!==(h=c["$[]"]("separator"))&&h!==e&&null!=h?h:":")["$empty?"]())&&g!==e&&null!=g?g:b["$include?"](k=""+k+" ")["$!"]())===e||null==f||f.$$is_boolean&&1!=f?(g=b.$rpartition(k),f=a.to_ary(g),this.main=null==f[0]?e:f[0],this.subtitle=null==f[2]?e:f[2],g):(this.main=b,this.subtitle=e);return this.combined=b},k.$$arity=-2);a.defn(f,"$sanitized?",m=function(){return this.sanitized},
m.$$arity=0);a.defn(f,"$subtitle?",n=function(){return this.subtitle["$!"]()["$!"]()},n.$$arity=0);return(a.defn(f,"$to_s",p=function(){return this.combined},p.$$arity=0),e)&&"to_s"})(r.base,null);l.$attr_reader("safe");l.$attr_reader("compat_mode");l.$attr_reader("sourcemap");l.$attr_reader("references");l.$attr_reader("counters");l.$attr_reader("callouts");l.$attr_reader("header");l.$attr_reader("base_dir");l.$attr_reader("options");l.$attr_reader("outfilesuffix");l.$attr_reader("parent_document");
l.$attr_reader("reader");l.$attr_reader("converter");l.$attr_reader("extensions");a.defn(l,"$initialize",C=function(g,h){var l,k,m,n,q,v,u,V,X,H,W,Ba,z=e,oa=e,y=e,B=e,w=B=e,Q=e,K=B=B=e,L=z=Q=B=z=e;null==g&&(g=e);null==h&&(h=d([],{}));C.$$p=null;(l=a.find_super_dispatcher(this,"initialize",C,!1),l.$$p=null,l).call(this,this,"document");if((l=z=h.$delete("parent"))===e||null==l||l.$$is_boolean&&1!=l){this.parent_document=e;this.references=d("ids footnotes links images indexterms includes".split(" "),
{ids:d([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:a.get("Set").$new()});this.callouts=r.get("Callouts").$new();oa=d([],{});(l=(k=!1!==(u=h["$[]"]("attributes"))&&u!==e&&null!=u?u:d([],{})).$each,l.$$p=(v=function(a,c){var d;null==a&&(a=e);null==c&&(c=e);(d=a["$start_with?"]("!"))===e||null==d||d.$$is_boolean&&1!=d?(d=a["$end_with?"]("!"))===e||null==d||d.$$is_boolean&&1!=d||(a=a.$chop(),c=e):(a=a["$[]"](b(1,-1,!1)),c=e);return oa["$[]="](a.$downcase(),c)},v.$$s=this,v.$$arity=2,
v),l).call(k);this.attribute_overrides=oa;if((l=(B=h["$[]"]("safe"))["$!"]())===e||null==l||l.$$is_boolean&&1!=l)if((l=a.get("Integer")["$==="](B))===e||null==l||l.$$is_boolean&&1!=l)try{this.safe=r.get("SafeMode").$const_get(B.$to_s().$upcase())}catch(R){if(a.rescue(R,[r.get("StandardError")]))try{this.safe=r.get("SafeMode").$$scope.get("SECURE")}finally{a.pop_exception()}else throw R;}else this.safe=B;else this.safe=r.get("SafeMode").$$scope.get("SECURE");this.compat_mode=oa["$key?"]("compat-mode");
this.sourcemap=h["$[]"]("sourcemap");this.converter=e;try{y=null!=a.get("Asciidoctor").$$scope.get("Extensions")?"constant":e}catch(R){if(R.$$class===a.NameError)y=e;else throw R;}this.extensions=e}else this.parent_document=z,l="base_dir",k=h,!1!==(m=k["$[]"](l))&&m!==e&&null!=m?m:k["$[]="](l,z.$base_dir()),this.references=(l=(k=z.$references()).$inject,l.$$p=(n=function(b,c){var d,f;null==c&&(c=e);c=a.to_ary(c);d=a.slice.call(c,0,c.length);f=d.splice(0,1)[0];null==f&&(f=e);d=d.splice(0,1)[0];null==
d&&(d=e);null==b&&(b=e);if(f["$=="]("footnotes"))b["$[]="]("footnotes",[]);else b["$[]="](f,d);return b},n.$$s=this,n.$$arity=2,n.$$has_top_level_mlhs_arg=!0,n),l).call(k,d([],{})),this.callouts=z.$callouts(),oa=z.$attributes().$dup(),(l=(m=["doctype","compat-mode","toc","toc-placement","toc-position"]).$each,l.$$p=(q=function(a){null==a&&(a=e);return oa.$delete(a)},q.$$s=this,q.$$arity=1,q),l).call(m),this.attribute_overrides=oa,this.safe=z.$safe(),this.compat_mode=z.$compat_mode(),this.sourcemap=
z.$sourcemap(),this.converter=z.$converter(),y=!1,this.extensions=z.$extensions();this.parsed=!1;this.header=e;this.counters=d([],{});this.attributes_modified=a.get("Set").$new();this.options=h;this.docinfo_processor_extensions=d([],{});B=(l="header_footer",u=h,!1!==(V=u["$[]"](l))&&V!==e&&null!=V?V:u["$[]="](l,!1));h.$freeze();w=this.attributes;w["$[]="]("sectids","");if(!1===B||B===e||null==B)w["$[]="]("notitle","");w["$[]="]("toc-placement","auto");w["$[]="]("stylesheet","");w["$[]="]("webfonts",
"");if(!1!==B&&B!==e&&null!=B)w["$[]="]("copycss","");w["$[]="]("prewrap","");w["$[]="]("attribute-undefined",r.get("Compliance").$attribute_undefined());w["$[]="]("attribute-missing",r.get("Compliance").$attribute_missing());w["$[]="]("iconfont-remote","");w["$[]="]("caution-caption","Caution");w["$[]="]("important-caption","Important");w["$[]="]("note-caption","Note");w["$[]="]("tip-caption","Tip");w["$[]="]("warning-caption","Warning");w["$[]="]("appendix-caption","Appendix");w["$[]="]("example-caption",
"Example");w["$[]="]("figure-caption","Figure");w["$[]="]("table-caption","Table");w["$[]="]("toc-title","Table of Contents");w["$[]="]("manname-title","NAME");w["$[]="]("untitled-label","Untitled");w["$[]="]("version-label","Version");w["$[]="]("last-update-label","Last updated");oa["$[]="]("asciidoctor","");oa["$[]="]("asciidoctor-version",r.get("VERSION"));Q=(l=(u=r.get("SafeMode").$constants()).$find,l.$$p=(X=function(a){var b=X.$$s||this;null==b.safe&&(b.safe=e);null==a&&(a=e);return r.get("SafeMode").$const_get(a)["$=="](b.safe)},
X.$$s=this,X.$$arity=1,X),l).call(u).$to_s().$downcase();oa["$[]="]("safe-mode-name",Q);oa["$[]="]("safe-mode-"+Q,"");oa["$[]="]("safe-mode-level",this.safe);oa["$[]="]("embedded",!1!==B&&B!==e&&null!=B?e:"");l="max-include-depth";V=oa;!1!==(H=V["$[]"](l))&&H!==e&&null!=H?H:V["$[]="](l,64);l="allow-uri-read";V=oa;!1!==(H=V["$[]"](l))&&H!==e&&null!=H?H:V["$[]="](l,e);oa["$[]="]("user-home",r.get("USER_HOME"));if((l=oa["$key?"]("numbered"))!==e&&null!=l&&(!l.$$is_boolean||1==l))oa["$[]="]("sectnums",
oa.$delete("numbered"));(l=h["$[]"]("base_dir"))===e||null==l||l.$$is_boolean&&1!=l?(l=oa["$[]"]("docdir"))===e||null==l||l.$$is_boolean&&1!=l?this.base_dir=oa["$[]="]("docdir",a.get("File").$expand_path(a.get("Dir").$pwd())):this.base_dir=oa["$[]="]("docdir",a.get("File").$expand_path(oa["$[]"]("docdir"))):this.base_dir=oa["$[]="]("docdir",a.get("File").$expand_path(h["$[]"]("base_dir")));if((l=B=h["$[]"]("backend"))!==e&&null!=l&&(!l.$$is_boolean||1==l))oa["$[]="]("backend",""+B);if((l=B=h["$[]"]("doctype"))!==
e&&null!=l&&(!l.$$is_boolean||1==l))oa["$[]="]("doctype",""+B);if((l=c(this.safe,r.get("SafeMode").$$scope.get("SERVER")))!==e&&null!=l&&(!l.$$is_boolean||1==l)){l="copycss";V=oa;!1!==(H=V["$[]"](l))&&H!==e&&null!=H?H:V["$[]="](l,e);l="source-highlighter";V=oa;!1!==(H=V["$[]"](l))&&H!==e&&null!=H?H:V["$[]="](l,e);l="backend";V=oa;!1!==(H=V["$[]"](l))&&H!==e&&null!=H?H:V["$[]="](l,r.get("DEFAULT_BACKEND"));if((l=(V=z["$!"](),!1!==V&&V!==e&&null!=V?oa["$key?"]("docfile"):V))!==e&&null!=l&&(!l.$$is_boolean||
1==l))oa["$[]="]("docfile",oa["$[]"]("docfile")["$[]"](b(p(oa["$[]"]("docdir").$length(),1),-1,!1)));oa["$[]="]("docdir","");oa["$[]="]("user-home",".");if((l=c(this.safe,r.get("SafeMode").$$scope.get("SECURE")))!==e&&null!=l&&(!l.$$is_boolean||1==l)){if((l=oa["$key?"]("max-attribute-value-size"))===e||null==l||l.$$is_boolean&&1!=l)oa["$[]="]("max-attribute-value-size",4096);if((l=oa.$fetch("linkcss","")["$nil?"]())===e||null==l||l.$$is_boolean&&1!=l)oa["$[]="]("linkcss","");l="icons";V=oa;!1!==(H=
V["$[]"](l))&&H!==e&&null!=H?H:V["$[]="](l,e)}}this.max_attribute_value_size=(l=K=(V="max-attribute-value-size",H=oa,!1!==(W=H["$[]"](V))&&W!==e&&null!=W?W:H["$[]="](V,e)))===e||null==l||l.$$is_boolean&&1!=l?e:K.$to_i().$abs();(l=(V=oa).$delete_if,l.$$p=(Ba=function(b,c){var d,f,g=e;null==b&&(b=e);null==c&&(c=e);g=!1;(d=c["$nil?"]())===e||null==d||d.$$is_boolean&&1!=d?((d=(f=a.get("String")["$==="](c),!1!==f&&f!==e&&null!=f?c["$end_with?"]("@"):f))===e||null==d||d.$$is_boolean&&1!=d||(c=c.$chop(),
g=!0),w["$[]="](b,c)):w.$delete(b);return g},Ba.$$s=this,Ba.$$arity=2,Ba),l).call(V);if(!1!==z&&z!==e&&null!=z)return l="doctype",H=w,!1!==(W=H["$[]"](l))&&W!==e&&null!=W?W:H["$[]="](l,r.get("DEFAULT_DOCTYPE")),this.reader=r.get("Reader").$new(g,h["$[]"]("cursor")),r.get("Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;if((l="backend",H=w,!1!==(W=H["$[]"](l))&&W!==e&&null!=W?W:H["$[]="](l,r.get("DEFAULT_BACKEND")))["$=="]("manpage"))w["$[]="]("doctype",oa["$[]="]("doctype",
"manpage"));else l="doctype",H=w,!1!==(W=H["$[]"](l))&&W!==e&&null!=W?W:H["$[]="](l,r.get("DEFAULT_DOCTYPE"));this.$update_backend_attributes(w["$[]"]("backend"),!0);z=(l=a.get("ENV")["$[]"]("SOURCE_DATE_EPOCH"))===e||null==l||l.$$is_boolean&&1!=l?a.get("Time").$now():a.get("Time").$at(a.get("ENV")["$[]"]("SOURCE_DATE_EPOCH").$to_i()).$utc();B=(l="localdate",H=w,!1!==(W=H["$[]"](l))&&W!==e&&null!=W?W:H["$[]="](l,z.$strftime("%Y-%m-%d")));if((l=Q=w["$[]"]("localtime"))===e||null==l||l.$$is_boolean&&
1!=l)try{Q=w["$[]="]("localtime",z.$strftime("%H:%M:%S %Z"))}catch(R){if(a.rescue(R,[r.get("StandardError")]))try{Q=w["$[]="]("localtime",z.$strftime("%H:%M:%S %z"))}finally{a.pop_exception()}else throw R;}l="localdatetime";H=w;!1!==(W=H["$[]"](l))&&W!==e&&null!=W?W:H["$[]="](l,""+B+" "+Q);l="docdate";H=w;!1!==(W=H["$[]"](l))&&W!==e&&null!=W?W:H["$[]="](l,B);l="doctime";H=w;!1!==(W=H["$[]"](l))&&W!==e&&null!=W?W:H["$[]="](l,Q);l="docdatetime";H=w;!1!==(W=H["$[]"](l))&&W!==e&&null!=W?W:H["$[]="](l,
""+B+" "+Q);l="stylesdir";H=w;!1!==(W=H["$[]"](l))&&W!==e&&null!=W?W:H["$[]="](l,".");l="iconsdir";H=w;!1!==(W=H["$[]"](l))&&W!==e&&null!=W?W:H["$[]="](l,a.get("File").$join(w.$fetch("imagesdir","./images"),"icons"));if(!1!==y&&y!==e&&null!=y){if((l=z=h["$[]"]("extensions_registry"))===e||null==l||l.$$is_boolean&&1!=l)z=(l=a.get("Proc")["$==="](L=h["$[]"]("extensions")))===e||null==l||l.$$is_boolean&&1!=l?r.get("Extensions").$$scope.get("Registry").$new():(l=(H=r.get("Extensions")).$build_registry,
l.$$p=L.$to_proc(),l).call(H);else if((l=!1!==(H=r.get("Extensions").$$scope.get("Registry")["$==="](z))&&H!==e&&null!=H?H:(W=a.get("RUBY_ENGINE_JRUBY"),!1!==W&&W!==e&&null!=W?a.get("AsciidoctorJ").$$scope.get("Extensions").$$scope.get("ExtensionRegistry")["$==="](z):W))===e||null==l||l.$$is_boolean&&1!=l)z=r.get("Extensions").$$scope.get("Registry").$new();this.extensions=z.$activate(this)}return this.reader=r.get("PreprocessorReader").$new(this,g,r.get("Reader").$$scope.get("Cursor").$new(w["$[]"]("docfile"),
this.base_dir))},C.$$arity=-1);a.defn(l,"$parse",E=function(a){var b,c,f,g,h,l=e,k=e;null==a&&(a=e);return(b=this.parsed)===e||null==b||b.$$is_boolean&&1!=b?(l=this,!1!==a&&a!==e&&null!=a&&(this.reader=r.get("PreprocessorReader").$new(l,a,r.get("Reader").$$scope.get("Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir))),(b=(c=k=(f=this.parent_document)===e||null==f||f.$$is_boolean&&1!=f?this.extensions:e,!1!==c&&c!==e&&null!=c?k["$preprocessors?"]():c))===e||null==b||b.$$is_boolean&&1!=
b||(b=(c=k.$preprocessors()).$each,b.$$p=(g=function(a){var b=g.$$s||this,c;null==b.reader&&(b.reader=e);null==a&&(a=e);return b.reader=!1!==(c=a.$process_method()["$[]"](l,b.reader))&&c!==e&&null!=c?c:b.reader},g.$$s=this,g.$$arity=1,g),b).call(c),r.get("Parser").$parse(this.reader,l,d(["header_only"],{header_only:this.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),this.$restore_attributes(),(b=(f=!1!==k&&k!==e&&null!=k)?k["$treeprocessors?"]():k)===e||null==b||b.$$is_boolean&&1!=b||(b=(f=
k.$treeprocessors()).$each,b.$$p=(h=function(a){var b,c,d,f=e;null==a&&(a=e);return(b=(c=(d=f=a.$process_method()["$[]"](l),!1!==d&&d!==e&&null!=d?r.get("Document")["$==="](f):d),!1!==c&&c!==e&&null!=c?f["$!="](l):c))===e||null==b||b.$$is_boolean&&1!=b?e:l=f},h.$$s=this,h.$$arity=1,h),b).call(f),this.parsed=!0,l):this},E.$$arity=-1);a.defn(l,"$counter",D=function(a,b){var c,d,f=e,g=e;null==b&&(b=e);if((c=(d=f=(g=this.attributes["$[]"](a))["$nil_or_empty?"]()["$!"](),!1!==d&&d!==e&&null!=d?this.counters["$key?"](a):
d))===e||null==c||c.$$is_boolean&&1!=c)(c=b["$nil?"]())===e||null==c||c.$$is_boolean&&1!=c?b.$to_i().$to_s()["$=="](b)&&(b=b.$to_i()):b=this.$nextval(!1!==f&&f!==e&&null!=f?g:0),this.counters["$[]="](a,b);else this.counters["$[]="](a,this.$nextval(g));return this.attributes["$[]="](a,this.counters["$[]"](a))},D.$$arity=-2);a.defn(l,"$counter_increment",y=function(a,b){var c=e,c=this.$counter(a);r.get("AttributeEntry").$new(a,c).$save_to(b.$attributes());return c},y.$$arity=2);a.defn(l,"$nextval",
v=function(b){var c,d=e;return(c=a.get("Integer")["$==="](b))===e||null==c||c.$$is_boolean&&1!=c?(d=b.$to_i(),(c=d.$to_s()["$!="](b.$to_s()))===e||null==c||c.$$is_boolean&&1!=c?p(d,1):p(b["$[]"](0).$ord(),1).$chr()):p(b,1)},v.$$arity=1);a.defn(l,"$register",N=function(b,c,d){var f,g,h=e,l=h=e;null==d&&(d=!1);h=b;"ids"["$==="](h)?(b=[].concat(a.to_a(c)),f=a.to_ary(b),h=null==f[0]?e:f[0],l=null==f[1]?e:f[1],b,!1!==(f=l)&&f!==e&&null!=f?f:l=p(p("[",h),"]"),d=!1!==d&&d!==e&&null!=d?this.references["$[]"]("ids")["$[]="](h,
l):(f=h,b=this.references["$[]"]("ids"),!1!==(g=b["$[]"](f))&&g!==e&&null!=g?g:b["$[]="](f,l))):d="footnotes"["$==="](h)||"indexterms"["$==="](h)?this.references["$[]"](b)["$<<"](c):(f=this.options["$[]"]("catalog_assets"))===e||null==f||f.$$is_boolean&&1!=f?e:this.references["$[]"](b)["$<<"](c);return d},N.$$arity=-3);a.defn(l,"$footnotes?",F=function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()},F.$$arity=0);a.defn(l,"$footnotes",I=function(){return this.references["$[]"]("footnotes")},
I.$$arity=0);a.defn(l,"$nested?",G=function(){return this.parent_document["$!"]()["$!"]()},G.$$arity=0);a.defn(l,"$embedded?",K=function(){return this.attributes["$key?"]("embedded")},K.$$arity=0);a.defn(l,"$extensions?",z=function(){return this.extensions["$!"]()["$!"]()},z.$$arity=0);a.defn(l,"$source",q=function(){var a;return(a=this.reader)===e||null==a||a.$$is_boolean&&1!=a?e:this.reader.$source()},q.$$arity=0);a.defn(l,"$source_lines",A=function(){var a;return(a=this.reader)===e||null==a||a.$$is_boolean&&
1!=a?e:this.reader.$source_lines()},A.$$arity=0);a.defn(l,"$doctype",U=function(){var a;return!1!==(a=this.doctype)&&a!==e&&null!=a?a:this.doctype=this.attributes["$[]"]("doctype")},U.$$arity=0);a.defn(l,"$backend",S=function(){var a;return!1!==(a=this.backend)&&a!==e&&null!=a?a:this.backend=this.attributes["$[]"]("backend")},S.$$arity=0);a.defn(l,"$basebackend?",Y=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},Y.$$arity=1);a.defn(l,"$title",ea=function(){return this.attributes["$[]"]("title")},
ea.$$arity=0);a.defn(l,"$title=",ca=function(a){var b,c;!1!==(b=this.header)&&b!==e&&null!=b?b:this.header=r.get("Section").$new(this,0);return b=[a],c=this.header,c["$title="].apply(c,b),b[b.length-1]},ca.$$arity=1);a.defn(l,"$doctitle",B=function(a){var b,c,f=e,g=e,h=e;null==a&&(a=d([],{}));if((b=(f=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())!==e&&null!=b&&(!b.$$is_boolean||1==b))f=this.$title();else if((b=(c=g=this.$first_section(),!1!==c&&c!==e&&null!=c?g["$title?"]():c))!==
e&&null!=b&&(!b.$$is_boolean||1==b))f=g.$title();else if((b=(c=a["$[]"]("use_fallback"),!1!==c&&c!==e&&null!=c?f=this.attributes["$[]"]("untitled-label"):c))===e||null==b||b.$$is_boolean&&1!=b)return e;return(b=h=a["$[]"]("partition"))===e||null==b||b.$$is_boolean&&1!=b?(b=(c=a["$[]"]("sanitize"),!1!==c&&c!==e&&null!=c?f["$include?"]("<"):c))===e||null==b||b.$$is_boolean&&1!=b?f:f.$gsub(r.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip():r.get("Title").$new(f,a.$merge(d(["separator"],{separator:h["$=="](!0)?
this.attributes["$[]"]("title-separator"):h})))},B.$$arity=-1);a.alias(l,"name","doctitle");a.defn(l,"$author",Q=function(){return this.attributes["$[]"]("author")},Q.$$arity=0);a.defn(l,"$revdate",Z=function(){return this.attributes["$[]"]("revdate")},Z.$$arity=0);a.defn(l,"$notitle",R=function(){var a;return a=this.attributes["$key?"]("showtitle")["$!"](),!1!==a&&a!==e&&null!=a?this.attributes["$key?"]("notitle"):a},R.$$arity=0);a.defn(l,"$noheader",ba=function(){return this.attributes["$key?"]("noheader")},
ba.$$arity=0);a.defn(l,"$nofooter",ga=function(){return this.attributes["$key?"]("nofooter")},ga.$$arity=0);a.defn(l,"$first_section",ia=function(){var a,b,c,d;return(a=this["$has_header?"]())===e||null==a||a.$$is_boolean&&1!=a?(a=(b=!1!==(d=this.blocks)&&d!==e&&null!=d?d:[]).$find,a.$$p=(c=function(a){null==a&&(a=e);return a.$context()["$=="]("section")},c.$$s=this,c.$$arity=1,c),a).call(b):this.header},ia.$$arity=0);a.defn(l,"$has_header?",ma=function(){var a;return(a=this.header)===e||null==a||
a.$$is_boolean&&1!=a?!1:!0},ma.$$arity=0);a.alias(l,"header?","has_header?");a.defn(l,"$<<",la=function(b){var c,d=la.$$p,f=e,g=e;la.$$p=null;f=[];for(g=0;g<arguments.length;g++)f[g]=arguments[g];b.$context()["$=="]("section")&&this.$assign_index(b);return(c=a.find_super_dispatcher(this,"<<",la,!1),c.$$p=d,c).apply(this,f)},la.$$arity=1);a.defn(l,"$finalize_header",na=function(a,b){null==b&&(b=!0);this.$clear_playback_attributes(a);this.$save_attributes();if(!1===b||b===e||null==b)a["$[]="]("invalid-header",
!0);return a},na.$$arity=-2);a.defn(l,"$save_attributes",fa=function(){var a,b,c,d,f=e,g=e,h=e,l=e,k=e,m=e,n=e,l=h=e;if((f=this.attributes)["$[]"]("basebackend")["$=="]("docbook")){if((a=!1!==(b=this["$attribute_locked?"]("toc"))&&b!==e&&null!=b?b:this.attributes_modified["$include?"]("toc"))===e||null==a||a.$$is_boolean&&1!=a)f["$[]="]("toc","");if((a=!1!==(b=this["$attribute_locked?"]("sectnums"))&&b!==e&&null!=b?b:this.attributes_modified["$include?"]("sectnums"))===e||null==a||a.$$is_boolean&&
1!=a)f["$[]="]("sectnums","")}if((a=!1!==(b=f["$key?"]("doctitle"))&&b!==e&&null!=b?b:(g=this.$doctitle())["$!"]())===e||null==a||a.$$is_boolean&&1!=a)f["$[]="]("doctitle",g);if((a=this.id)===e||null==a||a.$$is_boolean&&1!=a)this.id=f["$[]"]("css-signature");h=(a=l=(b=f.$delete("toc2"))===e||null==b||b.$$is_boolean&&1!=b?f["$[]"]("toc"):"left")===e||null==a||a.$$is_boolean&&1!=a?e:(a=(b=k=f.$fetch("toc-placement","macro"),!1!==b&&b!==e&&null!=b?k["$!="]("auto"):b))===e||null==a||a.$$is_boolean&&1!=
a?f["$[]"]("toc-position"):k;if((a=(b=!1!==l&&l!==e&&null!=l)?!1!==(c=l["$empty?"]()["$!"]())&&c!==e&&null!=c?c:h["$nil_or_empty?"]()["$!"]():l)!==e&&null!=a&&(!a.$$is_boolean||1==a)){m="left";n="toc2";h=(a=h["$nil_or_empty?"]()["$!"]())===e||null==a||a.$$is_boolean&&1!=a?(a=l["$empty?"]()["$!"]())===e||null==a||a.$$is_boolean&&1!=a?m:l:h;f["$[]="]("toc","");f["$[]="]("toc-placement","auto");l=h;if("left"["$==="](l)||"<"["$==="](l)||"&lt;"["$==="](l))f["$[]="]("toc-position","left");else if("right"["$==="](l)||
">"["$==="](l)||"&gt;"["$==="](l))f["$[]="]("toc-position","right");else if("top"["$==="](l)||"^"["$==="](l))f["$[]="]("toc-position","top");else if("bottom"["$==="](l)||"v"["$==="](l))f["$[]="]("toc-position","bottom");else"preamble"["$==="](l)||"macro"["$==="](l)?(f["$[]="]("toc-position","content"),f["$[]="]("toc-placement",h)):f.$delete("toc-position"),n=e;!1!==n&&n!==e&&null!=n&&(a="toc-class",b=f,!1!==(c=b["$[]"](a))&&c!==e&&null!=c?c:b["$[]="](a,n))}if((a=f["$key?"]("compat-mode"))===e||null==
a||a.$$is_boolean&&1!=a)this.compat_mode=!1;else{if((a=f["$has_key?"]("language"))!==e&&null!=a&&(!a.$$is_boolean||1==a))f["$[]="]("source-language",f["$[]"]("language"));this.compat_mode=!0}this.outfilesuffix=f["$[]"]("outfilesuffix");this.header_attributes=f.$dup();return(a=this.parent_document)===e||null==a||a.$$is_boolean&&1!=a?(a=(b=r.get("FLEXIBLE_ATTRIBUTES")).$each,a.$$p=(d=function(a){var b=d.$$s||this,c,f;null==b.attribute_overrides&&(b.attribute_overrides=e);null==a&&(a=e);return(c=(f=
b.attribute_overrides["$key?"](a),!1!==f&&f!==e&&null!=f?b.attribute_overrides["$[]"](a):f))===e||null==c||c.$$is_boolean&&1!=c?e:b.attribute_overrides.$delete(a)},d.$$s=this,d.$$arity=1,d),a).call(b):e},fa.$$arity=0);a.defn(l,"$restore_attributes",T=function(){var a;((a=this.parent_document)===e||null==a||a.$$is_boolean&&1!=a)&&this.callouts.$rewind();return this.attributes=this.header_attributes},T.$$arity=0);a.defn(l,"$clear_playback_attributes",ja=function(a){return a.$delete("attribute_entries")},
ja.$$arity=1);a.defn(l,"$playback_attributes",L=function(a){var b,c,d;return(b=a["$key?"]("attribute_entries"))===e||null==b||b.$$is_boolean&&1!=b?e:(b=(c=a["$[]"]("attribute_entries")).$each,b.$$p=(d=function(a){var b=d.$$s||this,c,f=e;null==b.attributes&&(b.attributes=e);null==a&&(a=e);f=a.$name();if((c=a.$negate())===e||null==c||c.$$is_boolean&&1!=c)return b.attributes["$[]="](f,a.$value()),f["$=="]("compat-mode")?b.compat_mode=!0:e;b.attributes.$delete(f);return f["$=="]("compat-mode")?b.compat_mode=
!1:e},d.$$s=this,d.$$arity=1,d),b).call(c)},L.$$arity=1);a.defn(l,"$set_attribute",O=function(a,b){var c,d=e,f=e;if((c=this["$attribute_locked?"](a))===e||null==c||c.$$is_boolean&&1!=c){d=(c=this.max_attribute_value_size)===e||null==c||c.$$is_boolean&&1!=c?this.$apply_attribute_value_subs(b):this.$apply_attribute_value_subs(b).$limit(this.max_attribute_value_size);f=a;if("backend"["$==="](f))this.$update_backend_attributes(d,this.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]());else if("doctype"["$==="](f))this.$update_doctype_attributes(d);
else this.attributes["$[]="](a,d);this.attributes_modified["$<<"](a);return!0}return!1},O.$$arity=2);a.defn(l,"$delete_attribute",ka=function(a){var b;return(b=this["$attribute_locked?"](a))===e||null==b||b.$$is_boolean&&1!=b?(this.attributes.$delete(a),this.attributes_modified["$<<"](a),!0):!1},ka.$$arity=1);a.defn(l,"$attribute_locked?",J=function(a){return this.attribute_overrides["$key?"](a)},J.$$arity=1);a.defn(l,"$apply_attribute_value_subs",pa=function(a){var b,c=e,d=e;if((b=c=r.get("AttributeEntryPassMacroRx").$match(a))===
e||null==b||b.$$is_boolean&&1!=b)return this.$apply_header_subs(a);if((b=c["$[]"](1)["$empty?"]()["$!"]())===e||null==b||b.$$is_boolean&&1!=b)return c["$[]"](2);d=this.$resolve_pass_subs(c["$[]"](1));return(b=d["$empty?"]())===e||null==b||b.$$is_boolean&&1!=b?this.$apply_subs(c["$[]"](2),d):c["$[]"](2)},pa.$$arity=1);a.defn(l,"$update_backend_attributes",ra=function(a,c){var d,f,g=e,h=e,l=e,k=e,m=e,n=h=e,p=e,q=e,n=e;null==c&&(c=!1);if((d=!1!==(f=c)&&f!==e&&null!=f?f:!1!==a&&a!==e&&null!=a?a["$!="](this.attributes["$[]"]("backend")):
a)===e||null==d||d.$$is_boolean&&1!=d)return e;g=this.attributes;h=g["$[]"]("backend");l=g["$[]"]("basebackend");k=g["$[]"]("doctype");if((d=a["$start_with?"]("xhtml"))!==e&&null!=d&&(!d.$$is_boolean||1==d))g["$[]="]("htmlsyntax","xml"),a=a["$[]"](b(1,-1,!1));else if(!((d=a["$start_with?"]("html"))===e||null==d||d.$$is_boolean&&1!=d||g["$[]"]("htmlsyntax")["$=="]("xml")))g["$[]="]("htmlsyntax","html");(d=m=r.get("BACKEND_ALIASES")["$[]"](a))===e||null==d||d.$$is_boolean&&1!=d||(a=m);!1!==h&&h!==e&&
null!=h&&(g.$delete("backend-"+h),!1!==k&&k!==e&&null!=k&&g.$delete("backend-"+h+"-doctype-"+k));!1!==k&&k!==e&&null!=k&&(g["$[]="]("doctype-"+k,""),g["$[]="]("backend-"+a+"-doctype-"+k,""));g["$[]="]("backend",a);g["$[]="]("backend-"+a,"");if((d=r.get("Converter").$$scope.get("BackendInfo")["$==="](this.converter=this.$create_converter()))===e||null==d||d.$$is_boolean&&1!=d){if(h=a.$sub(r.get("TrailingDigitsRx"),""),p=!1!==(d=r.get("DEFAULT_EXTENSIONS")["$[]"](h))&&d!==e&&null!=d?d:".html",n=p["$[]"](b(1,
-1,!1)),(d=this["$attribute_locked?"]("outfilesuffix"))===e||null==d||d.$$is_boolean&&1!=d)g["$[]="]("outfilesuffix",p)}else{h=this.converter.$basebackend();if((d=this["$attribute_locked?"]("outfilesuffix"))===e||null==d||d.$$is_boolean&&1!=d)g["$[]="]("outfilesuffix",this.converter.$outfilesuffix());n=this.converter.$filetype()}(d=q=g["$[]"]("filetype"))===e||null==d||d.$$is_boolean&&1!=d||g.$delete("filetype-"+q);g["$[]="]("filetype",n);g["$[]="]("filetype-"+n,"");if((d=n=r.get("DEFAULT_PAGE_WIDTHS")["$[]"](h))===
e||null==d||d.$$is_boolean&&1!=d)g.$delete("pagewidth");else g["$[]="]("pagewidth",n);if((d=h["$!="](l))!==e&&null!=d&&(!d.$$is_boolean||1==d)&&(!1!==l&&l!==e&&null!=l&&(g.$delete("basebackend-"+l),!1!==k&&k!==e&&null!=k&&g.$delete("basebackend-"+l+"-doctype-"+k)),g["$[]="]("basebackend",h),g["$[]="]("basebackend-"+h,""),!1!==k&&k!==e&&null!=k))g["$[]="]("basebackend-"+h+"-doctype-"+k,"");return this.backend=e},ra.$$arity=-2);a.defn(l,"$update_doctype_attributes",ua=function(a){var b,c=e,d=e,f=e,
g=e;if((b=!1!==a&&a!==e&&null!=a?a["$!="](this.attributes["$[]"]("doctype")):a)===e||null==b||b.$$is_boolean&&1!=b)return e;c=this.attributes;d=c["$[]"]("doctype");f=c["$[]"]("backend");g=c["$[]"]("basebackend");!1!==d&&d!==e&&null!=d&&(c.$delete("doctype-"+d),!1!==f&&f!==e&&null!=f&&c.$delete("backend-"+f+"-doctype-"+d),!1!==g&&g!==e&&null!=g&&c.$delete("basebackend-"+g+"-doctype-"+d));c["$[]="]("doctype",a);c["$[]="]("doctype-"+a,"");if(!1!==f&&f!==e&&null!=f)c["$[]="]("backend-"+f+"-doctype-"+
a,"");if(!1!==g&&g!==e&&null!=g)c["$[]="]("basebackend-"+g+"-doctype-"+a,"");return this.doctype=e},ua.$$arity=1);a.defn(l,"$create_converter",ta=function(){var b,c=e,f=e,g=e,h=e,l=e,c=d([],{});c["$[]="]("htmlsyntax",this.attributes["$[]"]("htmlsyntax"));f=(b=g=this.options["$[]"]("template_dir"))===e||null==b||b.$$is_boolean&&1!=b?(b=f=this.options["$[]"]("template_dirs"))===e||null==b||b.$$is_boolean&&1!=b?e:c["$[]="]("template_dirs",f):c["$[]="]("template_dirs",[g]);!1!==f&&f!==e&&null!=f&&(c["$[]="]("template_cache",
this.options.$fetch("template_cache",!0)),c["$[]="]("template_engine",this.options["$[]"]("template_engine")),c["$[]="]("template_engine_options",this.options["$[]"]("template_engine_options")),c["$[]="]("eruby",this.options["$[]"]("eruby")),c["$[]="]("safe",this.safe));l=(b=h=this.options["$[]"]("converter"))===e||null==b||b.$$is_boolean&&1!=b?r.get("Converter").$$scope.get("Factory").$default(!1):r.get("Converter").$$scope.get("Factory").$new(a.get("Hash")["$[]"](this.$backend(),h));return l.$create(this.$backend(),
c)},ta.$$arity=0);a.defn(l,"$convert",ha=function(a){var b,g,h,l=e,k=e,m=e,n=e;null==a&&(a=d([],{}));((b=this.parsed)===e||null==b||b.$$is_boolean&&1!=b)&&this.$parse();if((b=!1!==(g=c(this.safe,r.get("SafeMode").$$scope.get("SERVER")))&&g!==e&&null!=g?g:a["$empty?"]())===e||null==b||b.$$is_boolean&&1!=b)((b=this.attributes["$[]="]("outfile",a["$[]"]("outfile")))===e||null==b||b.$$is_boolean&&1!=b)&&this.attributes.$delete("outfile"),((b=this.attributes["$[]="]("outdir",a["$[]"]("outdir")))===e||
null==b||b.$$is_boolean&&1!=b)&&this.attributes.$delete("outdir");((b=this.converter)===e||null==b||b.$$is_boolean&&1!=b)&&this.$fail("asciidoctor: FAILED: missing converter for backend '"+this.$backend()+"'. Processing aborted.");this.$doctype()["$=="]("inline")?k=(b=(g=l=this.blocks["$[]"](0),!1!==g&&g!==e&&null!=g?l.$content_model()["$!="]("compound"):g))===e||null==b||b.$$is_boolean&&1!=b?e:l.$content():(m=(b=(g=a["$key?"]("header_footer"))===e||null==g||g.$$is_boolean&&1!=g?this.options["$[]"]("header_footer"):
a["$[]"]("header_footer"))===e||null==b||b.$$is_boolean&&1!=b?"embedded":"document",k=this.converter.$convert(this,m));!((b=this.parent_document)===e||null==b||b.$$is_boolean&&1!=b)||(b=(g=n=this.extensions,!1!==g&&g!==e&&null!=g?n["$postprocessors?"]():g))===e||null==b||b.$$is_boolean&&1!=b||(b=(g=n.$postprocessors()).$each,b.$$p=(h=function(a){var b=h.$$s||this;null==a&&(a=e);return k=a.$process_method()["$[]"](b,k)},h.$$s=this,h.$$arity=1,h),b).call(g);return k},ha.$$arity=-1);a.alias(l,"render",
"convert");a.defn(l,"$write",za=function(b,c){var d,f,g;if((d=r.get("Writer")["$==="](this.converter))===e||null==d||d.$$is_boolean&&1!=d){if((d=c["$respond_to?"]("write"))===e||null==d||d.$$is_boolean&&1!=d)(d=(f=a.get("File")).$open,d.$$p=(g=function(a){null==a&&(a=e);return a.$write(b)},g.$$s=this,g.$$arity=1,g),d).call(f,c,"w");else if((d=b["$nil_or_empty?"]())===e||null==d||d.$$is_boolean&&1!=d)c.$write(b.$chomp()),c.$write(r.get("EOL"));return e}return this.converter.$write(b,c)},za.$$arity=
2);a.defn(l,"$content",va=function(){var b,c=va.$$p,d=e,f=e;va.$$p=null;d=[];for(f=0;f<arguments.length;f++)d[f]=arguments[f];this.attributes.$delete("title");return(b=a.find_super_dispatcher(this,"content",va,!1),b.$$p=c,b).apply(this,d)},va.$$arity=0);a.defn(l,"$docinfo",ya=function(a,b){var g,h,l,k,m=e,p=e,q=e,V=e,X=m=e,H=e,p=p=e;null==a&&(a="head");null==b&&(b=e);if((g=c(this.$safe(),r.get("SafeMode").$$scope.get("SECURE")))===e||null==g||g.$$is_boolean&&1!=g){m=a["$=="]("head")?e:"-"+a;if(!1===
b||b===e||null==b)b=this.outfilesuffix;p=this.attributes["$[]"]("docinfodir");q=e;V=(g=(V=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())===e||null==g||g.$$is_boolean&&1!=g?(g=(h=V.$split(",")).$map,g.$$p="strip".$to_proc(),g).call(h):(g=this.attributes["$key?"]("docinfo2"))===e||null==g||g.$$is_boolean&&1!=g?(g=this.attributes["$key?"]("docinfo1"))===e||null==g||g.$$is_boolean&&1!=g?!1!==V&&V!==e&&null!=V?["private"]:e:["shared"]:["private","shared"];if(!1!==V&&V!==e&&null!=V){m="docinfo"+
m+b;if((g=V["$&"](["shared","shared-"+a])["$empty?"]())===e||null==g||g.$$is_boolean&&1!=g)X=this.$normalize_system_path(m,p),(g=q=this.$read_asset(X,d(["normalize"],{normalize:!0})))===e||null==g||g.$$is_boolean&&1!=g||(g=!1!==(l=H)&&l!==e&&null!=l?l:H=this.$resolve_docinfo_subs())===e||null==g||g.$$is_boolean&&1!=g||(q=(g=H["$=="]("attributes"))===e||null==g||g.$$is_boolean&&1!=g?this.$apply_subs(q,H):this.$sub_attributes(q));if((g=!1!==(l=this.attributes["$[]"]("docname")["$nil_or_empty?"]())&&
l!==e&&null!=l?l:V["$&"](["private","private-"+a])["$empty?"]())===e||null==g||g.$$is_boolean&&1!=g)X=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+m,p),(g=p=this.$read_asset(X,d(["normalize"],{normalize:!0})))===e||null==g||g.$$is_boolean&&1!=g||((g=!1!==(l=H)&&l!==e&&null!=l?l:H=this.$resolve_docinfo_subs())===e||null==g||g.$$is_boolean&&1!=g||(p=(g=H["$=="]("attributes"))===e||null==g||g.$$is_boolean&&1!=g?this.$apply_subs(p,H):this.$sub_attributes(p)),q=!1!==q&&q!==e&&null!=
q?""+q+r.get("EOL")+p:p)}(g=(l=this.extensions,!1!==l&&l!==e&&null!=l?this["$docinfo_processors?"](a):l))===e||null==g||g.$$is_boolean&&1!=g||(p=n((g=(l=this.docinfo_processor_extensions["$[]"](a)).$map,g.$$p=(k=function(a){var b=k.$$s||this;null==a&&(a=e);return a.$process_method()["$[]"](b)},k.$$s=this,k.$$arity=1,k),g).call(l).$compact(),r.get("EOL")),q=!1!==q&&q!==e&&null!=q?""+q+r.get("EOL")+p:p);return""+q}return""},ya.$$arity=-1);a.defn(l,"$resolve_docinfo_subs",wa=function(){var a,b=e;if((a=
this.attributes["$key?"]("docinfosubs"))===e||null==a||a.$$is_boolean&&1!=a)return"attributes";b=this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",e,"docinfo");return(a=b["$empty?"]())===e||null==a||a.$$is_boolean&&1!=a?b:e},wa.$$arity=0);a.defn(l,"$docinfo_processors?",P=function(a){var b,c;null==a&&(a="head");return(b=this.docinfo_processor_extensions["$key?"](a))===e||null==b||b.$$is_boolean&&1!=b?(b=(c=this.extensions,!1!==c&&c!==e&&null!=c?this.document.$extensions()["$docinfo_processors?"](a):
c))===e||null==b||b.$$is_boolean&&1!=b?this.docinfo_processor_extensions["$[]="](a,!1):this.docinfo_processor_extensions["$[]="](a,this.document.$extensions().$docinfo_processors(a))["$!"]()["$!"]():this.docinfo_processor_extensions["$[]"](a)["$!="](!1)},P.$$arity=-1);return(a.defn(l,"$to_s",u=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+((a=this.header["$!="](e))===e||null==a||a.$$is_boolean&&1!=a?e:this.header.$title()).$inspect()+
", blocks: "+this.blocks.$size()+"}>"},u.$$arity=0),e)&&"to_s"})(m.base,m.get("AbstractBlock"))}(a.base)};Opal.modules["asciidoctor/inline"]=function(a){var c=a.nil,p=a.module,n=a.klass,e=a.hash2;a.add_stubs("$attr_reader $attr_accessor $[] $nil_or_empty? $update_attributes $convert $converter".split(" "));return function(g){g=p(g,"Asciidoctor").$$scope;(function(g,$super){function b(){}var m=b=n(g,$super,"Inline",b),p,t,k,l;m.$attr_reader("text");m.$attr_reader("type");m.$attr_accessor("target");
a.defn(m,"$initialize",p=function(b,g,h,l){var k,m=c;null==h&&(h=c);null==l&&(l=e([],{}));p.$$p=null;(k=a.find_super_dispatcher(this,"initialize",p,!1),k.$$p=null,k).call(this,b,g);this.node_name="inline_"+g;this.text=h;this.id=l["$[]"]("id");this.type=l["$[]"]("type");this.target=l["$[]"]("target");return(k=(m=l["$[]"]("attributes"))["$nil_or_empty?"]())===c||null==k||k.$$is_boolean&&1!=k?this.$update_attributes(m):c},p.$$arity=-3);a.defn(m,"$block?",t=function(){return!1},t.$$arity=0);a.defn(m,
"$inline?",k=function(){return!0},k.$$arity=0);a.defn(m,"$convert",l=function(){return this.$converter().$convert(this)},l.$$arity=0);return a.alias(m,"render","convert")})(g.base,g.get("AbstractNode"))}(a.base)};Opal.modules["asciidoctor/list"]=function(a){var c=a.nil,p=a.module,n=a.klass;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));
return function(e){e=p(e,"Asciidoctor").$$scope;(function(e,$super){function d(){}var b=d=n(e,$super,"List",d),m=b.$$proto,p,t,k,l;m.context=m.document=m.style=c;a.alias(b,"items","blocks");a.alias(b,"content","blocks");a.alias(b,"items?","blocks?");a.defn(b,"$initialize",p=function(b,d){var e,g=p.$$p,l=c,k=c;p.$$p=null;l=[];for(k=0;k<arguments.length;k++)l[k]=arguments[k];return(e=a.find_super_dispatcher(this,"initialize",p,!1),e.$$p=g,e).apply(this,l)},p.$$arity=2);a.defn(b,"$outline?",t=function(){var a;
return!1!==(a=this.context["$=="]("ulist"))&&a!==c&&null!=a?a:this.context["$=="]("olist")},t.$$arity=0);a.defn(b,"$convert",k=function(){var b,d=k.$$p,e=c,g=e=c;k.$$p=null;e=[];for(g=0;g<arguments.length;g++)e[g]=arguments[g];return this.context["$=="]("colist")?(e=(b=a.find_super_dispatcher(this,"convert",k,!1),b.$$p=d,b).apply(this,e),this.document.$callouts().$next_list(),e):(b=a.find_super_dispatcher(this,"convert",k,!1),b.$$p=d,b).apply(this,e)},k.$$arity=0);a.alias(b,"render","convert");return(a.defn(b,
"$to_s",l=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},l.$$arity=0),c)&&"to_s"})(e.base,e.get("AbstractBlock"));(function(e,$super){function d(){}var b=d=n(e,$super,"ListItem",d),m=b.$$proto,p=b.$$scope,t,k,l,r,x,C,E;m.text=m.blocks=c;a.alias(b,"list","parent");b.$attr_accessor("marker");a.defn(b,"$initialize",t=function(b,d){var e;null==d&&(d=c);t.$$p=null;(e=a.find_super_dispatcher(this,
"initialize",t,!1),e.$$p=null,e).call(this,b,"list_item");this.text=d;return this.level=b.$level()},t.$$arity=-2);a.defn(b,"$text?",k=function(){return this.text["$nil_or_empty?"]()["$!"]()},k.$$arity=0);a.defn(b,"$text",l=function(){return this.$apply_subs(this.text)},l.$$arity=0);a.defn(b,"$simple?",r=function(){var a,b,d=c;return!1!==(a=this.blocks["$empty?"]())&&a!==c&&null!=a?a:(b=this.blocks.$size()["$=="](1)?p.get("List")["$==="](d=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1),!1!==
b&&b!==c&&null!=b?d["$outline?"]():b)},r.$$arity=0);a.defn(b,"$compound?",x=function(){return this["$simple?"]()["$!"]()},x.$$arity=0);a.defn(b,"$fold_first",C=function(a,b){var d,e,g,l,k,m,n=c,q=c;null==a&&(a=!1);null==b&&(b=!1);(d=(e=(g=n=this.blocks["$[]"](0),!1!==g&&g!==c&&null!=g?p.get("Block")["$==="](n):g),!1!==e&&e!==c&&null!=e?!1!==(g=n.$context()["$=="]("paragraph")?a["$!"]():n.$context()["$=="]("paragraph"))&&g!==c&&null!=g?g:(l=(k=!1!==(m=b)&&m!==c&&null!=m?m:a["$!"](),!1!==k&&k!==c&&
null!=k?n.$context()["$=="]("literal"):k),!1!==l&&l!==c&&null!=l?n["$option?"]("listparagraph"):l):e))===c||null==d||d.$$is_boolean&&1!=d||(q=this.$blocks().$shift(),((d=this.text["$nil_or_empty?"]())===c||null==d||d.$$is_boolean&&1!=d)&&q.$lines().$unshift(this.text),this.text=q.$source());return c},C.$$arity=-1);return(a.defn(b,"$to_s",E=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+
(!1!==(a=this.blocks)&&a!==c&&null!=a?a:[]).$size()+"}>"},E.$$arity=0),c)&&"to_s"})(e.base,e.get("AbstractBlock"))}(a.base)};Opal.modules["asciidoctor/parser"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function g(a,b){return"number"===
typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function d(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var b=a.nil,m=a.module,r=a.klass,t=a.hash2,k=a.hash,l=a.range,M=a.gvars;a.add_stubs("$new $lambda $start_with? $=~ $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $<< $parse_block_metadata_lines $is_next_line_document_title? $has_key? $finalize_header $nil_or_empty? $attributes $title= $sourcemap $cursor $parse_section_title $id= $set_attribute $delete $source_location= $header $[]= $id $parse_style_attribute $key? $parse_header_metadata $== $doctype $parse_manpage_header $match $sub_attributes $downcase $rstrip $strip $warn $prev_line_info $skip_blank_lines $is_next_line_section? $initialize_section $level $tr_s $join $read_lines_until $backend $context $empty? $blocks $has_header? $! $!= $attr? $attr $document $special $include? $sectname $+ $to_i $> $line_info $size $* $next_block $blocks? $style $context= $style= $parent= $content_model $shift $unwrap_standalone_preamble $dup $fetch $extensions $block_macros? $=== $parse_block_metadata_line $advance $read_line $terminator $to_s $masq $to_sym $registered_for_block? $strict_verbatim_paragraphs $unshift_line $markdown_syntax $chr $lstrip $>= $length $end_with? $parse_attributes $attribute_missing $clear $registered_for_block_macro? $config $each $process_method $replace $peek_line $path $- $lineno $next_list_item $callout_ids $callouts $items $next_list $next_outline_list $marker $find $next_labeled_list $is_section_title? $underline_style_section_titles $generate_id $level= $read_paragraph_lines $adjust_indentation! $set_option $catalog_inline_anchors $post_match $map! $split $pop $build_block $blockquote? $chop $tr $rekey $next_table $concat $title? $register $basename $sub_specialchars $assign_caption $ord $caption $caption= $title $update $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $< $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $marker= $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $sectname= $special= $update_attributes $peek_lines $is_single_line_section_title? $is_two_line_section_title? $single_line_section_level $abs $line_length $section_level $process_attribute_entries $next_line_empty? $process_authors $apply_header_subs $map $each_with_index $push $to_a $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $delete_attribute $save_to $resolve_ordered_list_marker $chomp $roman_numeral_to_int $parse_colspecs $create_columns $has_header_option= $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $buffer_has_unclosed_quotes? $pre_match $skip_matched_delimiter $buffer= $buffer $keep_cell_open $push_cellspec $close_cell $cell_open? $columns $assign_column_widths $partition_header_footer $upto $shorthand_property_syntax $each_char $call $sub! $gsub! $% $begin $gsub".split(" "));
return function(x){(function(m,$super){function x(){}var y=x=r(m,$super,"Parser",x),v=y.$$scope,N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q,Z,R,ba,ga,ia,ma,la,na,fa,T,ja,L,O,ka,J,pa,ra,ua,ta,ha,za,va,ya,wa,P,u,da,qa,sa,Ca,Da,Ea,Aa;a.cdecl(v,"BlockMatchData",v.get("Struct").$new("context","masq","tip","terminator"));a.cdecl(v,"TabRx",/\t/);a.cdecl(v,"TabIndentRx",/^\t+/);a.cdecl(v,"StartOfBlockProc",(N=y.$lambda,N.$$p=(F=function(a){var c=F.$$s||this,d,e;null==a&&(a=b);return!1!==(d=(e=a["$start_with?"]("["),
!1!==e&&e!==b&&null!=e?v.get("BlockAttributeLineRx")["$=~"](a):e))&&d!==b&&null!=d?d:c["$is_delimited_block?"](a)},F.$$s=y,F.$$arity=1,F),N).call(y));a.cdecl(v,"StartOfListProc",(N=y.$lambda,N.$$p=(I=function(a){null==a&&(a=b);return v.get("AnyListRx")["$=~"](a)},I.$$s=y,I.$$arity=1,I),N).call(y));a.cdecl(v,"StartOfBlockOrListProc",(N=y.$lambda,N.$$p=(G=function(a){var c=G.$$s||this,d,e,f;null==a&&(a=b);return!1!==(d=!1!==(e=c["$is_delimited_block?"](a))&&e!==b&&null!=e?e:(f=a["$start_with?"]("["),
!1!==f&&f!==b&&null!=f?v.get("BlockAttributeLineRx")["$=~"](a):f))&&d!==b&&null!=d?d:v.get("AnyListRx")["$=~"](a)},G.$$s=y,G.$$arity=1,G),N).call(y));a.cdecl(v,"NoOp",b);a.defn(y,"$initialize",K=function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")},K.$$arity=0);a.defs(y,"$parse",z=function(c,d,e){var f,g,h=b,l=b;null==e&&(e=t([],{}));h=this.$parse_document_header(c,d);if((f=e["$[]"]("header_only"))===b||null==f||f.$$is_boolean&&1!=f)for(;(g=c["$has_more_lines?"]())!==
b&&null!=g&&(!g.$$is_boolean||1==g);)if(e=this.$next_section(c,d,h),g=a.to_ary(e),l=null==g[0]?b:g[0],h=null==g[1]?b:g[1],e,!1!==l&&l!==b&&null!=l)d["$<<"](l);return d},z.$$arity=-3);a.defs(y,"$parse_document_header",q=function(c,d){var e,f,g=b,h=b,l=b,m=b,n=b,p=b,q=h=n=b,h=h=b,g=this.$parse_block_metadata_lines(c,d);if((e=(f=h=this["$is_next_line_document_title?"](c,g),!1!==f&&f!==b&&null!=f?g["$has_key?"]("title"):f))!==b&&null!=e&&(!e.$$is_boolean||1==e))return d.$finalize_header(g,!1);l=b;if((e=
(m=d.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===b||null==e||e.$$is_boolean&&1!=e)e=[l=m],f=d,f["$title="].apply(f,e),e[e.length-1];n=b;if(!1!==h&&h!==b&&null!=h){(e=d.$sourcemap())===b||null==e||e.$$is_boolean&&1!=e||(p=c.$cursor());f=this.$parse_section_title(c,d);e=a.to_ary(f);d["$id="](null==e[0]?b:e[0]);n=null==e[2]?b:e[2];h=null==e[4]?b:e[4];f;if(!1===l||l===b||null==l)e=[l=n],f=d,f["$title="].apply(f,e),e[e.length-1];!1!==h&&h!==b&&null!=h||d.$set_attribute("compat-mode","");(e=
q=g.$delete("separator"))===b||null==e||e.$$is_boolean&&1!=e||d.$set_attribute("title-separator",q);!1!==p&&p!==b&&null!=p&&(e=[p],f=d.$header(),f["$source_location="].apply(f,e),e[e.length-1]);d.$attributes()["$[]="]("doctitle",n);if((e=d.$id())===b||null==e||e.$$is_boolean&&1!=e){if(!((e=h=g.$delete(1))===b||null==e||e.$$is_boolean&&1!=e||(h=k(1,h),this.$parse_style_attribute(h,c),(e=h["$key?"]("id"))===b||null==e||e.$$is_boolean&&1!=e)))g["$[]="]("id",h["$[]"]("id"));e=[g.$delete("id")];f=d;f["$id="].apply(f,
e);e[e.length-1]}else g.$delete(1),g.$delete("id");this.$parse_header_metadata(c,d)}if((e=!1!==(f=(m=d.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())&&f!==b&&null!=f?f:m["$=="](n))===b||null==e||e.$$is_boolean&&1!=e)e=[l=m],f=d,f["$title="].apply(f,e),e[e.length-1];if(!1!==l&&l!==b&&null!=l)d.$attributes()["$[]="]("doctitle",l);d.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(c,d);return d.$finalize_header(g)},q.$$arity=2);a.defs(y,"$parse_manpage_header",A=function(a,c){var d,e=
b,e=e=b;(d=e=v.get("ManpageTitleVolnumRx").$match(c.$attributes()["$[]"]("doctitle")))===b||null==d||d.$$is_boolean&&1!=d?(this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed manpage title"),c.$attributes()["$[]="]("mantitle",c.$attributes()["$[]"]("doctitle")),c.$attributes()["$[]="]("manvolnum","1")):(c.$attributes()["$[]="]("mantitle",c.$sub_attributes(e["$[]"](1).$rstrip().$downcase())),c.$attributes()["$[]="]("manvolnum",e["$[]"](2).$strip()));a.$skip_blank_lines();if((d=this["$is_next_line_section?"](a,
t([],{})))===b||null==d||d.$$is_boolean&&1!=d)return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section expected");e=this.$initialize_section(a,c,t([],{}));if(e.$level()["$=="](1)){e=a.$read_lines_until(t(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," ");if((d=e=v.get("ManpageNamePurposeRx").$match(e))===b||null==d||d.$$is_boolean&&1!=d)return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed name section body");c.$attributes()["$[]="]("manname",
c.$sub_attributes(e["$[]"](1)));c.$attributes()["$[]="]("manpurpose",e["$[]"](2));return c.$backend()["$=="]("manpage")?(c.$attributes()["$[]="]("docname",c.$attributes()["$[]"]("manname")),c.$attributes()["$[]="]("outfilesuffix","."+c.$attributes()["$[]"]("manvolnum"))):b}return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section title must be at level 1")},A.$$arity=2);a.defs(y,"$next_section",U=function(d,e,g){var h,l,k,m,q=b,r=b,u=b,z=b,B=b,w=b,x=b,Q=b,y=x=b,R=y=y=b,K=b,B=r=
b;null==g&&(g=t([],{}));u=r=q=!1;(h=(l=(k=e.$context()["$=="]("document"))?e.$blocks()["$empty?"]():e.$context()["$=="]("document"),!1!==l&&l!==b&&null!=l?!1!==(k=!1!==(m=z=e["$has_header?"]())&&m!==b&&null!=m?m:g.$delete("invalid-header"))&&k!==b&&null!=k?k:this["$is_next_line_section?"](d,g)["$!"]():l))===b||null==h||h.$$is_boolean&&1!=h?(B=e.$document().$doctype(),w=this.$initialize_section(d,e,g),g=(h=x=g["$[]"]("title"))===b||null==h||h.$$is_boolean&&1!=h?t([],{}):t(["title"],{title:x}),x=w.$level(),
(h=(l=x["$=="](0))?B["$=="]("book"):x["$=="](0))===b||null==h||h.$$is_boolean&&1!=h?Q=[c(x,1)]:(r=w.$special()["$!"](),Q=(h=(l=w.$special(),!1!==l&&l!==b&&null!=l?["preface","appendix"]["$include?"](w.$sectname()):l))===b||null==h||h.$$is_boolean&&1!=h?[c(x,1)]:[c(x,2)])):(B=e.$doctype(),(h=!1!==(l=z)&&l!==b&&null!=l?l:(k=B["$=="]("book"))?g["$[]"](1)["$!="]("abstract"):B["$=="]("book"))===b||null==h||h.$$is_boolean&&1!=h||(q=u=v.get("Block").$new(e,"preamble",t(["content_model"],{content_model:"compound"})),
(h=(l=B["$=="]("book"))?e["$attr?"]("preface-title"):B["$=="]("book"))===b||null==h||h.$$is_boolean&&1!=h||(h=[e.$attr("preface-title")],l=q,l["$title="].apply(l,h),h[h.length-1]),e["$<<"](q)),w=e,x=0,Q=(h=e.$attributes()["$has_key?"]("fragment"))===b||null==h||h.$$is_boolean&&1!=h?B["$=="]("book")?[0,1]:[1]:b);for(d.$skip_blank_lines();(l=d["$has_more_lines?"]())!==b&&null!=l&&(!l.$$is_boolean||1==l);){this.$parse_block_metadata_lines(d,w,g);if((l=y=this["$is_next_line_section?"](d,g))===b||null==
l||l.$$is_boolean&&1!=l)(y=d.$line_info(),(l=R=this.$next_block(d,!1!==(k=u)&&k!==b&&null!=k?k:w,g,t(["parse_metadata"],{parse_metadata:!1})))===b||null==l||l.$$is_boolean&&1!=l)||(!1!==r&&r!==b&&null!=r&&((l=w["$blocks?"]()["$!"]())===b||null==l||l.$$is_boolean&&1!=l?w.$blocks().$size()["$=="](1)&&((K=w.$blocks()["$[]"](0),(l=(k=u["$!"](),!1!==k&&k!==b&&null!=k?K.$content_model()["$=="]("compound"):k))===b||null==l||l.$$is_boolean&&1!=l)?(l=K.$content_model()["$!="]("compound"))===b||null==l||l.$$is_boolean&&
1!=l||(u=v.get("Block").$new(w,"open",t(["content_model"],{content_model:"compound"})),l=["partintro"],k=u,k["$style="].apply(k,l),l[l.length-1],w.$blocks().$shift(),K.$style()["$=="]("partintro")&&(l=["paragraph"],k=K,k["$context="].apply(k,l),l[l.length-1],l=[b],k=K,k["$style="].apply(k,l),l[l.length-1]),l=[u],k=K,k["$parent="].apply(k,l),l[l.length-1],u["$<<"](K),l=[u],k=R,k["$parent="].apply(k,l),l[l.length-1],w["$<<"](u)):this.$warn("asciidoctor: ERROR: "+y+": illegal block content outside of partintro block")):
(l=R.$style()["$!="]("partintro"))===b||null==l||l.$$is_boolean&&1!=l||(R.$context()["$=="]("paragraph")?(l=["open"],k=R,k["$context="].apply(k,l),l[l.length-1],l=["partintro"],k=R,k["$style="].apply(k,l),l[l.length-1]):(u=v.get("Block").$new(w,"open",t(["content_model"],{content_model:"compound"})),l=["partintro"],k=u,k["$style="].apply(k,l),l[l.length-1],l=[u],k=R,k["$parent="].apply(k,l),l[l.length-1],w["$<<"](u)))),(!1!==(l=u)&&l!==b&&null!=l?l:w)["$<<"](R),g=t([],{}));else if(y=c(y,w.$document().$attr("leveloffset",
0).$to_i()),(l=!1!==(k=p(y,x))&&k!==b&&null!=k?k:w.$context()["$=="]("document")?y["$=="](0):w.$context()["$=="]("document"))===b||null==l||l.$$is_boolean&&1!=l){(l=(k=y["$=="](0))?B["$!="]("book"):y["$=="](0))===b||null==l||l.$$is_boolean&&1!=l||this.$warn("asciidoctor: ERROR: "+d.$line_info()+": only book doctypes can contain level 0 sections");break}else(l=y["$=="](0)?B["$!="]("book"):y["$=="](0))===b||null==l||l.$$is_boolean&&1!=l?(l=!1!==Q&&Q!==b&&null!=Q?Q["$include?"](y)["$!"]():Q)===b||null==
l||l.$$is_boolean&&1!=l||this.$warn(c(c("asciidoctor: WARNING: "+d.$line_info()+": section title out of sequence: ","expected "+((l=p(Q.$size(),1))===b||null==l||l.$$is_boolean&&1!=l?"level":"levels")+" "+n(Q," or ")+", "),"got level "+y)):this.$warn("asciidoctor: ERROR: "+d.$line_info()+": only book doctypes can contain level 0 sections"),k=this.$next_section(d,w,g),l=a.to_ary(k),y=null==l[0]?b:l[0],g=null==l[1]?b:l[1],k,w["$<<"](y);d.$skip_blank_lines()}if(!1!==r&&r!==b&&null!=r)((h=(l=w["$blocks?"](),
!1!==l&&l!==b&&null!=l?w.$blocks()["$[]"](-1).$context()["$=="]("section"):l))===b||null==h||h.$$is_boolean&&1!=h)&&this.$warn("asciidoctor: ERROR: "+d.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(!1!==q&&q!==b&&null!=q)if(r=e,(h=q["$blocks?"]())===b||null==h||h.$$is_boolean&&1!=h)r.$blocks().$shift();else if((h=(l=(k=v.get("Compliance").$unwrap_standalone_preamble(),!1!==k&&k!==b&&null!=k?r.$blocks().$size()["$=="](1):k),!1!==l&&l!==b&&null!=
l?B["$!="]("book"):l))!==b&&null!=h&&(!h.$$is_boolean||1==h))for(r.$blocks().$shift();(l=B=q.$blocks().$shift())!==b&&null!=l&&(!l.$$is_boolean||1==l);)l=[r],k=B,k["$parent="].apply(k,l),l[l.length-1],r["$<<"](B);return[(h=w["$!="](e))===b||null==h||h.$$is_boolean&&1!=h?b:w,g.$dup()]},U.$$arity=-3);a.defs(y,"$next_block",S=function(d,h,k,m){var n,q,r,u,z,w,B,x,y,Q,R,K=b,C=b,L=b,J=b,O=b,U=b,ba=b,ca=b,A=b,G=b,N=b,ka=b,F=b,D=z=b,Z=b,ga=b,I=b,S=I=b,P=z=I=z=b,M=I=A=A=b,T=b,ia=b,ma=z=A=A=M=I=z=A=M=b,Y=
F=D=z=I=z=z=b,pa=b,ja=b,ea=F=D=D=b,fa=K=b,la=b;null==k&&(k=t([],{}));null==m&&(m=t([],{}));K=d.$skip_blank_lines();if((n=d["$has_more_lines?"]())===b||null==n||n.$$is_boolean&&1!=n)return b;(n=(q=C=m["$[]"]("text"),!1!==q&&q!==b&&null!=q?p(K,0):q))===b||null==n||n.$$is_boolean&&1!=n||(m.$delete("text"),C=!1);L=m.$fetch("parse_metadata",!0);J=h.$document();(n=O=J.$extensions())===b||null==n||n.$$is_boolean&&1!=n?U=ba=!1:(U=O["$blocks?"](),ba=O["$block_macros?"]());ca=v.get("ListItem")["$==="](h);G=
A=b;N=J.$sourcemap();for(ka=b;(q=(r=A["$!"](),!1!==r&&r!==b&&null!=r?d["$has_more_lines?"]():r))!==b&&null!=q&&(!q.$$is_boolean||1==q);)if((q=(r=!1!==L&&L!==b&&null!=L)?this.$parse_block_metadata_line(d,J,k,m):L)===b||null==q||q.$$is_boolean&&1!=q){!1!==N&&N!==b&&null!=N&&(ka=d.$cursor());F=d.$read_line();z=!1;ga=Z=D=b;(q=k["$[]"](1))===b||null==q||q.$$is_boolean&&1!=q||(r=this.$parse_style_attribute(k,d),q=a.to_ary(r),G=null==q[0]?b:q[0],r);(q=I=this["$is_delimited_block?"](F,!0))===b||null==q||
q.$$is_boolean&&1!=q||((z=!0,D=Z=I.$context(),ga=I.$terminator(),(q=G["$!"]())===b||null==q||q.$$is_boolean&&1!=q)?(q=G["$!="](D.$to_s()))===b||null==q||q.$$is_boolean&&1!=q||((q=I.$masq()["$include?"](G))===b||null==q||q.$$is_boolean&&1!=q?(q=(r=I.$masq()["$include?"]("admonition"),!1!==r&&r!==b&&null!=r?v.get("ADMONITION_STYLES")["$include?"](G):r))===b||null==q||q.$$is_boolean&&1!=q?(q=(r=!1!==U&&U!==b&&null!=U)?O["$registered_for_block?"](G,D):U)===b||null==q||q.$$is_boolean&&1!=q?(this.$warn("asciidoctor: WARNING: "+
d.$prev_line_info()+": invalid style for "+D+" block: "+G),G=D.$to_s()):D=G.$to_sym():D="admonition":D=G.$to_sym()):G=k["$[]="]("style",D.$to_s()));if(!1===z||z===b||null==z)for(;(r=!0)!==b&&null!=r&&(!r.$$is_boolean||1==r);){if((r=(u=(z=!1!==G&&G!==b&&null!=G)?v.get("Compliance").$strict_verbatim_paragraphs():G,!1!==u&&u!==b&&null!=u?v.get("VERBATIM_STYLES")["$include?"](G):u))!==b&&null!=r&&(!r.$$is_boolean||1==r)){D=G.$to_sym();d.$unshift_line(F);break}if(!1===C||C===b||null==C)if(I=(r=v.get("Compliance").$markdown_syntax())===
b||null==r||r.$$is_boolean&&1!=r?F.$chr():F.$lstrip().$chr(),(r=(u=(z=v.get("LAYOUT_BREAK_LINES")["$has_key?"](I),!1!==z&&z!==b&&null!=z?e(F.$length(),3):z),!1!==u&&u!==b&&null!=u?((z=v.get("Compliance").$markdown_syntax())===b||null==z||z.$$is_boolean&&1!=z?v.get("LayoutBreakLineRx"):v.get("LayoutBreakLinePlusRx"))["$=~"](F):u))!==b&&null!=r&&(!r.$$is_boolean||1==r)){A=v.get("Block").$new(h,v.get("LAYOUT_BREAK_LINES")["$[]"](I),t(["content_model"],{content_model:"empty"}));break}else if((r=(u=F["$end_with?"]("]"),
!1!==u&&u!==b&&null!=u?S=v.get("MediaBlockMacroRx").$match(F):u))!==b&&null!=r&&(!r.$$is_boolean||1==r)){z=S["$[]"](1).$to_sym();A=v.get("Block").$new(h,z,t(["content_model"],{content_model:"empty"}));I=z["$=="]("image")?["alt","width","height"]:z["$=="]("video")?["poster","width","height"]:[];if(!1!==G&&G!==b&&null!=G){if(z["$=="]("image"))k["$[]="]("alt",G);k.$delete("style");G=b}A.$parse_attributes(S["$[]"](3),I,t(["unescape_input","sub_input","sub_result","into"],{unescape_input:z["$=="]("image"),
sub_input:!0,sub_result:!1,into:k}));z=A.$sub_attributes(S["$[]"](2),t(["attribute_missing"],{attribute_missing:"drop-line"}));if((r=z["$empty?"]())!==b&&null!=r&&(!r.$$is_boolean||1==r)){if(J.$attributes().$fetch("attribute-missing",v.get("Compliance").$attribute_missing())["$=="]("skip"))return v.get("Block").$new(h,"paragraph",t(["content_model","source"],{content_model:"simple",source:[F]}));k.$clear();return b}k["$[]="]("target",z);break}else if((r=(u=I["$=="]("t"))?S=v.get("TocBlockMacroRx").$match(F):
I["$=="]("t"))!==b&&null!=r&&(!r.$$is_boolean||1==r)){A=v.get("Block").$new(h,"toc",t(["content_model"],{content_model:"empty"}));A.$parse_attributes(S["$[]"](1),[],t(["sub_result","into"],{sub_result:!1,into:k}));break}else if((r=(u=(z=!1!==ba&&ba!==b&&null!=ba)?S=v.get("GenericBlockMacroRx").$match(F):ba,!1!==u&&u!==b&&null!=u?P=O["$registered_for_block_macro?"](S["$[]"](1)):u))!==b&&null!=r&&(!r.$$is_boolean||1==r)){z=S["$[]"](2);A=S["$[]"](3);if(P.$config()["$[]"]("content_model")["$=="]("attributes"))((r=
A["$empty?"]())===b||null==r||r.$$is_boolean&&1!=r)&&J.$parse_attributes(A,!1!==(r=P.$config()["$[]"]("pos_attrs"))&&r!==b&&null!=r?r:[],t(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:k}));else k["$[]="]("text",A);(r=A=P.$config()["$[]"]("default_attrs"))===b||null==r||r.$$is_boolean&&1!=r||(r=(u=A).$each,r.$$p=(w=function(a,c){var d,e,f;null==a&&(a=b);null==c&&(c=b);return d=a,e=k,!1!==(f=e["$[]"](d))&&f!==b&&null!=f?f:e["$[]="](d,c)},w.$$s=this,w.$$arity=2,w),r).call(u);if((r=
A=P.$process_method()["$[]"](h,z,k.$dup()))===b||null==r||r.$$is_boolean&&1!=r)return k.$clear(),b;k.$replace(A.$attributes());break}if((r=S=v.get("CalloutListRx").$match(F))!==b&&null!=r&&(!r.$$is_boolean||1==r)){A=v.get("List").$new(h,"colist");k["$[]="]("style","arabic");d.$unshift_line(F);for(I=1;(z=!1!==(B=S)&&B!==b&&null!=B?B:(x=d["$has_more_lines?"](),!1!==x&&x!==b&&null!=x?S=v.get("CalloutListRx").$match(d.$peek_line()):x))!==b&&null!=z&&(!z.$$is_boolean||1==z);){(z=S["$[]"](1).$to_i()["$!="](I))===
b||null==z||z.$$is_boolean&&1!=z||this.$warn("asciidoctor: WARNING: "+d.$path()+": line "+g(d.$lineno(),2)+": callout list item index: expected "+I+" got "+S["$[]"](1));M=this.$next_list_item(d,A,S);I=c(I,1);if(!1!==M&&M!==b&&null!=M)if(A["$<<"](M),T=J.$callouts().$callout_ids(A.$items().$size()),(z=T["$empty?"]()["$!"]())===b||null==z||z.$$is_boolean&&1!=z)this.$warn("asciidoctor: WARNING: "+d.$path()+": line "+g(d.$lineno(),2)+": no callouts refer to list item "+A.$items().$size());else M.$attributes()["$[]="]("coids",
T);S=b}J.$callouts().$next_list();break}else if((r=v.get("UnorderedListRx")["$=~"](F))!==b&&null!=r&&(!r.$$is_boolean||1==r)){d.$unshift_line(F);A=this.$next_outline_list(d,"ulist",h);break}else if((r=S=v.get("OrderedListRx").$match(F))!==b&&null!=r&&(!r.$$is_boolean||1==r)){d.$unshift_line(F);A=this.$next_outline_list(d,"olist",h);if((r=(z=k["$[]"]("style")["$!"](),!1!==z&&z!==b&&null!=z?A.$attributes()["$[]"]("style")["$!"]():z))!==b&&null!=r&&(!r.$$is_boolean||1==r))if(ia=A.$items()["$[]"](0).$marker(),
(r=ia["$start_with?"]("."))===b||null==r||r.$$is_boolean&&1!=r)G=(r=(z=v.get("ORDERED_LIST_STYLES")).$find,r.$$p=(y=function(a){null==a&&(a=b);return v.get("OrderedListMarkerRxMap")["$[]"](a)["$=~"](ia)},y.$$s=this,y.$$arity=1,y),r).call(z),k["$[]="]("style",(!1!==(r=G)&&r!==b&&null!=r?r:v.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());else k["$[]="]("style",(!1!==(r=v.get("ORDERED_LIST_STYLES")["$[]"](g(ia.$length(),1)))&&r!==b&&null!=r?r:v.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());break}else if((r=
S=v.get("DescriptionListRx").$match(F))!==b&&null!=r&&(!r.$$is_boolean||1==r)){d.$unshift_line(F);A=this.$next_labeled_list(d,S,h);break}else if((r=(B=!1!==(x=G["$=="]("float"))&&x!==b&&null!=x?x:G["$=="]("discrete"),!1!==B&&B!==b&&null!=B?this["$is_section_title?"](F,(x=v.get("Compliance").$underline_style_section_titles())===b||null==x||x.$$is_boolean&&1!=x?b:d.$peek_line(!0)):B))!==b&&null!=r&&(!r.$$is_boolean||1==r)){d.$unshift_line(F);B=this.$parse_section_title(d,J);r=a.to_ary(B);M=null==r[0]?
b:r[0];A=null==r[1]?b:r[1];z=null==r[2]?b:r[2];I=null==r[3]?b:r[3];B;if(!1!==A&&A!==b&&null!=A)k["$[]="]("reftext",A);(r=k["$has_key?"]("id"))===b||null==r||r.$$is_boolean&&1!=r||(!1!==(r=M)&&r!==b&&null!=r?r:M=k["$[]"]("id"));A=v.get("Block").$new(h,"floating_title",t(["content_model"],{content_model:"empty"}));(r=M["$nil_or_empty?"]())===b||null==r||r.$$is_boolean&&1!=r?r=[M]:(M=v.get("Section").$new(h),r=[z],B=M,B["$title="].apply(B,r),r[r.length-1],r=[M.$generate_id()]);B=A;B["$id="].apply(B,
r);r[r.length-1];r=[I];B=A;B["$level="].apply(B,r);r[r.length-1];r=[z];B=A;B["$title="].apply(B,r);r[r.length-1];break}else if((r=(B=!1!==G&&G!==b&&null!=G)?G["$!="]("normal"):G)!==b&&null!=r&&(!r.$$is_boolean||1==r))if((r=v.get("PARAGRAPH_STYLES")["$include?"](G))===b||null==r||r.$$is_boolean&&1!=r)if((r=v.get("ADMONITION_STYLES")["$include?"](G))===b||null==r||r.$$is_boolean&&1!=r)if((r=(B=!1!==U&&U!==b&&null!=U)?O["$registered_for_block?"](G,"paragraph"):U)===b||null==r||r.$$is_boolean&&1!=r)this.$warn("asciidoctor: WARNING: "+
d.$prev_line_info()+": invalid style for paragraph: "+G),G=b;else{D=G.$to_sym();Z="paragraph";d.$unshift_line(F);break}else{D="admonition";Z="paragraph";d.$unshift_line(F);break}else{D=G.$to_sym();Z="paragraph";d.$unshift_line(F);break}A=(r=K["$=="](0))?ca:K["$=="](0);if((r=(B=G["$!="]("normal"),!1!==B&&B!==b&&null!=B?v.get("LiteralParagraphRx")["$=~"](F):B))===b||null==r||r.$$is_boolean&&1!=r){d.$unshift_line(F);A=this.$read_paragraph_lines(d,A,t(["skip_line_comments"],{skip_line_comments:!0}));
if((r=A["$empty?"]())!==b&&null!=r&&(!r.$$is_boolean||1==r))return d.$advance(),b;this.$catalog_inline_anchors(A.$join(v.get("EOL")),J);z=A["$[]"](0);if((r=(B=C["$!"](),!1!==B&&B!==b&&null!=B?ma=v.get("AdmonitionParagraphRx").$match(z):B))===b||null==r||r.$$is_boolean&&1!=r)if((r=(B=(x=C["$!"](),!1!==x&&x!==b&&null!=x?v.get("Compliance").$markdown_syntax():x),!1!==B&&B!==b&&null!=B?z["$start_with?"]("> "):B))===b||null==r||r.$$is_boolean&&1!=r)if((r=(x=C["$!"](),!1!==x&&x!==b&&null!=x?this["$blockquote?"](A,
z):x))===b||null==r||r.$$is_boolean&&1!=r){if(G["$=="]("normal"))this["$adjust_indentation!"](A);A=v.get("Block").$new(h,"paragraph",t(["content_model","source","attributes"],{content_model:"simple",source:A,attributes:k}))}else{A["$[]="](0,z["$[]"](l(1,-1,!1)));x=A.$pop()["$[]"](l(3,-1,!1)).$split(", ",2);r=a.to_ary(x);z=null==r[0]?b:r[0];I=null==r[1]?b:r[1];for(x;(x=A["$[]"](-1)["$empty?"]())!==b&&null!=x&&(!x.$$is_boolean||1==x);)A.$pop();A["$[]="](-1,A["$[]"](-1).$chop());k["$[]="]("style","quote");
if(!1!==z&&z!==b&&null!=z)k["$[]="]("attribution",z);if(!1!==I&&I!==b&&null!=I)k["$[]="]("citetitle",I);A=v.get("Block").$new(h,"quote",t(["content_model","source","attributes"],{content_model:"simple",source:A,attributes:k}))}else{(r=(B=A)["$map!"],r.$$p=(Q=function(a){var c;null==a&&(a=b);return a["$=="](">")?a["$[]"](l(1,-1,!1)):(c=a["$start_with?"]("> "))===b||null==c||c.$$is_boolean&&1!=c?a:a["$[]"](l(2,-1,!1))},Q.$$s=this,Q.$$arity=1,Q),r).call(B);if((r=A["$[]"](-1)["$start_with?"]("-- "))===
b||null==r||r.$$is_boolean&&1!=r)x=b,r=a.to_ary(x),z=null==r[0]?b:r[0],I=null==r[1]?b:r[1],x;else for(x=A.$pop()["$[]"](l(3,-1,!1)).$split(", ",2),r=a.to_ary(x),z=null==r[0]?b:r[0],I=null==r[1]?b:r[1],x;(x=A["$[]"](-1)["$empty?"]())!==b&&null!=x&&(!x.$$is_boolean||1==x);)A.$pop();k["$[]="]("style","quote");if(!1!==z&&z!==b&&null!=z)k["$[]="]("attribution",z);if(!1!==I&&I!==b&&null!=I)k["$[]="]("citetitle",I);A=this.$build_block("quote","compound",!1,h,v.get("Reader").$new(A),k)}else A["$[]="](0,ma.$post_match().$lstrip()),
k["$[]="]("style",ma["$[]"](1)),k["$[]="]("name",z=ma["$[]"](1).$downcase()),r="caption",B=k,!1!==(x=B["$[]"](r))&&x!==b&&null!=x?x:B["$[]="](r,J.$attributes()["$[]"](""+z+"-caption")),A=v.get("Block").$new(h,"admonition",t(["content_model","source","attributes"],{content_model:"simple",source:A,attributes:k}))}else d.$unshift_line(F),A=this.$read_paragraph_lines(d,A,t(["skip_line_comments"],{skip_line_comments:C})),this["$adjust_indentation!"](A),A=v.get("Block").$new(h,"literal",t(["content_model",
"source","attributes"],{content_model:"verbatim",source:A,attributes:k})),!1!==ca&&ca!==b&&null!=ca&&A.$set_option("listparagraph");break}if((q=(r=A["$!"](),!1!==r&&r!==b&&null!=r?D:r))!==b&&null!=q&&(!q.$$is_boolean||1==q))if((q=!1!==(r=D["$=="]("abstract"))&&r!==b&&null!=r?r:D["$=="]("partintro"))===b||null==q||q.$$is_boolean&&1!=q||(D="open"),z=D,"admonition"["$==="](z))k["$[]="]("name",z=G.$downcase()),q="caption",r=k,!1!==(x=r["$[]"](q))&&x!==b&&null!=x?x:r["$[]="](q,J.$attributes()["$[]"](""+
z+"-caption")),A=this.$build_block(D,"compound",ga,h,d,k);else{if("comment"["$==="](z))return this.$build_block(D,"skip",ga,h,d,k),b;if("example"["$==="](z))A=this.$build_block(D,"compound",ga,h,d,k);else if("listing"["$==="](z)||"fenced_code"["$==="](z)||"source"["$==="](z)){if(D["$=="]("fenced_code")){G=k["$[]="]("style","source");r=F["$[]"](l(3,-1,!1)).$tr(" ","").$split(",",2);q=a.to_ary(r);D=null==q[0]?b:q[0];F=null==q[1]?b:q[1];r;if((q=D["$nil_or_empty?"]()["$!"]())!==b&&null!=q&&(!q.$$is_boolean||
1==q)){if(k["$[]="]("language",D),(q=F["$nil_or_empty?"]())===b||null==q||q.$$is_boolean&&1!=q)k["$[]="]("linenums","")}else if((q=Y=J.$attributes()["$[]"]("source-language"))!==b&&null!=q&&(!q.$$is_boolean||1==q))k["$[]="]("language",Y);if((q=(r=k["$key?"]("indent")["$!"](),!1!==r&&r!==b&&null!=r?J.$attributes()["$key?"]("source-indent"):r))!==b&&null!=q&&(!q.$$is_boolean||1==q))k["$[]="]("indent",J.$attributes()["$[]"]("source-indent"));ga=ga["$[]"](l(0,2,!1))}else if(D["$=="]("source")){v.get("AttributeList").$rekey(k,
[b,"language","linenums"]);if(((q=k["$key?"]("language"))===b||null==q||q.$$is_boolean&&1!=q)&&(q=Y=J.$attributes()["$[]"]("source-language"))!==b&&null!=q&&(!q.$$is_boolean||1==q))k["$[]="]("language",Y);if((q=(r=k["$key?"]("indent")["$!"](),!1!==r&&r!==b&&null!=r?J.$attributes()["$key?"]("source-indent"):r))!==b&&null!=q&&(!q.$$is_boolean||1==q))k["$[]="]("indent",J.$attributes()["$[]"]("source-indent"))}A=this.$build_block("listing","verbatim",ga,h,d,k)}else if("literal"["$==="](z))A=this.$build_block(D,
"verbatim",ga,h,d,k);else if("pass"["$==="](z))A=this.$build_block(D,"raw",ga,h,d,k);else if("stem"["$==="](z)||"latexmath"["$==="](z)||"asciimath"["$==="](z)){if(D["$=="]("stem"))k["$[]="]("style",(q=pa=k["$[]"](2))===b||null==q||q.$$is_boolean&&1!=q?(q=(ja=J.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===b||null==q||q.$$is_boolean&&1!=q?ja:"asciimath":(q=pa["$include?"]("tex"))===b||null==q||q.$$is_boolean&&1!=q?"asciimath":"latexmath");A=this.$build_block("stem","raw",ga,h,d,k)}else if("open"["$==="](z)||
"sidebar"["$==="](z))A=this.$build_block(D,"compound",ga,h,d,k);else if("table"["$==="](z)){D=d.$cursor();D=v.get("Reader").$new(d.$read_lines_until(t(["terminator","skip_line_comments"],{terminator:ga,skip_line_comments:!0})),D);z=ga.$chr();if(","["$==="](z))k["$[]="]("format","csv");else if(":"["$==="](z))k["$[]="]("format","dsv");A=this.$next_table(D,h,k)}else if("quote"["$==="](z)||"verse"["$==="](z))v.get("AttributeList").$rekey(k,[b,"attribution","citetitle"]),A=this.$build_block(D,D["$=="]("verse")?
"verbatim":"compound",ga,h,d,k);else if((q=(r=!1!==U&&U!==b&&null!=U)?P=O["$registered_for_block?"](D,Z):U)===b||null==q||q.$$is_boolean&&1!=q)this.$raise("Unsupported block type "+D+" at "+d.$line_info());else if((q=(F=P.$config()["$[]"]("content_model"))["$!="]("skip"))===b||null==q||q.$$is_boolean&&1!=q||((q=(ea=!1!==(r=P.$config()["$[]"]("pos_attrs"))&&r!==b&&null!=r?r:[])["$empty?"]()["$!"]())===b||null==q||q.$$is_boolean&&1!=q||v.get("AttributeList").$rekey(k,[b].$concat(ea)),(q=A=P.$config()["$[]"]("default_attrs"))===
b||null==q||q.$$is_boolean&&1!=q||(q=(r=A).$each,q.$$p=(R=function(a,c){var d,e,f;null==a&&(a=b);null==c&&(c=b);return d=a,e=k,!1!==(f=e["$[]"](d))&&f!==b&&null!=f?f:e["$[]="](d,c)},R.$$s=this,R.$$arity=2,R),q).call(r)),A=this.$build_block(D,F,ga,h,d,k,t(["extension"],{extension:P})),(q=(x=!1!==A&&A!==b&&null!=A)?F["$!="]("skip"):A)===b||null==q||q.$$is_boolean&&1!=q)return k.$clear(),b}}else d.$advance();if(!1!==A&&A!==b&&null!=A){!1!==ka&&ka!==b&&null!=ka&&(n=[ka],q=A,q["$source_location="].apply(q,
n),n[n.length-1]);if((n=A["$title?"]())===b||null==n||n.$$is_boolean&&1!=n)n=[k["$[]"]("title")],q=A,q["$title="].apply(q,n),n[n.length-1];if(A.$context()["$=="]("image")){if(K=k["$[]"]("target"),A.$document().$register("images",K),n="alt",q=k,!1!==(x=q["$[]"](n))&&x!==b&&null!=x?x:q["$[]="](n,v.get("Helpers").$basename(K,!0).$tr("_-"," ")),k["$[]="]("alt",A.$sub_specialchars(k["$[]"]("alt"))),A.$assign_caption(k.$delete("caption"),"figure"),!((n=fa=k["$[]"]("scaledwidth"))===b||null==n||n.$$is_boolean&&
1!=n||(n=l(48,57,!1)["$include?"]((!1!==(q=fa["$[]"](-1))&&q!==b&&null!=q?q:0).$ord()))===b||null==n||n.$$is_boolean&&1!=n))k["$[]="]("scaledwidth",""+fa+"%")}else n=A,!1!==(q=n.$caption())&&q!==b&&null!=q?q:n["$caption="](k.$delete("caption"));n=[k["$[]"]("style")];q=A;q["$style="].apply(q,n);n[n.length-1];(n=la=(q=A,!1!==(x=q.$id())&&x!==b&&null!=x?x:q["$id="](k["$[]"]("id"))))===b||null==n||n.$$is_boolean&&1!=n||J.$register("ids",[la,!1!==(n=k["$[]"]("reftext"))&&n!==b&&null!=n?n:(q=A["$title?"]())===
b||null==q||q.$$is_boolean&&1!=q?b:A.$title()]);((n=k["$empty?"]())===b||null==n||n.$$is_boolean&&1!=n)&&A.$attributes().$update(k);A.$lock_in_subs();(n=A["$sub?"]("callouts"))===b||null==n||n.$$is_boolean&&1!=n||!((n=this.$catalog_callouts(A.$source(),J))===b||null==n||n.$$is_boolean&&1!=n)||A.$remove_sub("callouts")}return A},S.$$arity=-3);a.defs(y,"$blockquote?",Y=function(a,c){var d,e,f,g;null==c&&(c=b);return d=(e=(f=p(a.$size(),1),!1!==f&&f!==b&&null!=f?(!1!==(g=c)&&g!==b&&null!=g?g:a["$[]"](0))["$start_with?"]('"'):
f),!1!==e&&e!==b&&null!=e?a["$[]"](-1)["$start_with?"]("-- "):e),!1!==d&&d!==b&&null!=d?a["$[]"](-2)["$end_with?"]('"'):d},Y.$$arity=-2);a.defs(y,"$read_paragraph_lines",ea=function(a,c,d){var e,f=b;null==d&&(d=t([],{}));d["$[]="]("break_on_blank_lines",!0);d["$[]="]("break_on_list_continuation",!0);d["$[]="]("preserve_last_line",!0);f=!1!==c&&c!==b&&null!=c?(e=v.get("Compliance").$block_terminates_paragraph())===b||null==e||e.$$is_boolean&&1!=e?v.get("StartOfListProc"):v.get("StartOfBlockOrListProc"):
(e=v.get("Compliance").$block_terminates_paragraph())===b||null==e||e.$$is_boolean&&1!=e?v.get("NoOp"):v.get("StartOfBlockProc");return(e=a.$read_lines_until,e.$$p=f.$to_proc(),e).call(a,d)},ea.$$arity=-3);a.defs(y,"$is_delimited_block?",ca=function(c,e){var f,k,m=b,q=b,t=b,r=b,u=b,t=m=b;null==e&&(e=!1);if((f=(k=p(m=c.$length(),1),!1!==k&&k!==b&&null!=k?v.get("DELIMITED_BLOCK_LEADERS")["$include?"](c["$[]"](l(0,1,!1))):k))===b||null==f||f.$$is_boolean&&1!=f)return b;if(m["$=="](2))q=c,t=2;else{(f=
h(m,4))===b||null==f||f.$$is_boolean&&1!=f?(q=c["$[]"](l(0,3,!1)),t=4):(q=c,t=m);r=!1;if((f=v.get("Compliance").$markdown_syntax())!==b&&null!=f&&(!f.$$is_boolean||1==f)&&(u=t["$=="](4)?q.$chop():q,u["$=="]("```"))){if((f=t["$=="](4)?q["$end_with?"]("`"):t["$=="](4))!==b&&null!=f&&(!f.$$is_boolean||1==f))return b;q=u;t=3;r=!0}if((f=(k=t["$=="](3))?r["$!"]():t["$=="](3))!==b&&null!=f&&(!f.$$is_boolean||1==f))return b}return(f=v.get("DELIMITED_BLOCKS")["$has_key?"](q))===b||null==f||f.$$is_boolean&&
1!=f?b:(f=!1!==(k=d(t,4))&&k!==b&&null!=k?k:t["$=="](m))===b||null==f||f.$$is_boolean&&1!=f?(""+q+n(q["$[]"](l(-1,-1,!1)),g(m,t)))["$=="](c)?!1!==e&&e!==b&&null!=e?(f=a.to_a(v.get("DELIMITED_BLOCKS")["$[]"](q)),m=null==f[0]?b:f[0],t=null==f[1]?b:f[1],f,v.get("BlockMatchData").$new(m,t,q,c)):!0:b:!1!==e&&e!==b&&null!=e?(f=a.to_a(v.get("DELIMITED_BLOCKS")["$[]"](q)),m=null==f[0]?b:f[0],t=null==f[1]?b:f[1],f,v.get("BlockMatchData").$new(m,t,q,q)):!0},ca.$$arity=-2);a.defs(y,"$build_block",B=function(a,
c,d,e,f,g,h){var l,k,m=b,n=b,q=m=n=b,q=q=q=q=b;null==h&&(h=t([],{}));(l=!1!==(k=c["$=="]("skip"))&&k!==b&&null!=k?k:c["$=="]("raw"))===b||null==l||l.$$is_boolean&&1!=l?(m=!1,n=c):(m=c["$=="]("skip"),n="simple");(l=d["$nil?"]())===b||null==l||l.$$is_boolean&&1!=l?(l=n["$!="]("compound"))===b||null==l||l.$$is_boolean&&1!=l?d["$=="](!1)?(n=b,m=f):(n=b,q=f.$cursor(),m=v.get("Reader").$new(f.$read_lines_until(t(["terminator","skip_processing"],{terminator:d,skip_processing:m})),q)):(n=f.$read_lines_until(t(["terminator",
"skip_processing"],{terminator:d,skip_processing:m})),m=b):(n["$=="]("verbatim")?n=f.$read_lines_until(t(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(c["$=="]("compound")&&(c="simple"),n=this.$read_paragraph_lines(f,!1,t(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:!0}))),m=b);if(c["$=="]("skip"))return g.$clear(),n;if(c["$=="]("verbatim"))if((l=q=g["$[]"]("indent"))!==b&&null!=l&&(!l.$$is_boolean||
1==l))this["$adjust_indentation!"](n,q,!1!==(l=g["$[]"]("tabsize"))&&l!==b&&null!=l?l:e.$document().$attributes()["$[]"]("tabsize"));else if((l=p(q=(!1!==(k=g["$[]"]("tabsize"))&&k!==b&&null!=k?k:e.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))!==b&&null!=l&&(!l.$$is_boolean||1==l))this["$adjust_indentation!"](n,b,q);if((l=q=h["$[]"]("extension"))===b||null==l||l.$$is_boolean&&1!=l)q=v.get("Block").$new(e,a,t(["content_model","source","attributes"],{content_model:c,source:n,attributes:g}));
else{g.$delete("style");if((l=q=q.$process_method()["$[]"](e,!1!==(k=m)&&k!==b&&null!=k?k:v.get("Reader").$new(n),g.$dup()))===b||null==l||l.$$is_boolean&&1!=l)return b;g.$replace(q.$attributes());(l=(k=q.$content_model()["$=="]("compound"))?(n=q.$lines())["$nil_or_empty?"]()["$!"]():q.$content_model()["$=="]("compound"))===b||null==l||l.$$is_boolean&&1!=l||(c="compound",m=v.get("Reader").$new(n))}(l=(k=g["$has_key?"]("title"),!1!==k&&k!==b&&null!=k?q.$document()["$attr?"](""+q.$context()+"-caption"):
k))===b||null==l||l.$$is_boolean&&1!=l||(l=[g.$delete("title")],k=q,k["$title="].apply(k,l),l[l.length-1],q.$assign_caption(g.$delete("caption")));c["$=="]("compound")&&this.$parse_blocks(m,q);return q},B.$$arity=-7);a.defs(y,"$parse_blocks",Q=function(a,c){for(var d,e=b;(d=a["$has_more_lines?"]())!==b&&null!=d&&(!d.$$is_boolean||1==d);)if(e=v.get("Parser").$next_block(a,c),!1!==e&&e!==b&&null!=e)c["$<<"](e)},Q.$$arity=2);a.defs(y,"$next_outline_list",Z=function(a,e,g){var h,l,k,m=b,n=b,q=h=b,t=b,
r=b,m=v.get("List").$new(g,e);h=g.$context()["$=="](e)?[c(g.$level(),1)]:[1];l=m;l["$level="].apply(l,h);for(h[h.length-1];(l=(k=a["$has_more_lines?"](),!1!==k&&k!==b&&null!=k?n=v.get("ListRxMap")["$[]"](e).$match(a.$peek_line()):k))!==b&&null!=l&&(!l.$$is_boolean||1==l);){h=this.$resolve_list_marker(e,n["$[]"](1));if((l=(k=m["$items?"](),!1!==k&&k!==b&&null!=k?h["$!="](m.$items()["$[]"](0).$marker()):k))===b||null==l||l.$$is_boolean&&1!=l)q=m.$level();else for(q=c(m.$level(),1),t=g;t.$context()["$=="](e);){if(h["$=="](t.$items()["$[]"](0).$marker())){q=
t.$level();break}t=t.$parent()}if((l=!1!==(k=m["$items?"]()["$!"]())&&k!==b&&null!=k?k:q["$=="](m.$level()))!==b&&null!=l&&(!l.$$is_boolean||1==l))r=this.$next_list_item(a,m,n);else if((l=d(q,m.$level()))!==b&&null!=l&&(!l.$$is_boolean||1==l))break;else if((l=p(q,m.$level()))!==b&&null!=l&&(!l.$$is_boolean||1==l))m.$items()["$[]"](-1)["$<<"](this.$next_block(a,m));if(!1!==r&&r!==b&&null!=r)m["$<<"](r);r=b;a.$skip_blank_lines()}return m},Z.$$arity=3);a.defs(y,"$catalog_callouts",R=function(a,c){var d,
e,f=b,f=!1;(d=a["$include?"]("<"))===b||null==d||d.$$is_boolean&&1!=d||(d=a.$scan,d.$$p=(e=function(){var a,d=b;null==M["~"]&&(M["~"]=b);d=M["~"];(a=d["$[]"](0).$chr()["$!="]("\\"))===b||null==a||a.$$is_boolean&&1!=a||c.$callouts().$register(d["$[]"](2));return f=!0},e.$$s=this,e.$$arity=0,e),d).call(a,v.get("CalloutQuickScanRx"));return f},R.$$arity=2);a.defs(y,"$catalog_inline_anchors",ba=function(a,c){var d,e;(d=a["$include?"]("["))===b||null==d||d.$$is_boolean&&1!=d||(d=a.$scan,d.$$p=(e=function(){var a,
d=b,e=b,d=b;null==M["~"]&&(M["~"]=b);d=M["~"];if((a=d["$[]"](0)["$start_with?"]("\\"))!==b&&null!=a&&(!a.$$is_boolean||1==a))return b;e=!1!==(a=d["$[]"](1))&&a!==b&&null!=a?a:d["$[]"](3);d=!1!==(a=d["$[]"](2))&&a!==b&&null!=a?a:d["$[]"](4);return c.$register("ids",[e,d])},e.$$s=this,e.$$arity=0,e),d).call(a,v.get("InlineAnchorRx"));return b},ba.$$arity=2);a.defs(y,"$next_labeled_list",ga=function(c,d,e){for(var f,g,h,l=b,k=b,m=b,n=b,q=b,l=v.get("List").$new(e,"dlist"),k=b,m=v.get("DescriptionListSiblingRx")["$[]"](d["$[]"](2));(f=
!1!==(g=d)&&g!==b&&null!=g?g:(h=c["$has_more_lines?"](),!1!==h&&h!==b&&null!=h?d=m.$match(c.$peek_line()):h))!==b&&null!=f&&(!f.$$is_boolean||1==f);){g=this.$next_list_item(c,l,d,m);f=a.to_ary(g);n=null==f[0]?b:f[0];q=null==f[1]?b:f[1];g;if((f=(g=!1!==k&&k!==b&&null!=k)?k["$[]"](-1)["$!"]():k)===b||null==f||f.$$is_boolean&&1!=f)l.$items()["$<<"](k=[[n],q]);else k.$pop(),k["$[]"](0)["$<<"](n),k["$<<"](q);d=b}return l},ga.$$arity=3);a.defs(y,"$next_list_item",ia=function(a,c,d,e){var f,g,h=b,k=b,m=
b,n=b,q=m=b,p=q=q=n=b,r=b,u=r=p=b,z=b;null==e&&(e=b);if((h=c.$context())["$=="]("dlist"))k=v.get("ListItem").$new(c,d["$[]"](1)),m=v.get("ListItem").$new(c,d["$[]"](3)),n=d["$[]"](3)["$nil_or_empty?"]()["$!"]();else{m=d["$[]"](2);q=!1;(f=(g=h["$=="]("ulist"))?m["$start_with?"]("["):h["$=="]("ulist"))===b||null==f||f.$$is_boolean&&1!=f||((f=m["$start_with?"]("[ ] "))===b||null==f||f.$$is_boolean&&1!=f?(f=!1!==(g=m["$start_with?"]("[x] "))&&g!==b&&null!=g?g:m["$start_with?"]("[*] "))===b||null==f||
f.$$is_boolean&&1!=f||(n=q=!0,m=m["$[]"](l(3,-1,!1)).$lstrip()):(q=!0,n=!1,m=m["$[]"](l(3,-1,!1)).$lstrip()));m=v.get("ListItem").$new(c,m);if(!1!==q&&q!==b&&null!=q&&(c.$attributes()["$[]="]("checklist-option",""),m.$attributes()["$[]="]("checkbox",""),!1!==n&&n!==b&&null!=n))m.$attributes()["$[]="]("checked","");!1!==(f=e)&&f!==b&&null!=f?f:e=this.$resolve_list_marker(h,d["$[]"](1),c.$items().$size(),!0,a);f=[e];g=m;g["$marker="].apply(g,f);f[f.length-1];n=!0}a.$advance();q=a.$cursor();q=v.get("Reader").$new(this.$read_lines_for_list_item(a,
h,e,n),q);if((f=q["$has_more_lines?"]())!==b&&null!=f&&(!f.$$is_boolean||1==f)){p=q.$skip_line_comments();r=q.$peek_line();((f=p["$empty?"]())===b||null==f||f.$$is_boolean&&1!=f)&&q.$unshift_lines(p);(f=r["$nil?"]()["$!"]())===b||null==f||f.$$is_boolean&&1!=f?r=p=!1:(p=r["$empty?"](),(f=(g=p["$!"](),!1!==g&&g!==b&&null!=g?h["$!="]("dlist"):g))===b||null==f||f.$$is_boolean&&1!=f||(n=!1),r=(f=p["$!"](),!1!==f&&f!==b&&null!=f?r["$empty?"]()["$!"]():f));for(u=t(["text"],{text:n["$!"]()});(g=q["$has_more_lines?"]())!==
b&&null!=g&&(!g.$$is_boolean||1==g);)if((g=z=this.$next_block(q,m,t([],{}),u))!==b&&null!=g&&(!g.$$is_boolean||1==g))m["$<<"](z);m.$fold_first(p,r)}if(h["$=="]("dlist")){if((f=!1!==(g=m["$text?"]())&&g!==b&&null!=g?g:m["$blocks?"]())===b||null==f||f.$$is_boolean&&1!=f)m=b;return[k,m]}return m},ia.$$arity=-4);a.defs(y,"$read_lines_for_list_item",ma=function(a,c,d,e){var f,g,h,l,k,m,n,q,p,r,u,z,x,B=b,w=b,y=b,Q=b,A=b,K=b,K=l=b;null==M["~"]&&(M["~"]=b);null==d&&(d=b);null==e&&(e=!0);B=[];w="inactive";
y=!1;for(Q=b;(g=a["$has_more_lines?"]())!==b&&null!=g&&(!g.$$is_boolean||1==g);){A=a.$read_line();if((g=this["$is_sibling_list_item?"](A,c,d))!==b&&null!=g&&(!g.$$is_boolean||1==g))break;K=(g=B["$empty?"]())===b||null==g||g.$$is_boolean&&1!=g?B["$[]"](-1):b;if(K["$=="](v.get("LIST_CONTINUATION"))){if(w["$=="]("inactive")&&(w="active",e=!0,!1===y||y===b||null==y))B["$[]="](-1,"");if(A["$=="](v.get("LIST_CONTINUATION"))){(g=w["$!="]("frozen"))===b||null==g||g.$$is_boolean&&1!=g||(w="frozen",B["$<<"](A));
A=b;continue}}if((g=l=this["$is_delimited_block?"](A,!0))===b||null==g||g.$$is_boolean&&1!=g)if((g=(h=(l=c["$=="]("dlist"))?w["$!="]("active"):c["$=="]("dlist"),!1!==h&&h!==b&&null!=h?v.get("BlockAttributeLineRx")["$=~"](A):h))===b||null==g||g.$$is_boolean&&1!=g)if((g=(h=w["$=="]("active"))?A["$empty?"]()["$!"]():w["$=="]("active"))===b||null==g||g.$$is_boolean&&1!=g)if((g=(l=K["$nil?"]()["$!"](),!1!==l&&l!==b&&null!=l?K["$empty?"]():l))===b||null==g||g.$$is_boolean&&1!=g)(g=A["$empty?"]()["$!"]())===
b||null==g||g.$$is_boolean&&1!=g||(e=!0),(g=K=(u=(z=!1!==y&&y!==b&&null!=y?["dlist"]:v.get("NESTABLE_LIST_CONTEXTS")).$find,u.$$p=(x=function(a){null==a&&(a=b);return v.get("ListRxMap")["$[]"](a)["$=~"](A)},x.$$s=this,x.$$arity=1,x),u).call(z))===b||null==g||g.$$is_boolean&&1!=g||(y=!0,(g=(u=K["$=="]("dlist"))?M["~"]["$[]"](3)["$nil_or_empty?"]():K["$=="]("dlist"))===b||null==g||g.$$is_boolean&&1!=g||(e=!1)),B["$<<"](A);else{if(!((g=A["$empty?"]())===b||null==g||g.$$is_boolean&&1!=g||(a.$skip_blank_lines(),
A=a.$read_line(),(g=!1!==(l=A["$nil?"]())&&l!==b&&null!=l?l:this["$is_sibling_list_item?"](A,c,d))===b||null==g||g.$$is_boolean&&1!=g)))break;if(A["$=="](v.get("LIST_CONTINUATION")))Q=B.$size(),B["$<<"](A);else if(!1!==e&&e!==b&&null!=e)if((g=this["$is_sibling_list_item?"](A,c,d))===b||null==g||g.$$is_boolean&&1!=g)if((g=K=(l=(q=v.get("NESTABLE_LIST_CONTEXTS")).$find,l.$$p=(p=function(a){null==a&&(a=b);return v.get("ListRxMap")["$[]"](a)["$=~"](A)},p.$$s=this,p.$$arity=1,p),l).call(q))===b||null==
g||g.$$is_boolean&&1!=g)if((g=v.get("LiteralParagraphRx")["$=~"](A))===b||null==g||g.$$is_boolean&&1!=g)break;else a.$unshift_line(A),B.$concat((g=(l=a).$read_lines_until,g.$$p=(r=function(a){var e=r.$$s||this;null==a&&(a=b);return c["$=="]("dlist")?e["$is_sibling_list_item?"](a,c,d):c["$=="]("dlist")},r.$$s=this,r.$$arity=1,r),g).call(l,t(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else B["$<<"](A),
y=!0,(g=(l=K["$=="]("dlist"))?M["~"]["$[]"](3)["$nil_or_empty?"]():K["$=="]("dlist"))===b||null==g||g.$$is_boolean&&1!=g||(e=!1);else break;else!1!==y&&y!==b&&null!=y||B.$pop(),B["$<<"](A),e=!0}else if((g=v.get("LiteralParagraphRx")["$=~"](A))===b||null==g||g.$$is_boolean&&1!=g)if((g=!1!==(l=!1!==(m=v.get("BlockTitleRx")["$=~"](A))&&m!==b&&null!=m?m:v.get("BlockAttributeLineRx")["$=~"](A))&&l!==b&&null!=l?l:v.get("AttributeEntryRx")["$=~"](A))===b||null==g||g.$$is_boolean&&1!=g)(g=K=(l=(m=!1!==y&&
y!==b&&null!=y?["dlist"]:v.get("NESTABLE_LIST_CONTEXTS")).$find,l.$$p=(n=function(a){null==a&&(a=b);return v.get("ListRxMap")["$[]"](a)["$=~"](A)},n.$$s=this,n.$$arity=1,n),l).call(m))===b||null==g||g.$$is_boolean&&1!=g||(y=!0,(g=(l=K["$=="]("dlist"))?M["~"]["$[]"](3)["$nil_or_empty?"]():K["$=="]("dlist"))===b||null==g||g.$$is_boolean&&1!=g||(e=!1)),B["$<<"](A),w="inactive";else B["$<<"](A);else a.$unshift_line(A),B.$concat((g=(h=a).$read_lines_until,g.$$p=(k=function(a){var e=k.$$s||this;null==a&&
(a=b);return c["$=="]("dlist")?e["$is_sibling_list_item?"](a,c,d):c["$=="]("dlist")},k.$$s=this,k.$$arity=1,k),g).call(h,t(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),w="inactive";else break;else if(w["$=="]("active"))B["$<<"](A),B.$concat(a.$read_lines_until(t(["terminator","read_last_line"],{terminator:l.$terminator(),read_last_line:!0}))),w="inactive";else break;A=b}!1!==A&&A!==b&&null!=
A&&a.$unshift_line(A);for(!1!==Q&&Q!==b&&null!=Q&&B.$delete_at(Q);(g=(u=B["$empty?"]()["$!"](),!1!==u&&u!==b&&null!=u?B["$[]"](-1)["$empty?"]():u))!==b&&null!=g&&(!g.$$is_boolean||1==g);)B.$pop();(f=(g=B["$empty?"]()["$!"](),!1!==g&&g!==b&&null!=g?B["$[]"](-1)["$=="](v.get("LIST_CONTINUATION")):g))===b||null==f||f.$$is_boolean&&1!=f||B.$pop();return B},ma.$$arity=-3);a.defs(y,"$initialize_section",la=function(c,d,e){var f,g,h=b,l=b,k=b,m=b,n=b,q=b,p=k=m=b;null==e&&(e=t([],{}));h=d.$document();(f=
h.$sourcemap())===b||null==f||f.$$is_boolean&&1!=f||(l=c.$cursor());g=this.$parse_section_title(c,h);f=a.to_ary(g);k=null==f[0]?b:f[0];m=null==f[1]?b:f[1];n=null==f[2]?b:f[2];q=null==f[3]?b:f[3];g;if(!1!==m&&m!==b&&null!=m)e["$[]="]("reftext",m);m=v.get("Section").$new(d,q,h.$attributes()["$has_key?"]("sectnums"));!1!==l&&l!==b&&null!=l&&(f=[l],g=m,g["$source_location="].apply(g,f),f[f.length-1]);f=[k];g=m;g["$id="].apply(g,f);f[f.length-1];f=[n];g=m;g["$title="].apply(g,f);f[f.length-1];(f=e["$[]"](1))===
b||null==f||f.$$is_boolean&&1!=f?((f=n.$downcase()["$=="]("synopsis")?h.$doctype()["$=="]("manpage"):n.$downcase()["$=="]("synopsis"))===b||null==f||f.$$is_boolean&&1!=f?f=["sect"+m.$level()]:(f=[!0],g=m,g["$special="].apply(g,f),f[f.length-1],f=["synopsis"]),g=m,g["$sectname="].apply(g,f),f[f.length-1]):(g=this.$parse_style_attribute(e,c),f=a.to_ary(g),k=null==f[0]?b:f[0],g,!1!==k&&k!==b&&null!=k?(f=[k],g=m,g["$sectname="].apply(g,f),f[f.length-1],f=[!0],g=m,g["$special="].apply(g,f),f[f.length-
1],(f=(g=m.$sectname()["$=="]("abstract"))?h.$doctype()["$=="]("book"):m.$sectname()["$=="]("abstract"))===b||null==f||f.$$is_boolean&&1!=f||(f=["sect1"],g=m,g["$sectname="].apply(g,f),f[f.length-1],f=[!1],g=m,g["$special="].apply(g,f),f[f.length-1],f=[1],g=m,g["$level="].apply(g,f),f[f.length-1])):(f=["sect"+m.$level()],g=m,g["$sectname="].apply(g,f),f[f.length-1]));(f=(g=m.$id()["$!"](),!1!==g&&g!==b&&null!=g?p=e["$[]"]("id"):g))===b||null==f||f.$$is_boolean&&1!=f?(f=m,!1!==(g=f.$id())&&g!==b&&
null!=g?g:f["$id="](m.$generate_id())):(f=[p],g=m,g["$id="].apply(g,f),f[f.length-1]);(f=m.$id())===b||null==f||f.$$is_boolean&&1!=f||m.$document().$register("ids",[m.$id(),!1!==(f=e["$[]"]("reftext"))&&f!==b&&null!=f?f:m.$title()]);m.$update_attributes(e);c.$skip_blank_lines();return m},la.$$arity=-3);a.defs(y,"$section_level",na=function(a){return v.get("SECTION_LEVELS")["$[]"](a.$chr())},na.$$arity=1);a.defs(y,"$single_line_section_level",fa=function(a){return g(a.$length(),1)},fa.$$arity=1);a.defs(y,
"$is_next_line_section?",T=function(c,d){var e,f,g,h,l=b,k=b;return(e=(f=(g=(l=d["$[]"](1))["$nil?"]()["$!"](),!1!==g&&g!==b&&null!=g?!1!==(h=(k=l["$[]"](0).$ord())["$=="](100))&&h!==b&&null!=h?h:k["$=="](102):g),!1!==f&&f!==b&&null!=f?l["$=~"](v.get("FloatingTitleStyleRx")):f))!==b&&null!=e&&(!e.$$is_boolean||1==e)||(e=c["$has_more_lines?"]())===b||null==e||e.$$is_boolean&&1!=e?!1:(e=v.get("Compliance").$underline_style_section_titles())===b||null==e||e.$$is_boolean&&1!=e?this["$is_section_title?"](c.$peek_line()):
(e=this)["$is_section_title?"].apply(e,a.to_a(c.$peek_lines(2)))},T.$$arity=2);a.defs(y,"$is_next_line_document_title?",ja=function(a,b){return this["$is_next_line_section?"](a,b)["$=="](0)},ja.$$arity=2);a.defs(y,"$is_section_title?",L=function(a,c){var d,e=b;null==c&&(c=b);return(d=e=this["$is_single_line_section_title?"](a))===b||null==d||d.$$is_boolean&&1!=d?(d=!1!==c&&c!==b&&null!=c?e=this["$is_two_line_section_title?"](a,c):c)===b||null==d||d.$$is_boolean&&1!=d?!1:e:e},L.$$arity=-2);a.defs(y,
"$is_single_line_section_title?",O=function(a){var c,d,e,f,g=b,h=b,g=!1!==a&&a!==b&&null!=a?a.$chr():b;return(c=(d=!1!==(e=g["$=="]("="))&&e!==b&&null!=e?e:(f=v.get("Compliance").$markdown_syntax(),!1!==f&&f!==b&&null!=f?g["$=="]("#"):f),!1!==d&&d!==b&&null!=d?h=v.get("AtxSectionRx").$match(a):d))===b||null==c||c.$$is_boolean&&1!=c?!1:this.$single_line_section_level(h["$[]"](1))},O.$$arity=1);a.defs(y,"$is_two_line_section_title?",ka=function(a,c){var d,e,f,l,k;return(d=(e=(f=(l=(k=!1!==a&&a!==b&&
null!=a?c:a,!1!==k&&k!==b&&null!=k?v.get("SECTION_LEVELS")["$has_key?"](c.$chr()):k),!1!==l&&l!==b&&null!=l?c["$=~"](v.get("SetextSectionLineRx")):l),!1!==f&&f!==b&&null!=f?a["$=~"](v.get("SetextSectionTitleRx")):f),!1!==e&&e!==b&&null!=e?h(g(this.$line_length(a),this.$line_length(c)).$abs(),1):e))===b||null==d||d.$$is_boolean&&1!=d?!1:this.$section_level(c)},ka.$$arity=2);a.defs(y,"$parse_section_title",J=function(a,d){var l,k,m,n,q,p=b,t=b,r=b,u=b,z=b,B=b,x=b,w=b,A=b,y=b,Q=b,p=a.$read_line(),r=
t=b,u=-1,z=b,B=!0,x=p.$chr();(l=(k=!1!==(m=x["$=="]("="))&&m!==b&&null!=m?m:(n=v.get("Compliance").$markdown_syntax(),!1!==n&&n!==b&&null!=n?x["$=="]("#"):n),!1!==k&&k!==b&&null!=k?w=v.get("AtxSectionRx").$match(p):k))===b||null==l||l.$$is_boolean&&1!=l?(l=v.get("Compliance").$underline_style_section_titles())===b||null==l||l.$$is_boolean&&1!=l||(l=(k=(m=(n=(q=y=a.$peek_line(!0),!1!==q&&q!==b&&null!=q?v.get("SECTION_LEVELS")["$has_key?"](y.$chr()):q),!1!==n&&n!==b&&null!=n?y["$=~"](v.get("SetextSectionLineRx")):
n),!1!==m&&m!==b&&null!=m?Q=v.get("SetextSectionTitleRx").$match(p):m),!1!==k&&k!==b&&null!=k?h(g(this.$line_length(p),this.$line_length(y)).$abs(),1):k))===b||null==l||l.$$is_boolean&&1!=l||(r=Q["$[]"](1),(l=(k=r["$end_with?"]("]]"),!1!==k&&k!==b&&null!=k?A=v.get("InlineSectionAnchorRx").$match(r):k))===b||null==l||l.$$is_boolean&&1!=l||(l=A["$[]"](2)["$nil?"]())===b||null==l||l.$$is_boolean&&1!=l||(r=A["$[]"](1),t=A["$[]"](3),z=A["$[]"](4)),u=this.$section_level(y),B=!1,a.$advance()):(u=this.$single_line_section_level(w["$[]"](1)),
r=w["$[]"](2),(l=(k=r["$end_with?"]("]]"),!1!==k&&k!==b&&null!=k?A=v.get("InlineSectionAnchorRx").$match(r):k))===b||null==l||l.$$is_boolean&&1!=l||(l=A["$[]"](2)["$nil?"]())===b||null==l||l.$$is_boolean&&1!=l||(r=A["$[]"](1),t=A["$[]"](3),z=A["$[]"](4)));(l=e(u,0))===b||null==l||l.$$is_boolean&&1!=l||(u=c(u,d.$attr("leveloffset",0).$to_i()));return[t,z,r,u,B]},J.$$arity=2);a.defs(y,"$line_length",pa=function(a){var c;return(c=v.get("FORCE_UNICODE_LINE_LENGTH"))===b||null==c||c.$$is_boolean&&1!=c?
a.$length():a.$scan(v.get("UnicodeCharScanRx")).$length()},pa.$$arity=1);a.defs(y,"$parse_header_metadata",ra=function(d,e){var g,h,k,m,n,q,r=b,u=b,z=b,B=b,x=B=b,w=b,A=x=b,z=u=b;null==e&&(e=b);this.$process_attribute_entries(d,e);r=t([],{});z=u=b;if((g=(h=d["$has_more_lines?"](),!1!==h&&h!==b&&null!=h?d["$next_line_empty?"]()["$!"]():h))!==b&&null!=g&&(!g.$$is_boolean||1==g)){B=this.$process_authors(d.$read_line());if((g=B["$empty?"]())===b||null==g||g.$$is_boolean&&1!=g)!1!==e&&e!==b&&null!=e&&((g=
(h=B).$each,g.$$p=(k=function(c,d){var f;null==c&&(c=b);null==d&&(d=b);return(f=e.$attributes()["$has_key?"](c))===b||null==f||f.$$is_boolean&&1!=f?e.$attributes()["$[]="](c,(f=a.get("String")["$==="](d))===b||null==f||f.$$is_boolean&&1!=f?d:e.$apply_header_subs(d)):b},k.$$s=this,k.$$arity=2,k),g).call(h),u=e.$attributes()["$[]"]("author"),z=e.$attributes()["$[]"]("authors")),r=B;this.$process_attribute_entries(d,e);B=t([],{});if((g=(m=d["$has_more_lines?"](),!1!==m&&m!==b&&null!=m?d["$next_line_empty?"]()["$!"]():
m))!==b&&null!=g&&(!g.$$is_boolean||1==g))if(x=d.$read_line(),(g=w=v.get("RevisionInfoLineRx").$match(x))===b||null==g||g.$$is_boolean&&1!=g)d.$unshift_line(x);else{if((g=w["$[]"](1))!==b&&null!=g&&(!g.$$is_boolean||1==g))B["$[]="]("revnumber",w["$[]"](1).$rstrip());if((g=(x=w["$[]"](2).$strip())["$empty?"]())===b||null==g||g.$$is_boolean&&1!=g)if((g=(m=w["$[]"](1)["$!"](),!1!==m&&m!==b&&null!=m?x["$start_with?"]("v"):m))===b||null==g||g.$$is_boolean&&1!=g)B["$[]="]("revdate",x);else B["$[]="]("revnumber",
x["$[]"](l(1,-1,!1)));if((g=w["$[]"](3))!==b&&null!=g&&(!g.$$is_boolean||1==g))B["$[]="]("revremark",w["$[]"](3).$rstrip())}if((g=B["$empty?"]())===b||null==g||g.$$is_boolean&&1!=g)!1!==e&&e!==b&&null!=e&&(g=(m=B).$each,g.$$p=(n=function(a,c){var d;null==a&&(a=b);null==c&&(c=b);return(d=e.$attributes()["$has_key?"](a))===b||null==d||d.$$is_boolean&&1!=d?e.$attributes()["$[]="](a,e.$apply_header_subs(c)):b},n.$$s=this,n.$$arity=2,n),g).call(m),r.$update(B);this.$process_attribute_entries(d,e);d.$skip_blank_lines()}if(!1!==
e&&e!==b&&null!=e){B=b;if((g=(q=e.$attributes()["$has_key?"]("author"),!1!==q&&q!==b&&null!=q?(A=e.$attributes()["$[]"]("author"))["$!="](u):q))===b||null==g||g.$$is_boolean&&1!=g)if((g=(q=e.$attributes()["$has_key?"]("authors"),!1!==q&&q!==b&&null!=q?(A=e.$attributes()["$[]"]("authors"))["$!="](z):q))===b||null==g||g.$$is_boolean&&1!=g){u=[];for(z="author_"+c(u.$size(),1);(q=e.$attributes()["$has_key?"](z))!==b&&null!=q&&(!q.$$is_boolean||1==q);)u["$<<"](e.$attributes()["$[]"](z)),z="author_"+c(u.$size(),
1);u.$size()["$=="](1)?B=this.$process_authors(u["$[]"](0),!0,!1):(g=p(u.$size(),1))===b||null==g||g.$$is_boolean&&1!=g||(B=this.$process_authors(u.$join("; "),!0))}else B=this.$process_authors(A,!0);else B=this.$process_authors(A,!0,!1);if(!1!==B&&B!==b&&null!=B&&(e.$attributes().$update(B),(g=(q=e.$attributes()["$has_key?"]("email")["$!"](),!1!==q&&q!==b&&null!=q?e.$attributes()["$has_key?"]("email_1"):q))!==b&&null!=g&&(!g.$$is_boolean||1==g)))e.$attributes()["$[]="]("email",e.$attributes()["$[]"]("email_1"))}return r},
ra.$$arity=-2);a.defs(y,"$process_authors",ua=function(a,d,e){var g,h,k,m,n,q=this,r=b,u=b,z=b;null==d&&(d=!1);null==e&&(e=!0);r=t([],{});u="author authorinitials firstname middlename lastname email".split(" ");z=function(){return!1!==e&&e!==b&&null!=e?(g=(h=a.$split(";")).$map,g.$$p=(k=function(a){null==a&&(a=b);return a.$strip()},k.$$s=q,k.$$arity=1,k),g).call(h):[a]}();(g=(m=z).$each_with_index,g.$$p=(n=function(a,e){var g=n.$$s||this,h,k,m,q,z,B,x,w=b,A=b,H=b,y=H=b,Q=b;null==a&&(a=b);null==e&&
(e=b);if((h=a["$empty?"]())!==b&&null!=h&&(!h.$$is_boolean||1==h))return b;w=t([],{});e["$=="](0)?(h=(k=u).$each,h.$$p=(m=function(a){null==a&&(a=b);return w["$[]="](a.$to_sym(),a)},m.$$s=g,m.$$arity=1,m),h).call(k):(h=(q=u).$each,h.$$p=(z=function(a){null==a&&(a=b);return w["$[]="](a.$to_sym(),""+a+"_"+c(e,1))},z.$$s=g,z.$$arity=1,z),h).call(q);A=b;!1!==d&&d!==b&&null!=d?(h=p((A=a.$split(" ")).$size(),3))===b||null==h||h.$$is_boolean&&1!=h||(A=A["$[]"](l(0,1,!1)).$push(A["$[]"](l(2,-1,!1)).$join(" "))):
(h=H=v.get("AuthorInfoLineRx").$match(a))===b||null==h||h.$$is_boolean&&1!=h||(A=H.$to_a(),A.$shift());if((h=A["$nil?"]())===b||null==h||h.$$is_boolean&&1!=h){if(r["$[]="](w["$[]"]("firstname"),H=A["$[]"](0).$tr("_"," ")),r["$[]="](w["$[]"]("author"),H),r["$[]="](w["$[]"]("authorinitials"),H["$[]"](0,1)),(h=(B=A["$[]"](1)["$nil?"]()["$!"](),!1!==B&&B!==b&&null!=B?A["$[]"](2)["$nil?"]()["$!"]():B))===b||null==h||h.$$is_boolean&&1!=h?(h=A["$[]"](1)["$nil?"]()["$!"]())===b||null==h||h.$$is_boolean&&
1!=h||(r["$[]="](w["$[]"]("lastname"),Q=A["$[]"](1).$tr("_"," ")),r["$[]="](w["$[]"]("author"),[H,Q].$join(" ")),r["$[]="](w["$[]"]("authorinitials"),[H["$[]"](0,1),Q["$[]"](0,1)].$join())):(r["$[]="](w["$[]"]("middlename"),y=A["$[]"](1).$tr("_"," ")),r["$[]="](w["$[]"]("lastname"),Q=A["$[]"](2).$tr("_"," ")),r["$[]="](w["$[]"]("author"),[H,y,Q].$join(" ")),r["$[]="](w["$[]"]("authorinitials"),[H["$[]"](0,1),y["$[]"](0,1),Q["$[]"](0,1)].$join())),(h=!1!==(B=d)&&B!==b&&null!=B?B:A["$[]"](3)["$nil?"]())===
b||null==h||h.$$is_boolean&&1!=h)r["$[]="](w["$[]"]("email"),A["$[]"](3))}else r["$[]="](w["$[]"]("author"),r["$[]="](w["$[]"]("firstname"),H=a.$strip().$tr_s(" "," "))),r["$[]="](w["$[]"]("authorinitials"),H["$[]"](0,1));r["$[]="]("authorcount",c(e,1));e["$=="](1)&&(h=(B=u).$each,h.$$p=(x=function(a){var c;null==a&&(a=b);return(c=r["$has_key?"](a))===b||null==c||c.$$is_boolean&&1!=c?b:r["$[]="](""+a+"_1",r["$[]"](a))},x.$$s=g,x.$$arity=1,x),h).call(B);return e["$=="](0)?r["$[]="]("authors",r["$[]"](w["$[]"]("author"))):
r["$[]="]("authors",""+r["$[]"]("authors")+", "+r["$[]"](w["$[]"]("author")))},n.$$s=q,n.$$arity=2,n),g).call(m);return r},ua.$$arity=-2);a.defs(y,"$parse_block_metadata_lines",ta=function(a,c,d,e){var f;null==d&&(d=t([],{}));for(null==e&&(e=t([],{}));(f=this.$parse_block_metadata_line(a,c,d,e))!==b&&null!=f&&(!f.$$is_boolean||1==f);)a.$advance(),a.$skip_blank_lines();return d},ta.$$arity=-3);a.defs(y,"$parse_block_metadata_line",ha=function(a,c,d,e){var f,g,h,l=b,k=b,m=b,k=l=b;null==e&&(e=t([],{}));
if((f=a["$has_more_lines?"]())===b||null==f||f.$$is_boolean&&1!=f)return!1;l=a.$peek_line();if((f=(g=k=l["$start_with?"]("//"),!1!==g&&g!==b&&null!=g?m=v.get("CommentBlockRx").$match(l):g))!==b&&null!=f&&(!f.$$is_boolean||1==f))l=m["$[]"](0),a.$read_lines_until(t(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:l,skip_processing:!0}));else if((f=(g=!1!==k&&k!==b&&null!=k)?v.get("CommentLineRx")["$=~"](l):k)===b||null==f||
f.$$is_boolean&&1!=f)if((f=(g=(h=e["$[]"]("text")["$!"](),!1!==h&&h!==b&&null!=h?l["$start_with?"](":"):h),!1!==g&&g!==b&&null!=g?m=v.get("AttributeEntryRx").$match(l):g))!==b&&null!=f&&(!f.$$is_boolean||1==f))this.$process_attribute_entry(a,c,d,m);else if((f=(g=k=(h=l["$start_with?"]("["),!1!==h&&h!==b&&null!=h?l["$end_with?"]("]"):h),!1!==g&&g!==b&&null!=g?m=v.get("BlockAnchorRx").$match(l):g))===b||null==f||f.$$is_boolean&&1!=f)if((f=(g=!1!==k&&k!==b&&null!=k)?m=v.get("BlockAttributeListRx").$match(l):
k)===b||null==f||f.$$is_boolean&&1!=f){if((f=(g=e["$[]"]("text")["$!"](),!1!==g&&g!==b&&null!=g?m=v.get("BlockTitleRx").$match(l):g))===b||null==f||f.$$is_boolean&&1!=f)return!1;d["$[]="]("title",m["$[]"](1))}else c.$document().$parse_attributes(m["$[]"](1),[],t(["sub_input","into"],{sub_input:!0,into:d}));else if((f=m["$[]"](1)["$nil_or_empty?"]())===b||null==f||f.$$is_boolean&&1!=f)if(d["$[]="]("id",m["$[]"](1)),(f=m["$[]"](2)["$nil?"]())===b||null==f||f.$$is_boolean&&1!=f)d["$[]="]("reftext",m["$[]"](2));
return!0},ha.$$arity=-4);a.defs(y,"$process_attribute_entries",za=function(a,c,d){var e;null==d&&(d=b);for(a.$skip_comment_lines();(e=this.$process_attribute_entry(a,c,d))!==b&&null!=e&&(!e.$$is_boolean||1==e);)a.$advance(),a.$skip_comment_lines()},za.$$arity=-3);a.defs(y,"$process_attribute_entry",va=function(a,c,d,e){var f,g,h=b,l=b,k=b,m=b,n=b,q=b;null==d&&(d=b);null==e&&(e=b);!1!==(f=e)&&f!==b&&null!=f?f:e=(g=a["$has_more_lines?"]())===b||null==g||g.$$is_boolean&&1!=g?b:v.get("AttributeEntryRx").$match(a.$peek_line());
if(!1!==e&&e!==b&&null!=e){h=e["$[]"](1);if(((f=(l=!1!==(g=e["$[]"](2))&&g!==b&&null!=g?g:"")["$empty?"]())===b||null==f||f.$$is_boolean&&1!=f)&&(f=!1!==(g=l["$end_with?"](k=v.get("LINE_CONTINUATION")))&&g!==b&&null!=g?g:l["$end_with?"](k=v.get("LINE_CONTINUATION_LEGACY")))!==b&&null!=f&&(!f.$$is_boolean||1==f))for(l=l.$chop().$rstrip();(g=a.$advance())!==b&&null!=g&&(!g.$$is_boolean||1==g)&&((g=(m=a.$peek_line().$strip())["$empty?"]())===b||null==g||g.$$is_boolean&&1!=g)&&((g=n=m["$end_with?"](k))===
b||null==g||g.$$is_boolean&&1!=g||(m=m.$chop().$rstrip()),q=(g=l["$end_with?"](v.get("LINE_BREAK")))===b||null==g||g.$$is_boolean&&1!=g?" ":v.get("EOL"),l=""+l+q+m,!1!==n&&n!==b&&null!=n););this.$store_attribute(h,l,!1!==c&&c!==b&&null!=c?c.$document():b,d);return!0}return!1},va.$$arity=-3);a.defs(y,"$store_attribute",ya=function(a,d,e,h){var k,m=b,m=b;null==e&&(e=b);null==h&&(h=b);(k=a["$end_with?"]("!"))===b||null==k||k.$$is_boolean&&1!=k?(k=a["$start_with?"]("!"))===b||null==k||k.$$is_boolean&&
1!=k||(d=b,a=a["$[]"](l(1,-1,!1))):(d=b,a=a.$chop());a=this.$sanitize_attribute_name(a);m=!0;!1!==e&&e!==b&&null!=e&&(a["$=="]("numbered")?a="sectnums":a["$=="]("leveloffset")&&!1!==d&&d!==b&&null!=d&&(m=d.$chr(),"+"["$==="](m)?d=c(e.$attr("leveloffset",0).$to_i(),(!1!==(k=d["$[]"](l(1,-1,!1)))&&k!==b&&null!=k?k:0).$to_i()).$to_s():"-"["$==="](m)&&(d=g(e.$attr("leveloffset",0).$to_i(),(!1!==(k=d["$[]"](l(1,-1,!1)))&&k!==b&&null!=k?k:0).$to_i()).$to_s())),m=!1!==d&&d!==b&&null!=d?e.$set_attribute(a,
d):e.$delete_attribute(a));(k=!1!==m&&m!==b&&null!=m?h:m)===b||null==k||k.$$is_boolean&&1!=k||(!1!==d&&d!==b&&null!=d&&(d=e.$attributes()["$[]"](a)),v.get("Document").$$scope.get("AttributeEntry").$new(a,d).$save_to(h));return[a,d]},ya.$$arity=-3);a.defs(y,"$resolve_list_marker",wa=function(a,c,d,e,f){var g;null==d&&(d=0);null==e&&(e=!1);null==f&&(f=b);return(g=a["$=="]("olist")?c["$start_with?"](".")["$!"]():a["$=="]("olist"))===b||null==g||g.$$is_boolean&&1!=g?a["$=="]("colist")?"<1>":c:this.$resolve_ordered_list_marker(c,
d,e,f)},wa.$$arity=-3);a.defs(y,"$resolve_ordered_list_marker",P=function(a,d,e,g){var h,l,k,m=b,n=b,q=b,m=b;null==d&&(d=0);null==e&&(e=!1);null==g&&(g=b);m=(h=(l=v.get("ORDERED_LIST_STYLES")).$find,h.$$p=(k=function(c){null==c&&(c=b);return v.get("OrderedListMarkerRxMap")["$[]"](c)["$=~"](a)},k.$$s=this,k.$$arity=1,k),h).call(l);n=q=b;"arabic"["$==="](m)?(!1!==e&&e!==b&&null!=e&&(n=c(d,1),q=a.$to_i()),a="1."):"loweralpha"["$==="](m)?(!1!==e&&e!==b&&null!=e&&(n=c("a"["$[]"](0).$ord(),d).$chr(),q=
a.$chomp(".")),a="a."):"upperalpha"["$==="](m)?(!1!==e&&e!==b&&null!=e&&(n=c("A"["$[]"](0).$ord(),d).$chr(),q=a.$chomp(".")),a="A."):"lowerroman"["$==="](m)?(!1!==e&&e!==b&&null!=e&&(n=c(d,1),q=this.$roman_numeral_to_int(a.$chomp(")"))),a="i)"):"upperroman"["$==="](m)&&(!1!==e&&e!==b&&null!=e&&(n=c(d,1),q=this.$roman_numeral_to_int(a.$chomp(")"))),a="I)");(h=!1!==e&&e!==b&&null!=e?n["$!="](q):e)===b||null==h||h.$$is_boolean&&1!=h||this.$warn("asciidoctor: WARNING: "+g.$line_info()+": list item index: expected "+
n+", got "+q);return a},P.$$arity=-2);a.defs(y,"$is_sibling_list_item?",u=function(c,d,e){var f,g=b,h=b,l=b;(f=a.get("Regexp")["$==="](e))===b||null==f||f.$$is_boolean&&1!=f?(g=v.get("ListRxMap")["$[]"](d),h=e):(g=e,h=!1);return(f=l=g.$match(c))===b||null==f||f.$$is_boolean&&1!=f?!1:!1!==h&&h!==b&&null!=h?h["$=="](this.$resolve_list_marker(d,l["$[]"](1))):!0},u.$$arity=3);a.defs(y,"$next_table",da=function(d,e,g){var h,k,m,n,q,p,r=b,t=b,u=b,z=b,B=b,x=b,w=b,A=b,y=b,Q=b,K=b,R=b,A=b,r=v.get("Table").$new(e,
g);(h=g["$has_key?"]("title"))===b||null==h||h.$$is_boolean&&1!=h||(h=[g.$delete("title")],k=r,k["$title="].apply(k,h),h[h.length-1],r.$assign_caption(g.$delete("caption")));(h=(k=g["$key?"]("cols"),!1!==k&&k!==b&&null!=k?(t=this.$parse_colspecs(g["$[]"]("cols")))["$empty?"]()["$!"]():k))===b||null==h||h.$$is_boolean&&1!=h?u=!1:(r.$create_columns(t),u=!0);z=d.$skip_blank_lines();B=v.get("Table").$$scope.get("ParserContext").$new(d,r,g);x=!1!==(h=g["$key?"]("header-option"))&&h!==b&&null!=h?h:g["$key?"]("noheader-option");
for(w=-1;(k=d["$has_more_lines?"]())!==b&&null!=k&&(!k.$$is_boolean||1==k);){w=c(w,1);A=d.$read_line();(k=(m=(n=(q=(p=x["$!"](),!1!==p&&p!==b&&null!=p?z["$=="](0):p),!1!==q&&q!==b&&null!=q?w["$=="](0):q),!1!==n&&n!==b&&null!=n?(y=d.$peek_line())["$nil?"]()["$!"]():n),!1!==m&&m!==b&&null!=m?y["$empty?"]():m))===b||null==k||k.$$is_boolean&&1!=k||(k=[!0],m=r,m["$has_header_option="].apply(m,k),k[k.length-1],g["$[]="]("header-option",""),g["$[]="]("options",(k=g["$key?"]("options"))===b||null==k||k.$$is_boolean&&
1!=k?"header":""+g["$[]"]("options")+",header"));B.$format()["$=="]("psv")&&((k=B["$starts_with_delimiter?"](A))===b||null==k||k.$$is_boolean&&1!=k?(m=this.$parse_cellspec(A,"start",B.$delimiter()),k=a.to_ary(m),Q=null==k[0]?b:k[0],A=null==k[1]?b:k[1],m,(k=Q["$nil?"]()["$!"]())===b||null==k||k.$$is_boolean&&1!=k||B.$close_open_cell(Q)):(A=A["$[]"](l(1,-1,!1)),B.$close_open_cell()));for(K=!1;(m=!1!==(n=K["$!"]())&&n!==b&&null!=n?n:A["$empty?"]()["$!"]())!==b&&null!=m&&(!m.$$is_boolean||1==m);)if(K=
!0,(m=R=B.$match_delimiter(A))===b||null==m||m.$$is_boolean&&1!=m)m=[""+B.$buffer()+A+v.get("EOL")],n=B,n["$buffer="].apply(n,m),m[m.length-1],B.$format()["$=="]("csv")&&(m=[""+B.$buffer().$rstrip()+" "],n=B,n["$buffer="].apply(n,m),m[m.length-1]),A="",(m=!1!==(n=B.$format()["$=="]("psv"))&&n!==b&&null!=n?n:(q=B.$format()["$=="]("csv"))?B["$buffer_has_unclosed_quotes?"]():B.$format()["$=="]("csv"))===b||null==m||m.$$is_boolean&&1!=m?B.$close_cell(!0):B.$keep_cell_open();else{if(B.$format()["$=="]("csv")){if((m=
B["$buffer_has_unclosed_quotes?"](R.$pre_match()))!==b&&null!=m&&(!m.$$is_boolean||1==m)){A=B.$skip_matched_delimiter(R);continue}}else if((m=R.$pre_match()["$end_with?"]("\\"))!==b&&null!=m&&(!m.$$is_boolean||1==m)){if((m=(A=B.$skip_matched_delimiter(R,!0))["$empty?"]())!==b&&null!=m&&(!m.$$is_boolean||1==m)){m=[""+B.$buffer()+v.get("EOL")];n=B;n["$buffer="].apply(n,m);m[m.length-1];B.$keep_cell_open();break}continue}B.$format()["$=="]("psv")?(n=this.$parse_cellspec(R.$pre_match(),"end"),m=a.to_ary(n),
Q=null==m[0]?b:m[0],A=null==m[1]?b:m[1],n,B.$push_cellspec(Q),m=[""+B.$buffer()+A]):m=[""+B.$buffer()+R.$pre_match()];n=B;n["$buffer="].apply(n,m);m[m.length-1];(m=(A=R.$post_match())["$empty?"]())===b||null==m||m.$$is_boolean&&1!=m||(K=!1);B.$close_cell()}if((k=B["$cell_open?"]())===b||null==k||k.$$is_boolean&&1!=k)z=d.$skip_blank_lines();if((k=d["$has_more_lines?"]())===b||null==k||k.$$is_boolean&&1!=k)(k=B["$cell_open?"]())===b||null==k||k.$$is_boolean&&1!=k||B.$close_cell(!0)}((h=!1!==(k=(m="colcount",
n=r.$attributes(),!1!==(q=n["$[]"](m))&&q!==b&&null!=q?q:n["$[]="](m,r.$columns().$size()))["$=="](0))&&k!==b&&null!=k?k:u)===b||null==h||h.$$is_boolean&&1!=h)&&r.$assign_column_widths();r.$partition_header_footer(g);return r},da.$$arity=3);a.defs(y,"$parse_colspecs",qa=function(c){var d,e,f,g,h,l=b;(d=c["$include?"](" "))===b||null==d||d.$$is_boolean&&1!=d||(c=c.$tr(" ",""));if(c["$=="](c.$to_i().$to_s()))return(d=(e=a.get("Array")).$new,d.$$p=(f=function(){return t(["width"],{width:1})},f.$$s=this,
f.$$arity=0,f),d).call(e,c.$to_i());l=[];(d=(g=c.$split(",",-1)).$each,d.$$p=(h=function(c){var d=h.$$s||this,e,f,g,k=b,m=b,n=b,q=b;null==c&&(c=b);if((e=c["$empty?"]())===b||null==e||e.$$is_boolean&&1!=e){if((e=k=v.get("ColumnSpecRx").$match(c))===b||null==e||e.$$is_boolean&&1!=e)return b;m=t([],{});if((e=k["$[]"](2))!==b&&null!=e&&(!e.$$is_boolean||1==e)){f=k["$[]"](2).$split(".");e=a.to_ary(f);n=null==e[0]?b:e[0];q=null==e[1]?b:e[1];f;if((e=(f=n["$nil_or_empty?"]()["$!"](),!1!==f&&f!==b&&null!=
f?v.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](n):f))!==b&&null!=e&&(!e.$$is_boolean||1==e))m["$[]="]("halign",v.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](n));if((e=(f=q["$nil_or_empty?"]()["$!"](),!1!==f&&f!==b&&null!=f?v.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](q):f))!==b&&null!=e&&(!e.$$is_boolean||1==e))m["$[]="]("valign",v.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](q))}m["$[]="]("width",(e=k["$[]"](3))===b||null==e||e.$$is_boolean&&
1!=e?1:k["$[]"](3).$to_i());if((e=(f=k["$[]"](4),!1!==f&&f!==b&&null!=f?v.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](k["$[]"](4)):f))!==b&&null!=e&&(!e.$$is_boolean||1==e))m["$[]="]("style",v.get("Table").$$scope.get("TEXT_STYLES")["$[]"](k["$[]"](4)));return(e=k["$[]"](1))===b||null==e||e.$$is_boolean&&1!=e?l["$<<"](m):(e=(f=1).$upto,e.$$p=(g=function(){return l["$<<"](m.$dup())},g.$$s=d,g.$$arity=0,g),e).call(f,k["$[]"](1).$to_i())}return l["$<<"](t(["width"],{width:1}))},h.$$s=this,h.$$arity=
1,h),d).call(g);return l},qa.$$arity=1);a.defs(y,"$parse_cellspec",sa=function(c,d,e){var f,g,h=b,l=b,k=b,m=k=h=b,n=b;null==d&&(d="start");null==e&&(e=b);h=b;l="";k=d;if("start"["$==="](k)){if((f=c["$include?"](e))===b||null==f||f.$$is_boolean&&1!=f)return[b,c];g=c.$split(e,2);f=a.to_ary(g);h=null==f[0]?b:f[0];l=null==f[1]?b:f[1];g;if((f=h=v.get("CellSpecStartRx").$match(h))===b||null==f||f.$$is_boolean&&1!=f)return[b,c];if((f=h["$[]"](0)["$empty?"]())!==b&&null!=f&&(!f.$$is_boolean||1==f))return[t([],
{}),l]}else if("end"["$==="](k)){if((f=h=v.get("CellSpecEndRx").$match(c))===b||null==f||f.$$is_boolean&&1!=f)return[t([],{}),c];if((f=h["$[]"](0).$lstrip()["$empty?"]())!==b&&null!=f&&(!f.$$is_boolean||1==f))return[t([],{}),c.$rstrip()];l=h.$pre_match()}k=t([],{});if((f=h["$[]"](1))!==b&&null!=f&&(!f.$$is_boolean||1==f))if(g=h["$[]"](1).$split("."),f=a.to_ary(g),m=null==f[0]?b:f[0],n=null==f[1]?b:f[1],g,m=(f=m["$nil_or_empty?"]())===b||null==f||f.$$is_boolean&&1!=f?m.$to_i():1,n=(f=n["$nil_or_empty?"]())===
b||null==f||f.$$is_boolean&&1!=f?n.$to_i():1,h["$[]"](2)["$=="]("+")){if(!m["$=="](1))k["$[]="]("colspan",m);if(!n["$=="](1))k["$[]="]("rowspan",n)}else if(h["$[]"](2)["$=="]("*")&&!m["$=="](1))k["$[]="]("repeatcol",m);if((f=h["$[]"](3))!==b&&null!=f&&(!f.$$is_boolean||1==f)){g=h["$[]"](3).$split(".");f=a.to_ary(g);m=null==f[0]?b:f[0];n=null==f[1]?b:f[1];g;if((f=(g=m["$nil_or_empty?"]()["$!"](),!1!==g&&g!==b&&null!=g?v.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](m):g))!==b&&null!=
f&&(!f.$$is_boolean||1==f))k["$[]="]("halign",v.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](m));if((f=(g=n["$nil_or_empty?"]()["$!"](),!1!==g&&g!==b&&null!=g?v.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](n):g))!==b&&null!=f&&(!f.$$is_boolean||1==f))k["$[]="]("valign",v.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](n))}if((f=(g=h["$[]"](4),!1!==g&&g!==b&&null!=g?v.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](h["$[]"](4)):g))!==b&&null!=f&&(!f.$$is_boolean||
1==f))k["$[]="]("style",v.get("Table").$$scope.get("TEXT_STYLES")["$[]"](h["$[]"](4)));return[k,l]},sa.$$arity=-2);a.defs(y,"$parse_style_attribute",Ca=function(a,d){var e,g,h,l,k,m,q,p=b,r=b,u=b,z=b,B=b,x=b,w=r=h=b;null==d&&(d=b);p=a["$[]"]("style");r=a["$[]"](1);if((e=(g=(h=!1!==r&&r!==b&&null!=r)?r["$include?"](" ")["$!"]():r,!1!==g&&g!==b&&null!=g?v.get("Compliance").$shorthand_property_syntax():g))===b||null==e||e.$$is_boolean&&1!=e)return a["$[]="]("style",r),[r,p];u="style";z=[];B=t([],{});
x=(e=(g=this).$lambda,e.$$p=(l=function(){var a=l.$$s||this,c,e,f=b;return(c=z["$empty?"]())===b||null==c||c.$$is_boolean&&1!=c?(f=u,"role"["$==="](f)||"option"["$==="](f)?(c=u,a=B,!1!==(e=a["$[]"](c))&&e!==b&&null!=e?e:a["$[]="](c,[]),B["$[]"](u).$push(z.$join())):("id"["$==="](f)&&((c=B["$has_key?"]("id"))===b||null==c||c.$$is_boolean&&1!=c||a.$warn("asciidoctor: WARNING:"+((c=d["$nil?"]())===b||null==c||c.$$is_boolean&&1!=c?" "+d.$prev_line_info()+":":b)+" multiple ids detected in style attribute")),
B["$[]="](u,z.$join())),z=[]):(c=u["$!="]("style"))===b||null==c||c.$$is_boolean&&1!=c?b:a.$warn("asciidoctor: WARNING:"+((c=d["$nil?"]())===b||null==c||c.$$is_boolean&&1!=c?" "+d.$prev_line_info()+":":b)+" invalid empty "+u+" detected in style attribute")},l.$$s=this,l.$$arity=0,l),e).call(g);(e=(h=r).$each_char,e.$$p=(k=function(a){var c,d,e,f=b;null==a&&(a=b);if((c=!1!==(d=!1!==(e=a["$=="]("."))&&e!==b&&null!=e?e:a["$=="]("#"))&&d!==b&&null!=d?d:a["$=="]("%"))===b||null==c||c.$$is_boolean&&1!=
c)return z.$push(a);x.$call();f=a;return"."["$==="](f)?u="role":"#"["$==="](f)?u="id":"%"["$==="](f)?u="option":b},k.$$s=this,k.$$arity=1,k),e).call(h);if(u["$=="]("style"))h=a["$[]="]("style",r);else{x.$call();h=(e=B["$has_key?"]("style"))===b||null==e||e.$$is_boolean&&1!=e?b:a["$[]="]("style",B["$[]"]("style"));if((e=B["$has_key?"]("id"))!==b&&null!=e&&(!e.$$is_boolean||1==e))a["$[]="]("id",B["$[]"]("id"));if((e=B["$has_key?"]("role"))!==b&&null!=e&&(!e.$$is_boolean||1==e))a["$[]="]("role",n(B["$[]"]("role"),
" "));if((e=B["$has_key?"]("option"))!==b&&null!=e&&(!e.$$is_boolean||1==e))if((e=(m=r=B["$[]"]("option")).$each,e.$$p=(q=function(c){null==c&&(c=b);return a["$[]="](""+c+"-option","")},q.$$s=this,q.$$arity=1,q),e).call(m),(e=w=a["$[]"]("options"))===b||null==e||e.$$is_boolean&&1!=e)a["$[]="]("options",n(r,","));else a["$[]="]("options",n(c(r,w.$split(",")),","))}return[h,p]},Ca.$$arity=-2);a.defs(y,"$adjust_indentation!",Da=function(d,e,h){var k,m,q,r,t,u,z,B,x=this,w=b,A=b,y=b;null==e&&(e=0);null==
h&&(h=0);if((k=d["$empty?"]())!==b&&null!=k&&(!k.$$is_boolean||1==k))return b;(k=(m=p(h=h.$to_i(),0),!1!==m&&m!==b&&null!=m?d.$join()["$include?"](v.get("TAB")):m))===b||null==k||k.$$is_boolean&&1!=k||(w=n(" ",h),(k=(m=d)["$map!"],k.$$p=(q=function(a){var d=q.$$s||this,e,l,k,m,p,r=b;null==a&&(a=b);if((e=a["$empty?"]())!==b&&null!=e&&(!e.$$is_boolean||1==e))return a;(e=a["$start_with?"](v.get("TAB")))===b||null==e||e.$$is_boolean&&1!=e||(a=(e=(l=a).$sub,e.$$p=(k=function(a){null==a&&(a=b);return n(w,
a.$length())},k.$$s=d,k.$$arity=1,k),e).call(l,v.get("TabIndentRx")));if((e=a["$include?"](v.get("TAB")))===b||null==e||e.$$is_boolean&&1!=e)return a;r=0;return a=(e=(m=a).$gsub,e.$$p=(p=function(){var a=b,d=b;null==M["~"]&&(M["~"]=b);if((a=c(M["~"].$begin(0),r))["$%"](h)["$=="](0))return r=c(r,g(h,1)),w;(d=g(h,a["$%"](h)))["$=="](1)||(r=c(r,g(d,1)));return n(" ",d)},p.$$s=d,p.$$arity=0,p),e).call(m,v.get("TabRx"))},q.$$s=x,q.$$arity=1,q),k).call(m));if((k=(r=!1!==e&&e!==b&&null!=e)?p(e=e.$to_i(),
-1):e)===b||null==k||k.$$is_boolean&&1!=k)return b;A=b;(function(){var c=a.new_brk();try{return(k=(r=d).$each,k.$$p=(t=function(d){var e,f=b;null==d&&(d=b);if((e=d["$empty?"]())!==b&&null!=e&&(!e.$$is_boolean||1==e))return b;if((f=g(d.$length(),d.$lstrip().$length()))["$=="](0))A=b,a.brk(b,c);else return(e=!1!==A&&A!==b&&null!=A?p(f,A):A)===b||null==e||e.$$is_boolean&&1!=e?A=f:b},t.$$s=x,t.$$brk=c,t.$$arity=1,t),k).call(r)}catch(e){if(e===c)return e.$v;throw e;}})();e["$=="](0)?!1!==A&&A!==b&&null!=
A&&(k=d["$map!"],k.$$p=(u=function(a){var c;null==a&&(a=b);return(c=a["$empty?"]())===b||null==c||c.$$is_boolean&&1!=c?a["$[]"](l(A,-1,!1)):a},u.$$s=x,u.$$arity=1,u),k).call(d):(y=n(" ",e),!1!==A&&A!==b&&null!=A?(k=d["$map!"],k.$$p=(z=function(a){var d;null==a&&(a=b);return(d=a["$empty?"]())===b||null==d||d.$$is_boolean&&1!=d?c(y,a["$[]"](l(A,-1,!1))):a},z.$$s=x,z.$$arity=1,z),k).call(d):(k=d["$map!"],k.$$p=(B=function(a){var d;null==a&&(a=b);return(d=a["$empty?"]())===b||null==d||d.$$is_boolean&&
1!=d?c(y,a):a},B.$$s=x,B.$$arity=1,B),k).call(d));return b},Da.$$arity=-2);a.defs(y,"$sanitize_attribute_name",Ea=function(a){return a.$gsub(v.get("InvalidAttributeNameCharsRx"),"").$downcase()},Ea.$$arity=1);return(a.defs(y,"$roman_numeral_to_int",Aa=function(a){var e,h,k,m=b,n=b;a=a.$downcase();m=t(["i","v","x"],{i:1,v:5,x:10});n=0;(e=(h=l(0,g(a.$length(),1),!1)).$each,e.$$p=(k=function(e){var h,k,q=b;null==e&&(e=b);q=m["$[]"](a["$[]"](l(e,e,!1)));return(h=(k=d(c(e,1),a.$length()),!1!==k&&k!==b&&
null!=k?p(m["$[]"](a["$[]"](l(c(e,1),c(e,1),!1))),q):k))===b||null==h||h.$$is_boolean&&1!=h?n=c(n,q):n=g(n,q)},k.$$s=this,k.$$arity=1,k),e).call(h);return n},Aa.$$arity=1),b)&&"roman_numeral_to_int"})(m(x,"Asciidoctor").$$scope.base,null)}(a.base)};Opal.modules["asciidoctor/path_resolver"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var p=a.nil,n=a.module,e=a.klass,g=a.hash2,h=a.range;a.add_stubs("$attr_accessor $is_root? $expand_path $pwd $start_with? $== $=~ $nil_or_empty? $include? $tr $partition_path $join_path $[] $posixfy $is_web_root? $is_unc? $index $split $shift $delete $[]= $* $raise $empty? $system_path $!= $! $dup $each $> $length $pop $fetch $warn $push $chomp $uri_prefix $<< $+".split(" "));
return function(d){(function(b,$super){function d(){}var n=d=e(b,$super,"PathResolver",d),k=n.$$proto,l=n.$$scope,r,x,C,E,D,y,v,N,F,I,G;k.file_separator=k._partition_path_web=k._partition_path_sys=k.working_dir=p;a.cdecl(l,"DOT",".");a.cdecl(l,"DOT_DOT","..");a.cdecl(l,"DOT_SLASH","./");a.cdecl(l,"SLASH","/");a.cdecl(l,"BACKSLASH","\\");a.cdecl(l,"DOUBLE_SLASH","//");a.cdecl(l,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);n.$attr_accessor("file_separator");n.$attr_accessor("working_dir");a.defn(n,"$initialize",
r=function(b,c){var d;null==b&&(b=p);null==c&&(c=p);this.file_separator=!1!==b&&b!==p&&null!=b?b:!1!==(d=a.get("File").$$scope.get("ALT_SEPARATOR"))&&d!==p&&null!=d?d:a.get("File").$$scope.get("SEPARATOR");this.working_dir=!1!==c&&c!==p&&null!=c?(d=this["$is_root?"](c))===p||null==d||d.$$is_boolean&&1!=d?a.get("File").$expand_path(c):c:a.get("File").$expand_path(a.get("Dir").$pwd());this._partition_path_sys=g([],{});return this._partition_path_web=g([],{})},r.$$arity=-1);a.defn(n,"$is_root?",x=function(b){var c,
d,e;return(c=b["$start_with?"](l.get("SLASH")))===p||null==c||c.$$is_boolean&&1!=c?(c=this.file_separator["$=="](l.get("BACKSLASH"))?l.get("WindowsRootRx")["$=~"](b):this.file_separator["$=="](l.get("BACKSLASH")))===p||null==c||c.$$is_boolean&&1!=c?(c=(d=(e=a.get("RUBY_ENGINE_OPAL"),!1!==e&&e!==p&&null!=e?a.get("JAVASCRIPT_PLATFORM")["$=="]("browser"):e),!1!==d&&d!==p&&null!=d?b["$start_with?"]("file:///"):d))===p||null==c||c.$$is_boolean&&1!=c?!1:!0:!0:!0},x.$$arity=1);a.defn(n,"$is_unc?",C=function(a){return a["$start_with?"](l.get("DOUBLE_SLASH"))},
C.$$arity=1);a.defn(n,"$is_web_root?",E=function(a){return a["$start_with?"](l.get("SLASH"))},E.$$arity=1);a.defn(n,"$posixfy",D=function(a){var b;return(b=a["$nil_or_empty?"]())===p||null==b||b.$$is_boolean&&1!=b?(b=a["$include?"](l.get("BACKSLASH")))===p||null==b||b.$$is_boolean&&1!=b?a:a.$tr(l.get("BACKSLASH"),l.get("SLASH")):""},D.$$arity=1);a.defn(n,"$expand_path",y=function(b){var c,d=p;c=p;b=this.$partition_path(b);c=a.to_ary(b);d=null==c[0]?p:c[0];c=null==c[1]?p:c[1];b;return this.$join_path(d,
c)},y.$$arity=1);a.defn(n,"$partition_path",v=function(a,b){var c,d=p,e=d=p,f=p;null==b&&(b=!1);if((c=d=!1!==b&&b!==p&&null!=b?this._partition_path_web["$[]"](a):this._partition_path_sys["$[]"](a))!==p&&null!=c&&(!c.$$is_boolean||1==c))return d;d=this.$posixfy(a);e=!1!==b&&b!==p&&null!=b?(c=this["$is_web_root?"](d))===p||null==c||c.$$is_boolean&&1!=c?(c=d["$start_with?"](l.get("DOT_SLASH")))===p||null==c||c.$$is_boolean&&1!=c?p:l.get("DOT_SLASH"):l.get("SLASH"):(c=this["$is_root?"](d))===p||null==
c||c.$$is_boolean&&1!=c?(c=d["$start_with?"](l.get("DOT_SLASH")))===p||null==c||c.$$is_boolean&&1!=c?p:l.get("DOT_SLASH"):(c=this["$is_unc?"](d))===p||null==c||c.$$is_boolean&&1!=c?(c=d["$start_with?"](l.get("SLASH")))===p||null==c||c.$$is_boolean&&1!=c?d["$[]"](h(0,d.$index(l.get("SLASH")),!1)):l.get("SLASH"):l.get("DOUBLE_SLASH");f=d.$split(l.get("SLASH"));e["$=="](l.get("DOUBLE_SLASH"))?f=f["$[]"](h(2,-1,!1)):!1!==e&&e!==p&&null!=e&&f.$shift();f.$delete(l.get("DOT"));return(!1!==b&&b!==p&&null!=
b?this._partition_path_web:this._partition_path_sys)["$[]="](a,[f,e,d])},v.$$arity=-2);a.defn(n,"$join_path",N=function(a,b){null==b&&(b=p);return!1!==b&&b!==p&&null!=b?""+b+c(a,l.get("SLASH")):c(a,l.get("SLASH"))},N.$$arity=-2);a.defn(n,"$system_path",F=function(b,c,d,e){var f,h,k,n=p,r=p,t=p,v=p,x=p,w=x=t=p,y=p;null==d&&(d=p);null==e&&(e=g([],{}));!1!==d&&d!==p&&null!=d&&(((f=this["$is_root?"](d))===p||null==f||f.$$is_boolean&&1!=f)&&this.$raise(a.get("SecurityError"),"Jail is not an absolute path: "+
d),d=this.$posixfy(d));(f=b["$nil_or_empty?"]())===p||null==f||f.$$is_boolean&&1!=f?(h=this.$partition_path(b),f=a.to_ary(h),n=null==f[0]?p:f[0],r=null==f[1]?p:f[1],h):n=[];if((f=n["$empty?"]())!==p&&null!=f&&(!f.$$is_boolean||1==f))if((f=c["$nil_or_empty?"]())===p||null==f||f.$$is_boolean&&1!=f){if((f=this["$is_root?"](c))===p||null==f||f.$$is_boolean&&1!=f)return this.$system_path(c,d,d,e);if(!1===d||d===p||null==d)return this.$expand_path(c)}else return!1!==d&&d!==p&&null!=d?d:this.working_dir;
if(!((f=(h=!1!==r&&r!==p&&null!=r)?r["$!="](l.get("DOT_SLASH")):r)===p||null==f||f.$$is_boolean&&1!=f||(t=this.$join_path(n,r),(f=!1!==(h=d["$!"]())&&h!==p&&null!=h?h:t["$start_with?"](d))===p||null==f||f.$$is_boolean&&1!=f)))return t;c=(f=c["$nil_or_empty?"]())===p||null==f||f.$$is_boolean&&1!=f?(f=this["$is_root?"](c))===p||null==f||f.$$is_boolean&&1!=f?this.$system_path(c,d,d,e):this.$posixfy(c):!1!==d&&d!==p&&null!=d?d:this.working_dir;d["$=="](c)?(h=this.$partition_path(d),f=a.to_ary(h),v=null==
f[0]?p:f[0],x=null==f[1]?p:f[1],h,t=v.$dup()):(!1!==d&&d!==p&&null!=d?(((f=c["$start_with?"](d))===p||null==f||f.$$is_boolean&&1!=f)&&this.$raise(a.get("SecurityError"),""+(!1!==(f=e["$[]"]("target_name"))&&f!==p&&null!=f?f:"Start path")+" "+c+" is outside of jail: "+d+" (disallowed in safe mode)"),h=this.$partition_path(c),f=a.to_ary(h),t=null==f[0]?p:f[0],x=null==f[1]?p:f[1],h,h=this.$partition_path(d),f=a.to_ary(h),v=null==f[0]?p:f[0]):(h=this.$partition_path(c),f=a.to_ary(h),t=null==f[0]?p:f[0]),
x=null==f[1]?p:f[1],h);w=t.$dup();y=!1;(f=(h=n).$each,f.$$p=(k=function(c){var f=k.$$s||this,g;null==c&&(c=p);if(c["$=="](l.get("DOT_DOT"))){if(!1!==d&&d!==p&&null!=d){c=w.$length();var h=v.$length();if((g="number"===typeof c&&"number"===typeof h?c>h:c["$>"](h))===p||null==g||g.$$is_boolean&&1!=g){if((g=(!1!==p&&p!==p&&null!=p?p:e.$fetch("recover",!0))["$!"]())===p||null==g||g.$$is_boolean&&1!=g){if((g=y["$!"]())===p||null==g||g.$$is_boolean&&1!=g)return p;f.$warn("asciidoctor: WARNING: "+(!1!==(g=
e["$[]"]("target_name"))&&g!==p&&null!=g?g:"path")+" has illegal reference to ancestor of jail, auto-recovering");return y=!0}return f.$raise(a.get("SecurityError"),""+(!1!==(g=e["$[]"]("target_name"))&&g!==p&&null!=g?g:"path")+" "+b+" refers to location outside jail: "+d+" (disallowed in safe mode)")}}return w.$pop()}return w.$push(c)},k.$$s=this,k.$$arity=1,k),f).call(h);return this.$join_path(w,x)},F.$$arity=-3);a.defn(n,"$web_path",I=function(b,c){var d,e,f,g=p,k=p,n=p,r=p;null==c&&(c=p);b=this.$posixfy(b);
c=this.$posixfy(c);g=p;if((d=!1!==(e=c["$nil_or_empty?"]())&&e!==p&&null!=e?e:this["$is_web_root?"](b))===p||null==d||d.$$is_boolean&&1!=d)b=""+c.$chomp("/")+l.get("SLASH")+b,(d=g=l.get("Helpers").$uri_prefix(b))===p||null==d||d.$$is_boolean&&1!=d||(b=b["$[]"](h(g.$length(),-1,!1)));e=this.$partition_path(b,!0);d=a.to_ary(e);k=null==d[0]?p:d[0];n=null==d[1]?p:d[1];e;r=[];(d=(e=k).$each,d.$$p=(f=function(a){var b;null==a&&(a=p);return a["$=="](l.get("DOT_DOT"))?(b=r["$empty?"]())===p||null==b||b.$$is_boolean&&
1!=b?r["$[]"](-1)["$=="](l.get("DOT_DOT"))?r["$<<"](a):r.$pop():(b=!1!==n&&n!==p&&null!=n?n["$!="](l.get("DOT_SLASH")):n)===p||null==b||b.$$is_boolean&&1!=b?r["$<<"](a):p:r["$<<"](a)},f.$$s=this,f.$$arity=1,f),d).call(e);return!1!==g&&g!==p&&null!=g?""+g+this.$join_path(r,n):this.$join_path(r,n)},I.$$arity=-2);return(a.defn(n,"$relative_path",G=function(a,b){var c,d,e=p;if((c=(d=this["$is_root?"](a),!1!==d&&d!==p&&null!=d?this["$is_root?"](b):d))===p||null==c||c.$$is_boolean&&1!=c)return a;c=b.$chomp(this.file_separator).$length();
e="number"===typeof c?c+1:c["$+"](1);return a["$[]"](h(e,-1,!1))},G.$$arity=2),p)&&"relative_path"})(n(d,"Asciidoctor").$$scope.base,null)}(a.base)};Opal.modules["asciidoctor/reader"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}
function g(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var h=a.nil,d=a.module,b=a.klass,m=a.hash2,r=a.range;a.add_stubs("$attr_accessor $path $lineno $attr_reader $! $=== $split $file $dir $dirname $== $basename $prepare_lines $dup $empty? $[] $normalize_lines_from_string $normalize_lines_array $+ $nil? $peek_line $nil_or_empty? $> $process_line $times $read_line $<< $reverse_each $unshift $has_more_lines? $shift $* $read_lines $advance $eof? $start_with? $match $push $read_lines_until $=~ $size $clear $[]= $- $new $line_info $to_i $fetch $attributes $< $references $has_key? $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $preprocess_conditional_inclusion $captures $preprocess_include $strip $pop_include $downcase $warn $none? $any? $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $pwd $base_dir $join $uriish? $require_library $normalize_system_path $file? $relative_path $each $map $to_proc $/ $concat $to_a $uniq $sort $to_set $open $each_line $infinite? $push_include $force_encoding $chomp $read $extname $rootname $<= $!= $to_f $extensions? $extensions $include_processors $class $object_id $inspect $to_s".split(" "));
return function(t){t=d(t,"Asciidoctor").$$scope;(function(d,$super){function g(){}var t=g=b(d,$super,"Reader",g),C=t.$$proto,E=t.$$scope,D,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q,Z,R,ba,ga,ia,ma,la,na,fa,T,ja;C.file=C.dir=C.lines=C.process_lines=C.look_ahead=C.eof=C.unescape_next_line=C.lineno=C.path=C.source_lines=h;(function(c,$super){function d(){}var e=d=b(c,$super,"Cursor",d),f,g;e.$attr_accessor("file");e.$attr_accessor("dir");e.$attr_accessor("path");e.$attr_accessor("lineno");a.defn(e,"$initialize",
f=function(a,b,c,d){null==b&&(b=h);null==c&&(c=h);null==d&&(d=h);this.file=a;this.dir=b;this.path=c;return this.lineno=d},f.$$arity=-2);a.defn(e,"$line_info",g=function(){return""+this.$path()+": line "+this.$lineno()},g.$$arity=0);return a.alias(e,"to_s","line_info")})(E.base,null);t.$attr_reader("file");t.$attr_reader("dir");t.$attr_reader("path");t.$attr_reader("lineno");t.$attr_reader("source_lines");t.$attr_accessor("process_lines");a.defn(t,"$initialize",D=function(b,c,d){var e;null==b&&(b=
h);null==c&&(c=h);null==d&&(d=m(["normalize"],{normalize:!1}));if((e=c["$!"]())===h||null==e||e.$$is_boolean&&1!=e)if((e=a.get("String")["$==="](c))===h||null==e||e.$$is_boolean&&1!=e){this.file=c.$file();this.dir=c.$dir();this.path=!1!==(e=c.$path())&&e!==h&&null!=e?e:"<stdin>";if((e=this.file)!==h&&null!=e&&(!e.$$is_boolean||1==e)){if((e=this.dir)===h||null==e||e.$$is_boolean&&1!=e)this.dir=a.get("File").$dirname(this.file),this.dir["$=="](".")&&(this.dir=h);if((e=c.$path())===h||null==e||e.$$is_boolean&&
1!=e)this.path=a.get("File").$basename(this.file)}this.lineno=!1!==(e=c.$lineno())&&e!==h&&null!=e?e:1}else this.file=c,c=a.get("File").$split(this.file),e=a.to_ary(c),this.dir=null==e[0]?h:e[0],this.path=null==e[1]?h:e[1],c,this.lineno=1;else this.file=this.dir=h,this.path="<stdin>",this.lineno=1;this.lines=!1!==b&&b!==h&&null!=b?this.$prepare_lines(b,d):[];this.source_lines=this.lines.$dup();this.eof=this.lines["$empty?"]();this.look_ahead=0;this.process_lines=!0;return this.unescape_next_line=
!1},D.$$arity=-1);a.defn(t,"$prepare_lines",y=function(b,c){var d;null==c&&(c=m([],{}));return(d=a.get("String")["$==="](b))===h||null==d||d.$$is_boolean&&1!=d?(d=c["$[]"]("normalize"))===h||null==d||d.$$is_boolean&&1!=d?b.$dup():E.get("Helpers").$normalize_lines_array(b):(d=c["$[]"]("normalize"))===h||null==d||d.$$is_boolean&&1!=d?b.$split(E.get("EOL")):E.get("Helpers").$normalize_lines_from_string(b)},y.$$arity=-2);a.defn(t,"$process_line",v=function(a){var b;(b=this.process_lines)===h||null==b||
b.$$is_boolean&&1!=b||(this.look_ahead=c(this.look_ahead,1));return a},v.$$arity=1);a.defn(t,"$has_more_lines?",N=function(){var a;return(!1!==(a=this.eof)&&a!==h&&null!=a?a:this.eof=this.$peek_line()["$nil?"]())["$!"]()},N.$$arity=0);a.defn(t,"$next_line_empty?",F=function(){return this.$peek_line()["$nil_or_empty?"]()},F.$$arity=0);a.defn(t,"$peek_line",I=function(a){var b,c,d=h;null==a&&(a=!1);if((b=!1!==(c=a)&&c!==h&&null!=c?c:p(this.look_ahead,0))===h||null==b||b.$$is_boolean&&1!=b){if((b=!1!==
(c=this.eof)&&c!==h&&null!=c?c:this.lines["$empty?"]())===h||null==b||b.$$is_boolean&&1!=b)return(b=(d=this.$process_line(this.lines["$[]"](0)))["$!"]())===h||null==b||b.$$is_boolean&&1!=b?d:this.$peek_line();this.eof=!0;this.look_ahead=0;return h}return(b=this.unescape_next_line)===h||null==b||b.$$is_boolean&&1!=b?this.lines["$[]"](0):this.lines["$[]"](0)["$[]"](r(1,-1,!1))},I.$$arity=-1);a.defn(t,"$peek_lines",G=function(b,c){var d,e,f,g,k,m=this,n=h,q=h;null==b&&(b=1);null==c&&(c=!0);n=m.look_ahead;
q=[];(function(){var g=a.new_brk();try{return(d=(e=b).$times,d.$$p=(f=function(){var b,d=h;if((b=d=(f.$$s||this).$read_line(c))===h||null==b||b.$$is_boolean&&1!=b)a.brk(h,g);else return q["$<<"](d)},f.$$s=m,f.$$brk=g,f.$$arity=0,f),d).call(e)}catch(k){if(k===g)return k.$v;throw k;}})();if((d=q["$empty?"]())===h||null==d||d.$$is_boolean&&1!=d)(d=(g=q).$reverse_each,d.$$p=(k=function(a){var b=k.$$s||this;null==a&&(a=h);return b.$unshift(a)},k.$$s=m,k.$$arity=1,k),d).call(g),!1!==c&&c!==h&&null!=c&&
(m.look_ahead=n);return q},G.$$arity=-1);a.defn(t,"$read_line",K=function(a){var b,c,d;null==a&&(a=!1);return(b=!1!==(c=!1!==(d=a)&&d!==h&&null!=d?d:p(this.look_ahead,0))&&c!==h&&null!=c?c:this["$has_more_lines?"]())===h||null==b||b.$$is_boolean&&1!=b?h:this.$shift()},K.$$arity=-1);a.defn(t,"$read_lines",z=function(){for(var a,b=h,b=[];(a=this["$has_more_lines?"]())!==h&&null!=a&&(!a.$$is_boolean||1==a);)b["$<<"](this.$shift());return b},z.$$arity=0);a.alias(t,"readlines","read_lines");a.defn(t,"$read",
q=function(){return n(this.$read_lines(),E.get("EOL"))},q.$$arity=0);a.defn(t,"$advance",A=function(a){null==a&&(a=!0);return this.$read_line(a)["$!"]()["$!"]()},A.$$arity=-1);a.defn(t,"$unshift_line",U=function(a){this.$unshift(a);return h},U.$$arity=1);a.alias(t,"restore_line","unshift_line");a.defn(t,"$unshift_lines",S=function(a){var b,c;(b=a.$reverse_each,b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=h);return b.$unshift(a)},c.$$s=this,c.$$arity=1,c),b).call(a);return h},S.$$arity=1);a.alias(t,
"restore_lines","unshift_lines");a.defn(t,"$replace_next_line",Y=function(a){this.$advance();this.$unshift(a);return h},Y.$$arity=1);a.alias(t,"replace_line","replace_next_line");a.defn(t,"$skip_blank_lines",ea=function(){var a,b,d=h,e=h;if((a=this["$eof?"]())!==h&&null!=a&&(!a.$$is_boolean||1==a))return 0;for(d=0;!((b=e=this.$peek_line())===h||null==b||b.$$is_boolean&&1!=b||(b=e["$empty?"]())===h||null==b||b.$$is_boolean&&1!=b);)this.$advance(),d=c(d,1);return d},ea.$$arity=0);a.defn(t,"$skip_comment_lines",
ca=function(b){var c,d,e=h,f=h,g=h,k=h,n=h;null==b&&(b=m([],{}));if((c=this["$eof?"]())!==h&&null!=c&&(!c.$$is_boolean||1==c))return[];e=[];for(f=b["$[]"]("include_blank_lines");(d=g=this.$peek_line())!==h&&null!=d&&(!d.$$is_boolean||1==d);)if((d=(b=!1!==f&&f!==h&&null!=f)?g["$empty?"]():f)===h||null==d||d.$$is_boolean&&1!=d)if((d=(b=k=g["$start_with?"]("//"),!1!==b&&b!==h&&null!=b?n=E.get("CommentBlockRx").$match(g):b))===h||null==d||d.$$is_boolean&&1!=d)if((b=!1!==k&&k!==h&&null!=k?E.get("CommentLineRx")["$=~"](g):
k)===h||null==b||b.$$is_boolean&&1!=b)break;else e["$<<"](this.$shift());else e["$<<"](this.$shift()),(d=e).$push.apply(d,a.to_a(this.$read_lines_until(m(["terminator","read_last_line","skip_processing"],{terminator:n["$[]"](0),read_last_line:!0,skip_processing:!0}))));else e["$<<"](this.$shift());return e},ca.$$arity=-1);a.defn(t,"$skip_line_comments",B=function(){var a,b,c=h,d=h;if((a=this["$eof?"]())!==h&&null!=a&&(!a.$$is_boolean||1==a))return[];for(c=[];!((b=d=this.$peek_line())===h||null==b||
b.$$is_boolean&&1!=b||(b=E.get("CommentLineRx")["$=~"](d))===h||null==b||b.$$is_boolean&&1!=b);)c["$<<"](this.$shift());return c},B.$$arity=0);a.defn(t,"$terminate",Q=function(){this.lineno=c(this.lineno,this.lines.$size());this.lines.$clear();this.eof=!0;this.look_ahead=0;return h},Q.$$arity=0);a.defn(t,"$eof?",Z=function(){return this["$has_more_lines?"]()["$!"]()},Z.$$arity=0);a.alias(t,"empty?","eof?");a.defn(t,"$read_lines_until",R=function(b){var c,d,f,g,k=R.$$p||h,n=h,q=h,p=h,r=h,t=h,v=h,B=
h,z=h,u=h,w=h;null==b&&(b=m([],{}));R.$$p=null;n=[];(c=b["$[]"]("skip_first_line"))===h||null==c||c.$$is_boolean&&1!=c||this.$advance();(c=(d=this.process_lines,!1!==d&&d!==h&&null!=d?b["$[]"]("skip_processing"):d))===h||null==c||c.$$is_boolean&&1!=c?q=!1:(this.process_lines=!1,q=!0);(c=p=b["$[]"]("terminator"))===h||null==c||c.$$is_boolean&&1!=c?(r=b["$[]"]("break_on_blank_lines"),t=b["$[]"]("break_on_list_continuation")):t=r=!1;v=b["$[]"]("skip_line_comments");for(u=z=B=!1;(d=(f=u["$!"](),!1!==
f&&f!==h&&null!=f?w=this.$read_line():f))!==h&&null!=d&&(!d.$$is_boolean||1==d);)if(u=function(){for(;(f=!0)!==h&&null!=f&&(!f.$$is_boolean||1==f);)return((f=(g=!1!==p&&p!==h&&null!=p)?w["$=="](p):p)===h||null==f||f.$$is_boolean&&1!=f)&&((f=(g=!1!==r&&r!==h&&null!=r)?w["$empty?"]():r)===h||null==f||f.$$is_boolean&&1!=f)?(f=(g=!1!==t&&t!==h&&null!=t?B:t,!1!==g&&g!==h&&null!=g?w["$=="](E.get("LIST_CONTINUATION")):g))===h||null==f||f.$$is_boolean&&1!=f?(f=(g=k!==h)?a.yield1(k,w):k!==h)===h||null==f||
f.$$is_boolean&&1!=f?!1:!0:(b["$[]="]("preserve_last_line",!0),!0):!0;return h}(),!1!==u&&u!==h&&null!=u)(d=b["$[]"]("read_last_line"))===h||null==d||d.$$is_boolean&&1!=d||(n["$<<"](w),B=!0),(d=b["$[]"]("preserve_last_line"))===h||null==d||d.$$is_boolean&&1!=d||(this.$unshift(w),z=!0);else if((d=(f=(g=!1!==v&&v!==h&&null!=v)?w["$start_with?"]("//"):v,!1!==f&&f!==h&&null!=f?E.get("CommentLineRx")["$=~"](w):f))===h||null==d||d.$$is_boolean&&1!=d)n["$<<"](w),B=!0;!1!==q&&q!==h&&null!=q&&(this.process_lines=
!0,(c=(d=!1!==z&&z!==h&&null!=z)?p["$!"]():z)===h||null==c||c.$$is_boolean&&1!=c||(this.look_ahead=e(this.look_ahead,1)));return n},R.$$arity=-1);a.defn(t,"$shift",ba=function(){this.lineno=c(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=e(this.look_ahead,1));return this.lines.$shift()},ba.$$arity=0);a.defn(t,"$unshift",ga=function(a){this.lineno=e(this.lineno,1);this.look_ahead=c(this.look_ahead,1);this.eof=!1;return this.lines.$unshift(a)},ga.$$arity=1);a.defn(t,"$cursor",ia=function(){return E.get("Cursor").$new(this.file,
this.dir,this.path,this.lineno)},ia.$$arity=0);a.defn(t,"$line_info",ma=function(){return""+this.path+": line "+this.lineno},ma.$$arity=0);a.alias(t,"next_line_info","line_info");a.defn(t,"$prev_line_info",la=function(){return""+this.path+": line "+e(this.lineno,1)},la.$$arity=0);a.defn(t,"$lines",na=function(){return this.lines.$dup()},na.$$arity=0);a.defn(t,"$string",fa=function(){return n(this.lines,E.get("EOL"))},fa.$$arity=0);a.defn(t,"$source",T=function(){return n(this.source_lines,E.get("EOL"))},
T.$$arity=0);return(a.defn(t,"$to_s",ja=function(){return this.$line_info()},ja.$$arity=0),h)&&"to_s"})(t.base,null);(function(d,$super){function t(){}var x=t=b(d,$super,"PreprocessorReader",t),C=x.$$proto,E=x.$$scope,D,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea;C.document=C.lineno=C.process_lines=C.look_ahead=C.skipping=C.include_stack=C.conditional_stack=C.path=C.include_processor_extensions=C.maxdepth=C.dir=C.lines=C.file=C.includes=C.unescape_next_line=h;x.$attr_reader("include_stack");x.$attr_reader("includes");
a.defn(x,"$initialize",D=function(b,c,d){var e,f,g,k=h;null==c&&(c=h);null==d&&(d=h);D.$$p=null;this.document=b;(e=a.find_super_dispatcher(this,"initialize",D,!1),e.$$p=null,e).call(this,c,d,m(["normalize"],{normalize:!0}));k=b.$attributes().$fetch("max-include-depth",64).$to_i();(e="number"===typeof k?0>k:k["$<"](0))===h||null==e||e.$$is_boolean&&1!=e||(k=0);this.maxdepth=m(["abs","rel"],{abs:k,rel:k});this.include_stack=[];this.includes=(e="includes",f=b.$references(),!1!==(g=f["$[]"](e))&&g!==
h&&null!=g?g:f["$[]="](e,[]));this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=h},D.$$arity=-2);a.defn(x,"$prepare_lines",y=function(b,d){var e,g,k,q=y.$$p,p=h,r=h,t=h,v=h,z=p=h;null==d&&(d=m([],{}));y.$$p=null;p=[];for(z=0;z<arguments.length;z++)p[z]=arguments[z];p=(e=a.find_super_dispatcher(this,"prepare_lines",y,!1),e.$$p=q,e).apply(this,p);if(!((e=(g=this.document,!1!==g&&g!==h&&null!=g?this.document.$attributes()["$has_key?"]("skip-front-matter"):g))===h||null==
e||e.$$is_boolean&&1!=e||(e=r=this["$skip_front_matter!"](p))===h||null==e||e.$$is_boolean&&1!=e))this.document.$attributes()["$[]="]("front-matter",n(r,E.get("EOL")));if((e=d.$fetch("condense",!0))!==h&&null!=e&&(!e.$$is_boolean||1==e)){for(;(g=(k=t=p["$[]"](0),!1!==k&&k!==h&&null!=k?t["$empty?"]():k))!==h&&null!=g&&(!g.$$is_boolean||1==g);)g=p.$shift(),!1!==g&&g!==h&&null!=g?this.lineno=c(this.lineno,1):g;for(;(g=(k=v=p["$[]"](-1),!1!==k&&k!==h&&null!=k?v["$empty?"]():k))!==h&&null!=g&&(!g.$$is_boolean||
1==g);)p.$pop()}if((e=d["$[]"]("indent"))!==h&&null!=e&&(!e.$$is_boolean||1==e))E.get("Parser")["$adjust_indentation!"](p,d["$[]"]("indent"),this.document.$attr("tabsize"));return p},y.$$arity=-2);a.defn(x,"$process_line",v=function(b){var d,e,g,k,m=h,n=h;if((d=this.process_lines)===h||null==d||d.$$is_boolean&&1!=d)return b;if((d=b["$empty?"]())!==h&&null!=d&&(!d.$$is_boolean||1==d))return this.look_ahead=c(this.look_ahead,1),"";if((d=(e=(g=b["$end_with?"]("]"),!1!==g&&g!==h&&null!=g?b["$start_with?"]("[")["$!"]():
g),!1!==e&&e!==h&&null!=e?b["$include?"]("::"):e))===h||null==d||d.$$is_boolean&&1!=d){if((d=this.skipping)===h||null==d||d.$$is_boolean&&1!=d)return this.look_ahead=c(this.look_ahead,1),b;this.$advance();return h}if((d=(e=b["$include?"]("if"),!1!==e&&e!==h&&null!=e?m=E.get("ConditionalDirectiveRx").$match(b):e))===h||null==d||d.$$is_boolean&&1!=d){if((d=this.skipping)===h||null==d||d.$$is_boolean&&1!=d)return(d=(g=!1!==(k=n=b["$start_with?"]("\\include::"))&&k!==h&&null!=k?k:b["$start_with?"]("include::"),
!1!==g&&g!==h&&null!=g?m=E.get("IncludeDirectiveRx").$match(b):g))===h||null==d||d.$$is_boolean&&1!=d?(this.look_ahead=c(this.look_ahead,1),b):!1!==n&&n!==h&&null!=n?(this.unescape_next_line=!0,this.look_ahead=c(this.look_ahead,1),b["$[]"](r(1,-1,!1))):(d=this.$preprocess_include(m["$[]"](1),m["$[]"](2).$strip()))===h||null==d||d.$$is_boolean&&1!=d?(this.look_ahead=c(this.look_ahead,1),b):h;this.$advance();return h}if((d=b["$start_with?"]("\\"))===h||null==d||d.$$is_boolean&&1!=d){if((d=(e=this).$preprocess_conditional_inclusion.apply(e,
a.to_a(m.$captures())))===h||null==d||d.$$is_boolean&&1!=d)return this.look_ahead=c(this.look_ahead,1),b;this.$advance();return h}this.unescape_next_line=!0;this.look_ahead=c(this.look_ahead,1);return b["$[]"](r(1,-1,!1))},v.$$arity=1);a.defn(x,"$peek_line",N=function(b){var c,d,e=N.$$p,f=h,g=f=h;null==b&&(b=!1);N.$$p=null;f=[];for(g=0;g<arguments.length;g++)f[g]=arguments[g];return(c=f=(d=a.find_super_dispatcher(this,"peek_line",N,!1),d.$$p=e,d).apply(this,f))===h||null==c||c.$$is_boolean&&1!=c?
(c=this.include_stack["$empty?"]())===h||null==c||c.$$is_boolean&&1!=c?(this.$pop_include(),this.$peek_line(b)):h:f},N.$$arity=-1);a.defn(x,"$preprocess_conditional_inclusion",F=function(a,b,c,d){var e,f,g,k,n,q,r,t,v,z,w=h,x=w=h,A=h,y=A=x=w=h,x=h;if((e=!1!==(f=(g=!1!==(k=a["$=="]("ifdef"))&&k!==h&&null!=k?k:a["$=="]("ifndef"),!1!==g&&g!==h&&null!=g?b["$empty?"]():g))&&f!==h&&null!=f?f:(g=a["$=="]("endif"))?d:a["$=="]("endif"))!==h&&null!=e&&(!e.$$is_boolean||1==e))return!1;b=b.$downcase();if(a["$=="]("endif"))return w=
this.conditional_stack.$size(),(e=p(w,0))===h||null==e||e.$$is_boolean&&1!=e?this.$warn("asciidoctor: ERROR: "+this.$line_info()+": unmatched macro: endif::"+b+"[]"):(w=this.conditional_stack["$[]"](-1),(e=!1!==(f=b["$empty?"]())&&f!==h&&null!=f?f:b["$=="](w["$[]"]("target")))===h||null==e||e.$$is_boolean&&1!=e?this.$warn("asciidoctor: ERROR: "+this.$line_info()+": mismatched macro: endif::"+b+"[], expected endif::"+w["$[]"]("target")+"[]"):(this.conditional_stack.$pop(),this.skipping=(e=this.conditional_stack["$empty?"]())===
h||null==e||e.$$is_boolean&&1!=e?this.conditional_stack["$[]"](-1)["$[]"]("skipping"):!1)),!0;x=!1;if((e=this.skipping)===h||null==e||e.$$is_boolean&&1!=e)if(A=a,"ifdef"["$==="](A))A=c,h["$==="](A)?x=this.document.$attributes()["$has_key?"](b)["$!"]():","["$==="](A)?x=(e=(f=b.$split(","))["$none?"],e.$$p=(n=function(a){var b=n.$$s||this;null==b.document&&(b.document=h);null==a&&(a=h);return b.document.$attributes()["$has_key?"](a)},n.$$s=this,n.$$arity=1,n),e).call(f):"+"["$==="](A)&&(x=(e=(g=b.$split("+"))["$any?"],
e.$$p=(q=function(a){var b=q.$$s||this;null==b.document&&(b.document=h);null==a&&(a=h);return b.document.$attributes()["$has_key?"](a)["$!"]()},q.$$s=this,q.$$arity=1,q),e).call(g));else if("ifndef"["$==="](A))A=c,h["$==="](A)?x=this.document.$attributes()["$has_key?"](b):","["$==="](A)?x=(e=(k=b.$split(","))["$none?"],e.$$p=(r=function(a){var b=r.$$s||this;null==b.document&&(b.document=h);null==a&&(a=h);return b.document.$attributes()["$has_key?"](a)["$!"]()},r.$$s=this,r.$$arity=1,r),e).call(k):
"+"["$==="](A)&&(x=(e=(t=b.$split("+"))["$any?"],e.$$p=(v=function(a){var b=v.$$s||this;null==b.document&&(b.document=h);null==a&&(a=h);return b.document.$attributes()["$has_key?"](a)},v.$$s=this,v.$$arity=1,v),e).call(t));else if("ifeval"["$==="](A)){if((e=!1!==(z=b["$empty?"]()["$!"]())&&z!==h&&null!=z?z:(w=E.get("EvalExpressionRx").$match(d.$strip()))["$!"]())!==h&&null!=e&&(!e.$$is_boolean||1==e))return!1;x=this.$resolve_expr_val(w["$[]"](1));A=this.$resolve_expr_val(w["$[]"](3));x=(y=w["$[]"](2))["$=="]("!=")?
x.$send("==",A):x.$send(y.$to_sym(),A)["$!"]()}if((e=!1!==(z=a["$=="]("ifeval"))&&z!==h&&null!=z?z:d["$!"]())!==h&&null!=e&&(!e.$$is_boolean||1==e))!1!==x&&x!==h&&null!=x&&(this.skipping=!0),this.conditional_stack["$<<"](m(["target","skip","skipping"],{target:b,skip:x,skipping:this.skipping}));else if((e=!1!==(z=this.skipping)&&z!==h&&null!=z?z:x)===h||null==e||e.$$is_boolean&&1!=e)x=this.$peek_line(!0),this.$replace_next_line(d.$rstrip()),this.$unshift(x);return!0},F.$$arity=4);a.defn(x,"$preprocess_include",
I=function(b,d){var k,q,r,t,v,z,w,x,A,y=h,C=h,K=h,G=K=h,D=h,F=h,I=h,N=h,U=h,M=h,S=h,Y=h,ea=h,va=h,ya=h;if((k=(y=this.document.$sub_attributes(b,m(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===h||null==k||k.$$is_boolean&&1!=k){if((k=(q=this["$include_processors?"](),!1!==q&&q!==h&&null!=q?C=(r=(t=this.include_processor_extensions).$find,r.$$p=(v=function(a){null==a&&(a=h);return a.$instance()["$handles?"](y)},v.$$s=this,v.$$arity=1,v),r).call(t):q))===h||null==k||k.$$is_boolean&&
1!=k){if((k=g(this.document.$safe(),E.get("SafeMode").$$scope.get("SECURE")))===h||null==k||k.$$is_boolean&&1!=k){if((k=p(K=this.maxdepth["$[]"]("abs"),0))===h||null==k||k.$$is_boolean&&1!=k)return!1;if((k=g(this.include_stack.$size(),K))!==h&&null!=k&&(!k.$$is_boolean||1==k))return this.$warn("asciidoctor: ERROR: "+this.$line_info()+": maximum include depth of "+this.maxdepth["$[]"]("rel")+" exceeded"),!1;if((k=a.get("RUBY_ENGINE_OPAL"))===h||null==k||k.$$is_boolean&&1!=k)if((k=E.get("Helpers")["$uriish?"](y))===
h||null==k||k.$$is_boolean&&1!=k){K="file";G=this.document.$normalize_system_path(y,this.dir,h,m(["target_name"],{target_name:"include file"}));if((k=a.get("File")["$file?"](G))===h||null==k||k.$$is_boolean&&1!=k)return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include file not found: "+G),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+y+"["+d+"]"),!0;D=E.get("PathResolver").$new().$relative_path(G,this.document.$base_dir())}else{if((k=this.document.$attributes()["$has_key?"]("allow-uri-read"))===
h||null==k||k.$$is_boolean&&1!=k)return this.$replace_next_line("link:"+y+"[]"),!0;K="uri";G=D=y;if((k=this.document.$attributes()["$has_key?"]("cache-uri"))===h||null==k||k.$$is_boolean&&1!=k)(k=a.get("RUBY_ENGINE_OPAL")["$!"]())===h||null==k||k.$$is_boolean&&1!=k||a.get("OpenURI");else{var wa;try{wa=null!=a.get("OpenURI").$$scope.get("Cache")?"constant":h}catch(P){if(P.$$class===a.NameError)wa=h;else throw P;}((k=wa)===h||null==k||k.$$is_boolean&&1!=k)&&E.get("Helpers").$require_library("open-uri/cached",
"open-uri-cached")}}else K="file",G=D=(k=this.include_stack["$empty?"]())===h||null==k||k.$$is_boolean&&1!=k?a.get("File").$join(this.dir,y):a.get("Dir").$pwd()["$=="](this.document.$base_dir())?y:a.get("File").$join(this.dir,y);I=F=h;N=m([],{});(k=d["$empty?"]()["$!"]())===h||null==k||k.$$is_boolean&&1!=k||(N=E.get("AttributeList").$new(d).$parse(),(k=N["$has_key?"]("lines"))===h||null==k||k.$$is_boolean&&1!=k?(k=N["$has_key?"]("tag"))===h||null==k||k.$$is_boolean&&1!=k?(k=N["$has_key?"]("tags"))===
h||null==k||k.$$is_boolean&&1!=k||(I=N["$[]"]("tags").$split(E.get("DataDelimiterRx")).$to_set()):I=[N["$[]"]("tag")].$to_set():(F=[],(k=(q=N["$[]"]("lines").$split(E.get("DataDelimiterRx"))).$each,k.$$p=(z=function(b){var c,d,e,f=h,g=h;null==b&&(b=h);if((c=b["$include?"](".."))===h||null==c||c.$$is_boolean&&1!=c)return F["$<<"](b.$to_i());b=(d=(e=b.$split("..",2)).$map,d.$$p="to_i".$to_proc(),d).call(e);c=a.to_ary(b);f=null==c[0]?h:c[0];g=null==c[1]?h:c[1];b;return g["$=="](-1)?(F["$<<"](f),F["$<<"](1/
0)):F.$concat(a.get("Range").$new(f,g).$to_a())},z.$$s=this,z.$$arity=1,z),k).call(q),F=F.$sort().$uniq()));if(!1!==F&&F!==h&&null!=F){if((k=F["$empty?"]())===h||null==k||k.$$is_boolean&&1!=k){U=[];S=M=0;try{(k=(r=this).$open,k.$$p=(w=function(b){var d=w.$$s||this,e,g,k;null==b&&(b=h);return function(){var m=a.new_brk();try{return(e=(g=b).$each_line,e.$$p=(k=function(d){var e,g,k=h;null==d&&(d=h);S=c(S,1);k=F["$[]"](0);if((e=(g=a.get("Float")["$==="](k),!1!==g&&g!==h&&null!=g?k["$infinite?"]():g))===
h||null==e||e.$$is_boolean&&1!=e){b.$lineno()["$=="](k)&&(U.$push(d),M["$=="](0)&&(M=S),F.$shift());if((e=F["$empty?"]())===h||null==e||e.$$is_boolean&&1!=e)return h;a.brk(h,m)}else return U.$push(d),M["$=="](0)?M=S:h},k.$$s=d,k.$$brk=m,k.$$arity=1,k),e).call(g)}catch(n){if(n===m)return n.$v;throw n;}}()},w.$$s=this,w.$$arity=1,w),k).call(r,G,"r")}catch(P){if(a.rescue(P,[E.get("StandardError")]))try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+K+" not readable: "+G),this.$replace_next_line("Unresolved directive in "+
this.path+" - include::"+y+"["+d+"]"),!0}finally{a.pop_exception()}else throw P;}this.$advance();this.$push_include(U,G,D,M,N)}}else if(!1!==I&&I!==h&&null!=I){if((k=I["$empty?"]())===h||null==k||k.$$is_boolean&&1!=k){U=[];S=M=0;Y=h;ea=a.get("Set").$new();try{(k=this.$open,k.$$p=(x=function(b){var d=x.$$s||this,e,g,k;null==b&&(b=h);return(e=(g=b).$each_line,e.$$p=(k=function(b){var d=k.$$s||this,e,g,m,n=h;null==b&&(b=h);S=c(S,1);(e=E.get("FORCE_ENCODING"))===h||null==e||e.$$is_boolean&&1!=e||b.$force_encoding(a.get("Encoding").$$scope.get("UTF_8"));
b=b.$rstrip();n=b.$chomp("--\x3e").$rstrip();return!1!==Y&&Y!==h&&null!=Y?(e=n["$end_with?"]("end::"+Y+"[]"))===h||null==e||e.$$is_boolean&&1!=e?(((e=(g=n["$end_with?"]("[]"),!1!==g&&g!==h&&null!=g?E.get("TagDirectiveRx")["$=~"](n):g))===h||null==e||e.$$is_boolean&&1!=e)&&U.$push(b),M["$=="](0)?M=S:h):Y=h:(e=(g=n["$end_with?"]("[]"),!1!==g&&g!==h&&null!=g?E.get("TagDirectiveRx")["$=~"](n):g))===h||null==e||e.$$is_boolean&&1!=e?h:function(){var b=a.new_brk();try{return(e=(g=I).$each,e.$$p=(m=function(c){var d;
null==c&&(c=h);if((d=n["$end_with?"]("tag::"+c+"[]"))===h||null==d||d.$$is_boolean&&1!=d)return h;Y=c;ea["$<<"](c);a.brk(h,b)},m.$$s=d,m.$$brk=b,m.$$arity=1,m),e).call(g)}catch(c){if(c===b)return c.$v;throw c;}}()},k.$$s=d,k.$$arity=1,k),e).call(g)},x.$$s=this,x.$$arity=1,x),k).call(this,G,"r")}catch(P){if(a.rescue(P,[E.get("StandardError")]))try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+K+" not readable: "+G),this.$replace_next_line("Unresolved directive in "+this.path+
" - include::"+y+"["+d+"]"),!0}finally{a.pop_exception()}else throw P;}((k=(va=e(I.$to_a(),ea.$to_a()))["$empty?"]())===h||null==k||k.$$is_boolean&&1!=k)&&this.$warn("asciidoctor: WARNING: "+this.$line_info()+": tag"+((k=p(va.$size(),1))===h||null==k||k.$$is_boolean&&1!=k?h:"s")+" '"+n(va,",")+"' not found in include "+K+": "+G);this.$advance();this.$push_include(U,G,D,M,N)}}else try{ya=(k=this.$open,k.$$p=(A=function(a){null==a&&(a=h);return a.$read()},A.$$s=this,A.$$arity=1,A),k).call(this,G,"r"),
this.$advance(),this.$push_include(ya,G,D,1,N)}catch(P){if(a.rescue(P,[E.get("StandardError")]))try{this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+K+" not readable: "+G),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+y+"["+d+"]")}finally{a.pop_exception()}else throw P;}return!0}this.$replace_next_line("link:"+y+"[]");return!0}this.$advance();C.$process_method()["$[]"](this.document,this,y,E.get("AttributeList").$new(d).$parse());return!0}this.$advance();
this.document.$attributes().$fetch("attribute-missing",E.get("Compliance").$attribute_missing())["$=="]("skip")&&this.$unshift("Unresolved directive in "+this.path+" - include::"+b+"["+d+"]");return!0},I.$$arity=2);a.defn(x,"$push_include",G=function(b,d,g,k,n){var q,p=h,r=h;null==d&&(d=h);null==g&&(g=h);null==k&&(k=1);null==n&&(n=m([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);!1!==d&&d!==h&&null!=d?(this.file=d,this.dir=
E.get("File").$dirname(d),this.process_lines=E.get("ASCIIDOC_EXTENSIONS")["$[]"](a.get("File").$extname(d))):(this.file=h,this.dir=".",this.process_lines=!0);!1!==g&&g!==h&&null!=g?(this.includes["$<<"](E.get("Helpers").$rootname(g)),d=g):d="<stdin>";this.path=d;this.lineno=k;(q=n["$has_key?"]("depth"))===h||null==q||q.$$is_boolean&&1!=q||(p=n["$[]"]("depth").$to_i(),(q="number"===typeof p?0>=p:p["$<="](0))===h||null==q||q.$$is_boolean&&1!=q||(p=1),this.maxdepth=m(["abs","rel"],{abs:c(e(this.include_stack.$size(),
1),p),rel:p}));(q=(this.lines=this.$prepare_lines(b,m(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:n["$[]"]("indent")})))["$empty?"]())===h||null==q||q.$$is_boolean&&1!=q?((q=n["$has_key?"]("leveloffset"))===h||null==q||q.$$is_boolean&&1!=q||(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+n["$[]"]("leveloffset")),this.lines.$push(""),(q=r=this.document.$attr("leveloffset"))===h||null==q||q.$$is_boolean&&1!=q?this.lines.$push(":leveloffset!:"):this.lines.$push(":leveloffset: "+
r),this.lineno=e(this.lineno,2)),this.eof=!1,this.look_ahead=0):this.$pop_include();return this},G.$$arity=-2);a.defn(x,"$pop_include",K=function(){var b,c;(b=p(this.include_stack.$size(),0))===h||null==b||b.$$is_boolean&&1!=b||(c=this.include_stack.$pop(),b=a.to_ary(c),this.lines=null==b[0]?h:b[0],this.file=null==b[1]?h:b[1],this.dir=null==b[2]?h:b[2],this.path=null==b[3]?h:b[3],this.lineno=null==b[4]?h:b[4],this.maxdepth=null==b[5]?h:b[5],this.process_lines=null==b[6]?h:b[6],c,this.eof=this.lines["$empty?"](),
this.look_ahead=0);return h},K.$$arity=0);a.defn(x,"$include_depth",z=function(){return this.include_stack.$size()},z.$$arity=0);a.defn(x,"$exceeded_max_depth?",q=function(){var a,b,c=h;return(a=(b=p(c=this.maxdepth["$[]"]("abs"),0),!1!==b&&b!==h&&null!=b?g(this.include_stack.$size(),c):b))===h||null==a||a.$$is_boolean&&1!=a?!1:this.maxdepth["$[]"]("rel")},q.$$arity=0);a.defn(x,"$shift",A=function(){var b,c=A.$$p,d=h,e=h;A.$$p=null;d=[];for(e=0;e<arguments.length;e++)d[e]=arguments[e];if((b=this.unescape_next_line)===
h||null==b||b.$$is_boolean&&1!=b)return(b=a.find_super_dispatcher(this,"shift",A,!1),b.$$p=c,b).apply(this,d);this.unescape_next_line=!1;return(b=a.find_super_dispatcher(this,"shift",A,!1),b.$$p=c,b).apply(this,d)["$[]"](r(1,-1,!1))},A.$$arity=0);a.defn(x,"$skip_front_matter!",U=function(b,d){var e,g,k,m=h,n=h;null==d&&(d=!0);m=h;if(b["$[]"](0)["$=="]("---")){n=b.$dup();m=[];b.$shift();!1!==d&&d!==h&&null!=d&&(this.lineno=c(this.lineno,1));for(;(g=(k=b["$empty?"]()["$!"](),!1!==k&&k!==h&&null!=k?
b["$[]"](0)["$!="]("---"):k))!==h&&null!=g&&(!g.$$is_boolean||1==g);)m.$push(b.$shift()),!1!==d&&d!==h&&null!=d&&(this.lineno=c(this.lineno,1));(e=b["$empty?"]())===h||null==e||e.$$is_boolean&&1!=e?(b.$shift(),!1!==d&&d!==h&&null!=d&&(this.lineno=c(this.lineno,1))):((e=b).$unshift.apply(e,a.to_a(n)),!1!==d&&d!==h&&null!=d&&(this.lineno=0),m=h)}return m},U.$$arity=-2);a.defn(x,"$resolve_expr_val",S=function(a){var b,c,d,e=h;(b=!1!==(c=(d=a["$start_with?"]('"'),!1!==d&&d!==h&&null!=d?a["$end_with?"]('"'):
d))&&c!==h&&null!=c?c:(d=a["$start_with?"]("'"),!1!==d&&d!==h&&null!=d?a["$end_with?"]("'"):d))===h||null==b||b.$$is_boolean&&1!=b?e=!1:(e=!0,a=a["$[]"](r(1,-1,!0)));(b=a["$include?"]("{"))===h||null==b||b.$$is_boolean&&1!=b||(a=this.document.$sub_attributes(a,m(["attribute_missing"],{attribute_missing:"drop"})));return!1!==e&&e!==h&&null!=e?a:(b=a["$empty?"]())===h||null==b||b.$$is_boolean&&1!=b?a["$=="]("true")?!0:a["$=="]("false")?!1:(b=a.$rstrip()["$empty?"]())===h||null==b||b.$$is_boolean&&1!=
b?(b=a["$include?"]("."))===h||null==b||b.$$is_boolean&&1!=b?a.$to_i():a.$to_f():" ":h},S.$$arity=1);a.defn(x,"$include_processors?",Y=function(){var a,b;return(a=this.include_processor_extensions["$nil?"]())===h||null==a||a.$$is_boolean&&1!=a?this.include_processor_extensions["$!="](!1):(a=(b=this.document["$extensions?"](),!1!==b&&b!==h&&null!=b?this.document.$extensions()["$include_processors?"]():b))===h||null==a||a.$$is_boolean&&1!=a?this.include_processor_extensions=!1:(this.include_processor_extensions=
this.document.$extensions().$include_processors())["$!"]()["$!"]()},Y.$$arity=0);return(a.defn(x,"$to_s",ea=function(){var a,b,c;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+(a=(b=this.include_stack).$map,a.$$p=(c=function(a){null==a&&(a=h);return a.$to_s()},c.$$s=this,c.$$arity=1,c),a).call(b).$join(", ")+"]}>"},ea.$$arity=0),h)&&"to_s"})(t.base,t.get("Reader"))}(a.base)};
Opal.modules["asciidoctor/section"]=function(a){function c(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}var n=a.nil,e=a.module,g=a.klass,h=a.hash2,d=a.range;a.add_stubs("$attr_accessor $+ $level $> $== $context $special $has_key? $attributes $[] $chomp $tr_s $gsub $downcase $title $empty? $! $start_with? $unique_id_start_index $references $sectnum $assign_index $!= $class $object_id $inspect $size".split(" "));
return function(b){b=e(b,"Asciidoctor").$$scope;(function(b,$super){function e(){}var k=e=g(b,$super,"Section",e),l=k.$$proto,r=k.$$scope,x,C,E,D,y;l.level=l.document=l.parent=l.number=l.title=l.numbered=l.blocks=n;k.$attr_accessor("index");k.$attr_accessor("number");k.$attr_accessor("sectname");k.$attr_accessor("special");k.$attr_accessor("numbered");a.defn(k,"$initialize",x=function(b,d,e,g){var l;null==b&&(b=n);null==d&&(d=n);null==e&&(e=!0);null==g&&(g=h([],{}));x.$$p=null;(l=a.find_super_dispatcher(this,
"initialize",x,!1),l.$$p=null,l).call(this,b,"section",g);this.level=!1!==d&&d!==n&&null!=d?d:!1!==b&&b!==n&&null!=b?c(b.$level(),1):1;this.numbered=(l=!1!==e&&e!==n&&null!=e)?p(this.level,0):e;this.special=(l=!1!==b&&b!==n&&null!=b?b.$context()["$=="]("section"):b,!1!==l&&l!==n&&null!=l?b.$special():l);this.index=0;return this.number=1},x.$$arity=-1);a.alias(k,"name","title");a.defn(k,"$generate_id",C=function(){var a,b,e,g=n,h=n,l=n,k=h=n;if((a=this.document.$attributes()["$has_key?"]("sectids"))===
n||null==a||a.$$is_boolean&&1!=a)return n;g=!1!==(a=this.document.$attributes()["$[]"]("idseparator"))&&a!==n&&null!=a?a:"_";h=!1!==(a=this.document.$attributes()["$[]"]("idprefix"))&&a!==n&&null!=a?a:"_";l=""+h+this.$title().$downcase().$gsub(r.get("InvalidSectionIdCharsRx"),g).$tr_s(g,g).$chomp(g);if((a=(b=(e=h["$empty?"](),!1!==e&&e!==n&&null!=e?g["$empty?"]()["$!"]():e),!1!==b&&b!==n&&null!=b?l["$start_with?"](g):b))!==n&&null!=a&&(!a.$$is_boolean||1==a))for(l=l["$[]"](d(1,-1,!1));(b=l["$start_with?"](g))!==
n&&null!=b&&(!b.$$is_boolean||1==b);)l=l["$[]"](d(1,-1,!1));h=l;for(k=r.get("Compliance").$unique_id_start_index();(b=this.document.$references()["$[]"]("ids")["$has_key?"](h))!==n&&null!=b&&(!b.$$is_boolean||1==b);)h=""+l+g+k,k=c(k,1);return h},C.$$arity=0);a.defn(k,"$sectnum",E=function(a,b){var c,d,e,f;null==a&&(a=".");null==b&&(b=n);!1!==(c=b)&&c!==n&&null!=c?c:b=b["$=="](!1)?"":a;return(c=(d=(e=(f=this.level,!1!==f&&f!==n&&null!=f?p(this.level,1):f),!1!==e&&e!==n&&null!=e?this.parent:e),!1!==
d&&d!==n&&null!=d?this.parent.$context()["$=="]("section"):d))===n||null==c||c.$$is_boolean&&1!=c?""+this.number+b:""+this.parent.$sectnum(a)+this.number+b},E.$$arity=-1);a.defn(k,"$<<",D=function(b){var c,d=D.$$p,e=n,f=n;D.$$p=null;e=[];for(f=0;f<arguments.length;f++)e[f]=arguments[f];b.$context()["$=="]("section")&&this.$assign_index(b);return(c=a.find_super_dispatcher(this,"<<",D,!1),c.$$p=d,c).apply(this,e)},D.$$arity=1);return(a.defn(k,"$to_s",y=function(){var b,c=y.$$p,d=n,e=d=n;y.$$p=null;
d=[];for(e=0;e<arguments.length;e++)d[e]=arguments[e];if((b=this.title["$!="](n))===n||null==b||b.$$is_boolean&&1!=b)return(b=a.find_super_dispatcher(this,"to_s",y,!1),b.$$p=c,b).apply(this,d);d=(b=this.numbered)===n||null==b||b.$$is_boolean&&1!=b?this.title:""+this.$sectnum()+" "+this.title;return"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+d.$inspect()+", blocks: "+this.blocks.$size()+"}>"},y.$$arity=0),n)&&"to_s"})(b.base,b.get("AbstractBlock"))}(a.base)};Opal.modules["asciidoctor/stylesheets"]=
function(a){var c=a.nil,p=a.module,n=a.klass,e=a.hash2;a.add_stubs("$join $new $chomp $read $primary_stylesheet_data $open $write $primary_stylesheet_name $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $[] $[]= $sub $css $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));return function(g){(function(g,$super){function b(){}var m=b=n(g,$super,"Stylesheets",b),p=m.$$proto,r=m.$$scope,k,l,M,x,C,E,D,y,v,N,F,I,G,K;p.primary_stylesheet_data=p.coderay_stylesheet_data=
p.pygments_stylesheet_data=c;a.cdecl(r,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(r,"DEFAULT_PYGMENTS_STYLE","default");a.cdecl(r,"STYLESHEETS_DATA_PATH",a.get("File").$join(r.get("DATA_PATH"),"stylesheets"));m.__instance__=m.$new();a.defs(m,"$instance",k=function(){null==this.__instance__&&(this.__instance__=c);return this.__instance__},k.$$arity=0);a.defn(m,"$primary_stylesheet_name",l=function(){return r.get("DEFAULT_STYLESHEET_NAME")},l.$$arity=0);a.defn(m,"$primary_stylesheet_data",
M=function(){var b;b=r.get("JAVASCRIPT_PLATFORM")["$=="]("node")?a.get("File").$join(__dirname,"css"):"css";return!1!==($a=m.primary_stylesheet_data)&&$a!==c&&null!=$a?$a:m.primary_stylesheet_data=a.get("IO").$read(a.get("File").$join(b,"asciidoctor.css")).$chomp()},M.$$arity=0);a.defn(m,"$embed_primary_stylesheet",x=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},x.$$arity=0);a.defn(m,"$write_primary_stylesheet",C=function(b){var e,g,h;return(e=(g=a.get("File")).$open,
e.$$p=(h=function(a){var b=h.$$s||this;null==a&&(a=c);return a.$write(b.$primary_stylesheet_data())},h.$$s=this,h.$$arity=1,h),e).call(g,a.get("File").$join(b,this.$primary_stylesheet_name()),"w")},C.$$arity=1);a.defn(m,"$coderay_stylesheet_name",E=function(){return"coderay-asciidoctor.css"},E.$$arity=0);a.defn(m,"$coderay_stylesheet_data",D=function(){var b;return!1!==(b=this.coderay_stylesheet_data)&&b!==c&&null!=b?b:this.coderay_stylesheet_data=a.get("IO").$read(a.get("File").$join(r.get("STYLESHEETS_DATA_PATH"),
"coderay-asciidoctor.css")).$chomp()},D.$$arity=0);a.defn(m,"$embed_coderay_stylesheet",y=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},y.$$arity=0);a.defn(m,"$write_coderay_stylesheet",v=function(b){var e,g,h;return(e=(g=a.get("File")).$open,e.$$p=(h=function(a){var b=h.$$s||this;null==a&&(a=c);return a.$write(b.$coderay_stylesheet_data())},h.$$s=this,h.$$arity=1,h),e).call(g,a.get("File").$join(b,this.$coderay_stylesheet_name()),"w")},v.$$arity=1);a.defn(m,"$pygments_stylesheet_name",
N=function(a){var b;null==a&&(a=c);return"pygments-"+(!1!==(b=a)&&b!==c&&null!=b?b:r.get("DEFAULT_PYGMENTS_STYLE"))+".css"},N.$$arity=-1);a.defn(m,"$pygments_stylesheet_data",F=function(b){var g,h,l,k;null==b&&(b=c);return(g=this.$load_pygments())===c||null==g||g.$$is_boolean&&1!=g?"/* Pygments styles disabled. Pygments is not available. */":(g=!1!==(l=b)&&l!==c&&null!=l?l:r.get("DEFAULT_PYGMENTS_STYLE"),h=!1!==(l=this.pygments_stylesheet_data)&&l!==c&&null!=l?l:this.pygments_stylesheet_data=e([],
{}),!1!==(l=h["$[]"](g))&&l!==c&&null!=l?l:h["$[]="](g,a.get("Pygments").$css(".listingblock .pygments",e(["classprefix","style"],{classprefix:"tok-",style:!1!==(k=b)&&k!==c&&null!=k?k:r.get("DEFAULT_PYGMENTS_STYLE")})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")))},F.$$arity=-1);a.defn(m,"$embed_pygments_stylesheet",I=function(a){null==a&&(a=c);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"},I.$$arity=-1);a.defn(m,"$write_pygments_stylesheet",
G=function(b,e){var g,h,l;null==e&&(e=c);return(g=(h=a.get("File")).$open,g.$$p=(l=function(a){var b=l.$$s||this;null==a&&(a=c);return a.$write(b.$pygments_stylesheet_data(e))},l.$$s=this,l.$$arity=1,l),g).call(h,a.get("File").$join(b,this.$pygments_stylesheet_name(e)),"w")},G.$$arity=-2);return(a.defn(m,"$load_pygments",K=function(){var b;return(b=null==a.Object.$$scope.Pygments?c:"constant")===c||null==b||b.$$is_boolean&&1!=b?r.get("Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]():
!0},K.$$arity=0),c)&&"load_pygments"})(p(g,"Asciidoctor").$$scope.base,null)}(a.base)};Opal.modules["asciidoctor/table"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?
a-b:a["$-"](b)}var h=a.nil,d=a.module,b=a.klass,m=a.hash2,r=a.range;a.add_stubs("$attr_accessor $new $key? $[] $> $to_i $< $== $[]= $attributes $round $* $/ $to_f $empty? $body $each $+ $<< $size $assign_column_widths $** $assign_width $- $shift $style= $head= $foot= $pop $update_attributes $parent $attr_reader $delete $! $header_row? $table $split $include? $readlines $!= $unshift $nil? $strip $apply_normal_subs $convert $map $text $to_s $cursor $raise $nested? $document $escape $columns $start_with? $match $chop $pre_match $post_match $end_with? $lstrip $push_cellspec $cell_open? $close_cell $advance $take_cellspec $warn $line_info $tr_s $upto $times $rowspan $activate_rowspan $colspan $end_of_row? $close_row $rows $effective_column_visits".split(" "));
return function(t){t=d(t,"Asciidoctor").$$scope;(function(d,$super){function r(){}var t=r=b(d,$super,"Table",r),w=t.$$proto,E=t.$$scope,D,y,v,N,F;w.attributes=w.document=w.has_header_option=w.rows=w.columns=h;(function(c,$super){function d(){}var e=d=b(c,$super,"Rows",d),f;e.$attr_accessor("head","foot","body");a.defn(e,"$initialize",f=function(a,b,c){null==a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=c},f.$$arity=-1);return a.alias(e,"[]","send")})(E.base,null);
a.cdecl(E,"DEFAULT_DATA_FORMAT","psv");a.cdecl(E,"DATA_FORMATS",["psv","dsv","csv"]);a.cdecl(E,"DEFAULT_DELIMITERS",m(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","}));a.cdecl(E,"TEXT_STYLES",m("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));a.cdecl(E,"ALIGNMENTS",m(["h","v"],{h:m(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:m(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})}));t.$attr_accessor("columns");t.$attr_accessor("rows");
t.$attr_accessor("has_header_option");a.defn(t,"$initialize",D=function(b,d){var e,g,k,m=h,r=h;D.$$p=null;(e=a.find_super_dispatcher(this,"initialize",D,!1),e.$$p=null,e).call(this,b,"table");this.rows=E.get("Rows").$new();this.columns=[];this.has_header_option=d["$key?"]("header-option");(e=m=d["$[]"]("width"))===h||null==e||e.$$is_boolean&&1!=e?r=100:(e=!1!==(g=c(r=m.$to_i(),100))&&g!==h&&null!=g?g:"number"===typeof r?1>r:r["$<"](1))===h||null==e||e.$$is_boolean&&1!=e||!((e=r["$=="](0)?!1!==(k=
m["$=="]("0"))&&k!==h&&null!=k?k:m["$=="]("0%"):r["$=="](0))===h||null==e||e.$$is_boolean&&1!=e)||(r=100);this.attributes["$[]="]("tablepcwidth",r);(e=this.document.$attributes()["$key?"]("pagewidth"))===h||null==e||e.$$is_boolean&&1!=e||(e="tableabswidth",g=this.attributes,!1!==(k=g["$[]"](e))&&k!==h&&null!=k?k:g["$[]="](e,p(n(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round()));return(e=d["$key?"]("rotate-option"))===h||null==e||e.$$is_boolean&&
1!=e?h:d["$[]="]("orientation","landscape")},D.$$arity=2);a.defn(t,"$header_row?",y=function(){var a;return a=this.has_header_option,!1!==a&&a!==h&&null!=a?this.rows.$body()["$empty?"]():a},y.$$arity=0);a.defn(t,"$create_columns",v=function(a){var b,c,d=h,f=h,d=[],f=0;(b=a.$each,b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=h);f=e(f,a["$[]"]("width"));return d["$<<"](E.get("Column").$new(b,d.$size(),a))},c.$$s=this,c.$$arity=1,c),b).call(a);if((b=(this.columns=d)["$empty?"]())===h||null==b||
b.$$is_boolean&&1!=b)this.attributes["$[]="]("colcount",d.$size()),this.$assign_column_widths(f["$=="](0)?h:f);return h},v.$$arity=1);a.defn(t,"$assign_column_widths",N=function(a){var b,c,d,f,k,m=h,r=h,t=h;null==a&&(a=h);m=10["$**"](4);r=t=0;!1!==a&&a!==h&&null!=a?(b=(c=this.columns).$each,b.$$p=(d=function(b){null==b&&(b=h);return r=e(r,t=b.$assign_width(h,a,m))},d.$$s=this,d.$$arity=1,d),b).call(c):(t=n(n(p(100,m),this.columns.$size()).$to_i(),m),t.$to_i()["$=="](t)&&(t=t.$to_i()),(b=(f=this.columns).$each,
b.$$p=(k=function(a){null==a&&(a=h);return r=e(r,a.$assign_width(t))},k.$$s=this,k.$$arity=1,k),b).call(f));r["$=="](100)||this.columns["$[]"](-1).$assign_width(n(p(e(g(100,r),t),m).$round(),m));return h},N.$$arity=-1);return(a.defn(t,"$partition_header_footer",F=function(a){var b,d,e,k,m=h,n=h;this.attributes["$[]="]("rowcount",this.rows.$body().$size());m=this.rows.$body().$size();(b=(d=c(m,0),!1!==d&&d!==h&&null!=d?this.has_header_option:d))===h||null==b||b.$$is_boolean&&1!=b||(n=this.rows.$body().$shift(),
m=g(m,1),(b=(d=n).$each,b.$$p=(e=function(a){var b,c;null==a&&(a=h);return b=[h],c=a,c["$style="].apply(c,b),b[b.length-1]},e.$$s=this,e.$$arity=1,e),b).call(d),b=[[n]],k=this.rows,k["$head="].apply(k,b),b[b.length-1]);(b=(k=c(m,0),!1!==k&&k!==h&&null!=k?a["$key?"]("footer-option"):k))===h||null==b||b.$$is_boolean&&1!=b||(b=[[this.rows.$body().$pop()]],k=this.rows,k["$foot="].apply(k,b),b[b.length-1]);return h},F.$$arity=1),h)&&"partition_header_footer"})(t.base,t.get("AbstractBlock"));(function(c,
$super){function d(){}var f=d=b(c,$super,"Column",d),g,r;f.$$proto.attributes=h;f.$attr_accessor("style");a.defn(f,"$initialize",g=function(b,c,d){var f,k;null==d&&(d=m([],{}));g.$$p=null;(f=a.find_super_dispatcher(this,"initialize",g,!1),f.$$p=null,f).call(this,b,"column");this.style=d["$[]"]("style");d["$[]="]("colnumber",e(c,1));f="width";b=d;!1!==(k=b["$[]"](f))&&k!==h&&null!=k?k:b["$[]="](f,1);f="halign";b=d;!1!==(k=b["$[]"](f))&&k!==h&&null!=k?k:b["$[]="](f,"left");f="valign";b=d;!1!==(k=b["$[]"](f))&&
k!==h&&null!=k?k:b["$[]="](f,"top");return this.$update_attributes(d)},g.$$arity=-3);a.alias(f,"table","parent");return(a.defn(f,"$assign_width",r=function(a,b,c){var d;null==b&&(b=h);null==c&&(c=1E4);!1!==b&&b!==h&&null!=b&&(a=n(p(p(n(this.attributes["$[]"]("width").$to_f(),b),100),c).$to_i(),c),a.$to_i()["$=="](a)&&(a=a.$to_i()));this.attributes["$[]="]("colpcwidth",a);if((d=this.$parent().$attributes()["$key?"]("tableabswidth"))!==h&&null!=d&&(!d.$$is_boolean||1==d))this.attributes["$[]="]("colabswidth",
p(n(a,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round());return a},r.$$arity=-2),h)&&"assign_width"})(t.get("Table"),t.get("AbstractNode"));(function(c,$super){function d(){}var e=d=b(c,$super,"Cell",d),f=e.$$proto,g=e.$$scope,n,p,r,t;f.style=f.document=f.text=f.inner_document=f.colspan=f.rowspan=f.attributes=h;e.$attr_accessor("style");e.$attr_accessor("colspan");e.$attr_accessor("rowspan");a.alias(e,"column","parent");e.$attr_reader("inner_document");a.defn(e,"$initialize",n=function(b,
c,d,e){var f,k=h,p=h,r=h,t=h;null==d&&(d=m([],{}));null==e&&(e=h);n.$$p=null;(f=a.find_super_dispatcher(this,"initialize",n,!1),f.$$p=null,f).call(this,b,"cell");this.text=c;this.rowspan=this.colspan=this.style=h;!1!==b&&b!==h&&null!=b&&(this.style=b.$attributes()["$[]"]("style"),this.$update_attributes(b.$attributes()));!1!==d&&d!==h&&null!=d&&(this.colspan=d.$delete("colspan"),this.rowspan=d.$delete("rowspan"),(f=d["$key?"]("style"))===h||null==f||f.$$is_boolean&&1!=f||(this.style=d["$[]"]("style")),
this.$update_attributes(d));if((f=(c=this.style["$=="]("asciidoc"))?b.$table()["$header_row?"]()["$!"]():this.style["$=="]("asciidoc"))===h||null==f||f.$$is_boolean&&1!=f)return h;k=this.document.$attributes().$delete("doctitle");p=this.text.$split(g.get("EOL"));if((f=!1!==(c=p["$empty?"]())&&c!==h&&null!=c?c:p["$[]"](0)["$include?"]("::")["$!"]())===h||null==f||f.$$is_boolean&&1!=f)r=p["$[]"](0),t=g.get("PreprocessorReader").$new(this.document,r).$readlines(),(f=t["$!="](r))===h||null==f||f.$$is_boolean&&
1!=f||(p.$shift(),(f=p).$unshift.apply(f,a.to_a(t)));this.inner_document=g.get("Document").$new(p,m(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:e}));return(c=k["$nil?"]())===h||null==c||c.$$is_boolean&&1!=c?this.document.$attributes()["$[]="]("doctitle",k):h},n.$$arity=-3);a.defn(e,"$text",p=function(){return this.$apply_normal_subs(this.text).$strip()},p.$$arity=0);a.defn(e,"$content",r=function(){var a,b,c;return this.style["$=="]("asciidoc")?this.inner_document.$convert():
(a=(b=this.$text().$split(g.get("BlankLineRx"))).$map,a.$$p=(c=function(a){var b=c.$$s||this,d,e;null==b.style&&(b.style=h);null==a&&(a=h);return(d=!1!==(e=b.style["$!"]())&&e!==h&&null!=e?e:b.style["$=="]("header"))===h||null==d||d.$$is_boolean&&1!=d?g.get("Inline").$new(b.$parent(),"quoted",a,m(["type"],{type:b.style})).$convert():a},c.$$s=this,c.$$arity=1,c),a).call(b)},r.$$arity=0);return(a.defn(e,"$to_s",t=function(){var b,c=t.$$p,d=h,e=h;t.$$p=null;d=[];for(e=0;e<arguments.length;e++)d[e]=arguments[e];
return""+(b=a.find_super_dispatcher(this,"to_s",t,!1),b.$$p=c,b).apply(this,d).$to_s()+" - [text: "+this.text+", colspan: "+(!1!==(b=this.colspan)&&b!==h&&null!=b?b:1)+", rowspan: "+(!1!==(b=this.rowspan)&&b!==h&&null!=b?b:1)+", attributes: "+this.attributes+"]"},t.$$arity=0),h)&&"to_s"})(t.get("Table"),t.get("AbstractNode"));(function(d,$super){function n(){}var p=n=b(d,$super,"ParserContext",n),t=p.$$proto,E=p.$$scope,D,y,v,N,F,I,G,K,z,q,A,U,S,Y,ea,ca,B,Q,Z;t.format=t.delimiter=t.delimiter_re=t.buffer=
t.cellspecs=t.cell_open=t.last_cursor=t.table=t.current_row=t.colcount=t.column_visits=t.active_rowspans=t.linenum=h;p.$attr_accessor("table");p.$attr_accessor("format");p.$attr_reader("colcount");p.$attr_accessor("buffer");p.$attr_reader("delimiter");p.$attr_reader("delimiter_re");a.defn(p,"$initialize",D=function(a,b,c){var d,e;null==c&&(c=m([],{}));this.reader=a;this.table=b;this.last_cursor=a.$cursor();(d=this.format=c["$[]"]("format"))===h||null==d||d.$$is_boolean&&1!=d?this.format=E.get("Table").$$scope.get("DEFAULT_DATA_FORMAT"):
((d=E.get("Table").$$scope.get("DATA_FORMATS")["$include?"](this.format))===h||null==d||d.$$is_boolean&&1!=d)&&this.$raise("Illegal table format: "+this.format);this.delimiter=(d=(e=this.format["$=="]("psv")?c["$key?"]("separator")["$!"]():this.format["$=="]("psv"),!1!==e&&e!==h&&null!=e?b.$document()["$nested?"]():e))===h||null==d||d.$$is_boolean&&1!=d?!1!==(d=c["$[]"]("separator"))&&d!==h&&null!=d?d:E.get("Table").$$scope.get("DEFAULT_DELIMITERS")["$[]"](this.format):"!";this.delimiter_re=new RegExp(""+
E.get("Regexp").$escape(this.delimiter));this.colcount=(d=b.$columns()["$empty?"]())===h||null==d||d.$$is_boolean&&1!=d?b.$columns().$size():-1;this.buffer="";this.cellspecs=[];this.cell_open=!1;this.active_rowspans=[0];this.column_visits=0;this.current_row=[];return this.linenum=-1},D.$$arity=-3);a.defn(p,"$starts_with_delimiter?",y=function(a){return a["$start_with?"](this.delimiter)},y.$$arity=1);a.defn(p,"$match_delimiter",v=function(a){return this.delimiter_re.$match(a)},v.$$arity=1);a.defn(p,
"$skip_matched_delimiter",N=function(a,b){null==b&&(b=!1);this.buffer=""+this.buffer+(!1!==b&&b!==h&&null!=b?a.$pre_match().$chop():a.$pre_match())+this.delimiter;return a.$post_match()},N.$$arity=-2);a.defn(p,"$buffer_has_unclosed_quotes?",F=function(a){var b,c,d=h;null==a&&(a=h);d=(""+this.buffer+a).$strip();return b=(c=d["$start_with?"]('"'),!1!==c&&c!==h&&null!=c?d["$start_with?"]('""')["$!"]():c),!1!==b&&b!==h&&null!=b?d["$end_with?"]('"')["$!"]():b},F.$$arity=-1);a.defn(p,"$buffer_quoted?",
I=function(){var a;this.buffer=this.buffer.$lstrip();return a=this.buffer["$start_with?"]('"'),!1!==a&&a!==h&&null!=a?this.buffer["$start_with?"]('""')["$!"]():a},I.$$arity=0);a.defn(p,"$take_cellspec",G=function(){return this.cellspecs.$shift()},G.$$arity=0);a.defn(p,"$push_cellspec",K=function(a){var b;null==a&&(a=m([],{}));this.cellspecs["$<<"](!1!==(b=a)&&b!==h&&null!=b?b:m([],{}));return h},K.$$arity=-1);a.defn(p,"$keep_cell_open",z=function(){this.cell_open=!0;return h},z.$$arity=0);a.defn(p,
"$mark_cell_closed",q=function(){this.cell_open=!1;return h},q.$$arity=0);a.defn(p,"$cell_open?",A=function(){return this.cell_open},A.$$arity=0);a.defn(p,"$cell_closed?",U=function(){return this.cell_open["$!"]()},U.$$arity=0);a.defn(p,"$close_open_cell",S=function(a){var b;null==a&&(a=m([],{}));this.$push_cellspec(a);(b=this["$cell_open?"]())===h||null==b||b.$$is_boolean&&1!=b||this.$close_cell(!0);this.$advance();return h},S.$$arity=-1);a.defn(p,"$close_cell",Y=function(b){try{var d,k,n,p=h,q=
h,t=h;null==b&&(b=!1);p=this.buffer.$strip();this.buffer="";this.format["$=="]("psv")?(q=this.$take_cellspec(),!1!==q&&q!==h&&null!=q?t=!1!==(d=q.$delete("repeatcol"))&&d!==h&&null!=d?d:1:(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),q=m([],{}),t=1)):(q=h,t=1,!this.format["$=="]("csv")||(d=(k=p["$empty?"]()["$!"](),!1!==k&&k!==h&&null!=k?p["$include?"]('"'):k))===h||null==d||d.$$is_boolean&&1!=d||((d=(k=p["$start_with?"]('"'),
!1!==k&&k!==h&&null!=k?p["$end_with?"]('"'):k))===h||null==d||d.$$is_boolean&&1!=d||(p=p["$[]"](r(1,-1,!0)).$strip()),p=p.$tr_s('"','"')));(d=(k=1).$upto,d.$$p=(n=function(d){var k=n.$$s||this,m,r,v,w,z,y,x=h,B=h,A=h,x=h;null==k.colcount&&(k.colcount=h);null==k.table&&(k.table=h);null==k.current_row&&(k.current_row=h);null==k.last_cursor&&(k.last_cursor=h);null==k.reader&&(k.reader=h);null==k.column_visits&&(k.column_visits=h);null==k.linenum&&(k.linenum=h);null==d&&(d=h);if(k.colcount["$=="](-1))k.table.$columns()["$<<"](x=
E.get("Table").$$scope.get("Column").$new(k.table,g(e(k.table.$columns().$size(),d),1))),(m=(r=(v=!1!==q&&q!==h&&null!=q)?q["$key?"]("colspan"):q,!1!==r&&r!==h&&null!=r?c(B=g(q["$[]"]("colspan").$to_i(),1),0):r))===h||null==m||m.$$is_boolean&&1!=m||(A=k.table.$columns().$size(),(m=(r=B).$times,m.$$p=(w=function(a){var b=w.$$s||this;null==b.table&&(b.table=h);null==a&&(a=h);return b.table.$columns()["$<<"](E.get("Table").$$scope.get("Column").$new(b.table,e(A,a)))},w.$$s=k,w.$$arity=1,w),m).call(r));
else if((m=x=k.table.$columns()["$[]"](k.current_row.$size()))===h||null==m||m.$$is_boolean&&1!=m)k.$warn("asciidoctor: ERROR: "+k.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),a.ret(h);x=E.get("Table").$$scope.get("Cell").$new(x,p,q,k.last_cursor);k.last_cursor=k.reader.$cursor();((m=!1!==(v=x.$rowspan()["$!"]())&&v!==h&&null!=v?v:x.$rowspan()["$=="](1))===h||null==m||m.$$is_boolean&&1!=m)&&k.$activate_rowspan(x.$rowspan(),!1!==(m=x.$colspan())&&m!==h&&
null!=m?m:1);k.column_visits=e(k.column_visits,!1!==(m=x.$colspan())&&m!==h&&null!=m?m:1);k.current_row["$<<"](x);return(m=(v=k["$end_of_row?"](),!1!==v&&v!==h&&null!=v?!1!==(z=!1!==(y=k.colcount["$!="](-1))&&y!==h&&null!=y?y:c(k.linenum,0))&&z!==h&&null!=z?z:(y=!1!==b&&b!==h&&null!=b)?d["$=="](t):b:v))===h||null==m||m.$$is_boolean&&1!=m?h:k.$close_row()},n.$$s=this,n.$$arity=1,n),d).call(k,t);this.cell_open=!1;return h}catch(v){if(v===a.returner)return v.$v;throw v;}},Y.$$arity=-1);a.defn(p,"$close_row",
ea=function(){var a,b;this.table.$rows().$body()["$<<"](this.current_row);this.colcount["$=="](-1)&&(this.colcount=this.column_visits);this.column_visits=0;this.current_row=[];this.active_rowspans.$shift();a=this.active_rowspans;!1!==(b=a["$[]"](0))&&b!==h&&null!=b?b:a["$[]="](0,0);return h},ea.$$arity=0);a.defn(p,"$activate_rowspan",ca=function(a,b){var c,d,f;(c=(d=(1).$upto(g(a,1))).$each,c.$$p=(f=function(a){var c=f.$$s||this,d;null==c.active_rowspans&&(c.active_rowspans=h);null==a&&(a=h);return c.active_rowspans["$[]="](a,
e(!1!==(d=c.active_rowspans["$[]"](a))&&d!==h&&null!=d?d:0,b))},f.$$s=this,f.$$arity=1,f),c).call(d);return h},ca.$$arity=2);a.defn(p,"$end_of_row?",B=function(){var a;return!1!==(a=this.colcount["$=="](-1))&&a!==h&&null!=a?a:this.$effective_column_visits()["$=="](this.colcount)},B.$$arity=0);a.defn(p,"$effective_column_visits",Q=function(){return e(this.column_visits,this.active_rowspans["$[]"](0))},Q.$$arity=0);return(a.defn(p,"$advance",Z=function(){return this.linenum=e(this.linenum,1)},Z.$$arity=
0),h)&&"advance"})(t.get("Table"),null)}(a.base)};(function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var e,g=a.top,h=a.nil,d=a.gvars,b=a.module,m=a.hash2,r=a.range,t=a.hash;null==d[":"]&&(d[":"]=h);a.add_stubs("$== $>= $require $unshift $dirname $new $attr $instance_variable_set $send $<< $define $expand_path $join $home $[] $pwd $! $!= $default_external $to_a $bytes $to_set $map $keys $* $dup $[]= $insert $start $=== $inject $split $gsub $respond_to? $each $raise $ancestors $class $path $utc $at $to_i $mtime $readlines $basename $strftime $rewind $entries $lines $record $parse $exception $message $set_backtrace $backtrace $stack_trace= $stack_trace $load $delete $key? $attributes $outfilesuffix $has_key? $safe $normalize_system_path $directory? $mkdir_p $convert $write $< $attr? $uriish? $include? $write_primary_stylesheet $instance $empty? $nil? $read_asset $open $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));
((e=null!=a.RUBY_ENGINE)===h||null==e||e.$$is_boolean&&1!=e)&&a.cdecl(a,"RUBY_ENGINE","unknown");a.cdecl(a,"RUBY_ENGINE_OPAL",a.get("RUBY_ENGINE")["$=="]("opal"));a.cdecl(a,"RUBY_ENGINE_JRUBY",a.get("RUBY_ENGINE")["$=="]("jruby"));a.cdecl(a,"RUBY_MIN_VERSION_1_9",c(a.get("RUBY_VERSION"),"1.9"));a.cdecl(a,"RUBY_MIN_VERSION_2",c(a.get("RUBY_VERSION"),"2"));g.$require("set");a.get("RUBY_ENGINE")["$=="]("opal")&&g.$require("asciidoctor/opal_ext");d[":"].$unshift(a.get("File").$dirname("asciidoctor"));
(function(d){d=b(d,"Asciidoctor");var e=d.$$scope,g,x,C,E=h,D=h;a.cdecl(e,"RUBY_ENGINE",a.get("RUBY_ENGINE"));(function(c){c=b(c,"SafeMode").$$scope;a.cdecl(c,"UNSAFE",0);a.cdecl(c,"SAFE",1);a.cdecl(c,"SERVER",10);a.cdecl(c,"SECURE",20)})(e.base);(function(c){c=b(c,"Compliance");var d;c.keys=a.get("Set").$new();(function(a){return a.$attr("keys")})(a.get_singleton_class(c));a.defs(c,"$define",d=function(b,c){null==this.keys&&(this.keys=h);this.$instance_variable_set("@"+b,c);a.get_singleton_class(this).$send("attr_accessor",
b);this.keys["$<<"](b);return h},d.$$arity=2);c.$define("block_terminates_paragraph",!0);c.$define("strict_verbatim_paragraphs",!0);c.$define("underline_style_section_titles",!0);c.$define("unwrap_standalone_preamble",!0);c.$define("attribute_missing","skip");c.$define("attribute_undefined","drop-line");c.$define("shorthand_property_syntax",!0);c.$define("unique_id_start_index",2);c.$define("markdown_syntax",!0)})(e.base);a.cdecl(e,"ROOT_PATH",a.get("File").$dirname(a.get("File").$dirname(a.get("File").$expand_path("asciidoctor"))));
a.cdecl(e,"LIB_PATH",a.get("File").$join(e.get("ROOT_PATH"),"lib"));a.cdecl(e,"DATA_PATH",a.get("File").$join(e.get("ROOT_PATH"),"data"));try{a.cdecl(e,"USER_HOME",a.get("Dir").$home())}catch(y){if(a.rescue(y,[e.get("StandardError")]))try{a.cdecl(e,"USER_HOME",!1!==(g=a.get("ENV")["$[]"]("HOME"))&&g!==h&&null!=g?g:a.get("Dir").$pwd())}finally{a.pop_exception()}else throw y;}a.cdecl(e,"COERCE_ENCODING",(g=a.get("RUBY_ENGINE_OPAL")["$!"](),!1!==g&&g!==h&&null!=g?a.get("RUBY_MIN_VERSION_1_9"):g));a.cdecl(e,
"FORCE_ENCODING",(g=e.get("COERCE_ENCODING"),!1!==g&&g!==h&&null!=g?a.get("Encoding").$default_external()["$!="](a.get("Encoding").$$scope.get("UTF_8")):g));a.cdecl(e,"BOM_BYTES_UTF_8","\u00ef\u00bb\u00bf".$bytes().$to_a());a.cdecl(e,"BOM_BYTES_UTF_16LE","\u00ff\u00fe".$bytes().$to_a());a.cdecl(e,"BOM_BYTES_UTF_16BE","\u00fe\u00ff".$bytes().$to_a());a.cdecl(e,"FORCE_UNICODE_LINE_LENGTH",a.get("RUBY_MIN_VERSION_1_9")["$!"]());a.cdecl(e,"SUPPORTS_GSUB_RESULT_HASH",(g=a.get("RUBY_MIN_VERSION_1_9"),!1!==
g&&g!==h&&null!=g?a.get("RUBY_ENGINE_OPAL")["$!"]():g));a.cdecl(e,"EOL","\n");a.cdecl(e,"NULL","\x00");a.cdecl(e,"TAB","\t");a.cdecl(e,"DEFAULT_DOCTYPE","article");a.cdecl(e,"DEFAULT_BACKEND","html5");a.cdecl(e,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.cdecl(e,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(e,"BACKEND_ALIASES",m(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.cdecl(e,"DEFAULT_PAGE_WIDTHS",m(["docbook"],{docbook:425}));a.cdecl(e,"DEFAULT_EXTENSIONS",m(["html",
"docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",asciidoc:".adoc"}));a.cdecl(e,"ASCIIDOC_EXTENSIONS",m([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0}));a.cdecl(e,"SECTION_LEVELS",m(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.cdecl(e,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.cdecl(e,"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set());
a.cdecl(e,"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.cdecl(e,"DELIMITED_BLOCKS",m('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a.get("Set").$new()],
____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",a.get("Set").$new()],",===":["table",a.get("Set").$new()],":===":["table",a.get("Set").$new()],"!===":["table",a.get("Set").$new()],"////":["comment",a.get("Set").$new()],"```":["fenced_code",a.get("Set").$new()]}));a.cdecl(e,"DELIMITED_BLOCK_LEADERS",(g=(x=e.get("DELIMITED_BLOCKS").$keys()).$map,g.$$p=(C=function(a){null==a&&(a=h);return a["$[]"](r(0,1,
!1))},C.$$s=d,C.$$arity=1,C),g).call(x).$to_set());a.cdecl(e,"LAYOUT_BREAK_LINES",m(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"}));a.cdecl(e,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.cdecl(e,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.cdecl(e,"ORDERED_LIST_KEYWORDS",m(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",
upperroman:"I"}));a.cdecl(e,"LIST_CONTINUATION","+");a.cdecl(e,"LINE_BREAK"," +");a.cdecl(e,"LINE_CONTINUATION"," \\");a.cdecl(e,"LINE_CONTINUATION_LEGACY"," +");a.cdecl(e,"BLOCK_MATH_DELIMITERS",m(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.cdecl(e,"INLINE_MATH_DELIMITERS",m(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));a.cdecl(e,"FLEXIBLE_ATTRIBUTES",["sectnums"]);e.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(e,"CC_ALPHA","a-zA-Z"),
a.cdecl(e,"CG_ALPHA","[a-zA-Z]"),a.cdecl(e,"CC_ALNUM","a-zA-Z0-9"),a.cdecl(e,"CG_ALNUM","[a-zA-Z0-9]"),a.cdecl(e,"CG_BLANK","[ \\t]"),a.cdecl(e,"CC_EOL","(?=\\n|$)"),a.cdecl(e,"CG_GRAPH","[\\x21-\\x7E]"),a.cdecl(e,"CC_ALL","[\\s\\S]"),a.cdecl(e,"CC_WORD","a-zA-Z0-9_"),a.cdecl(e,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(e,"AuthorInfoLineRx",new RegExp("^("+e.get("CG_WORD")+"["+e.get("CC_WORD")+"\\-'.]*)(?: +("+e.get("CG_WORD")+"["+e.get("CC_WORD")+"\\-'.]*))?(?: +("+e.get("CG_WORD")+"["+e.get("CC_WORD")+
"\\-'.]*))?(?: +<([^>]+)>)?$"));a.cdecl(e,"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/);a.cdecl(e,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/);a.cdecl(e,"ManpageNamePurposeRx",new RegExp("^(.*?)"+e.get("CG_BLANK")+"+-"+e.get("CG_BLANK")+"+(.*)$"));a.cdecl(e,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/);a.cdecl(e,"EvalExpressionRx",new RegExp("^(\\S.*?)"+e.get("CG_BLANK")+"*(==|!=|<=|>=|<|>)"+e.get("CG_BLANK")+"*(\\S.*)$"));
a.cdecl(e,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/);a.cdecl(e,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/);a.cdecl(e,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+e.get("CG_BLANK")+"+(.*))?$"));a.cdecl(e,"InvalidAttributeNameCharsRx",/[^\w\-]/);a.cdecl(e,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/);a.cdecl(e,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/);a.cdecl(e,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+e.get("CC_ALPHA")+":_]["+e.get("CC_WORD")+
":.-]*)(?:,"+e.get("CG_BLANK")+"*(\\S.*))?)\\]\\]$"));a.cdecl(e,"BlockAttributeListRx",new RegExp("^\\[(|"+e.get("CG_BLANK")+"*["+e.get("CC_WORD")+"\\{,.#\"'%].*)\\]$"));a.cdecl(e,"BlockAttributeLineRx",new RegExp("^\\[(|"+e.get("CG_BLANK")+"*["+e.get("CC_WORD")+"\\{,.#\"'%].*|\\[(?:|["+e.get("CC_ALPHA")+":_]["+e.get("CC_WORD")+":.-]*(?:,"+e.get("CG_BLANK")+"*\\S.*)?)\\])\\]$"));a.cdecl(e,"BlockTitleRx",/^\.([^\s.].*)$/);a.cdecl(e,"AdmonitionParagraphRx",new RegExp("^("+p(e.get("ADMONITION_STYLES").$to_a(),
"|")+"):"+e.get("CG_BLANK")));a.cdecl(e,"LiteralParagraphRx",new RegExp("^("+e.get("CG_BLANK")+"+.*)$"));a.cdecl(e,"CommentBlockRx",/^\/{4,}$/);a.cdecl(e,"CommentLineRx",/^\/\/(?:[^\/]|$)/);a.cdecl(e,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+e.get("CG_BLANK")+"+(\\S.*?)(?:"+e.get("CG_BLANK")+"+\\1)?$"));a.cdecl(e,"SetextSectionTitleRx",new RegExp("^((?=.*"+e.get("CG_WORD")+"+.*)[^.].*?)$"));a.cdecl(e,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/);a.cdecl(e,"InlineSectionAnchorRx",new RegExp("^(.*?)"+
e.get("CG_BLANK")+"+(\\\\)?\\[\\[(["+e.get("CC_ALPHA")+":_]["+e.get("CC_WORD")+":.-]*)(?:,"+e.get("CG_BLANK")+"*(\\S.*?))?\\]\\]$"));a.cdecl(e,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,6}|#x[a-fA-F0-9]{2,5});|[^"+e.get("CC_WORD")+"]+?"));a.cdecl(e,"FloatingTitleStyleRx",/^(?:float|discrete)\b/);a.cdecl(e,"AnyListRx",new RegExp("^(?:"+e.get("CG_BLANK")+"*(?:-|([*.\\u2022])\\1{0,4}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+e.get("CG_BLANK")+"|"+e.get("CG_BLANK")+"*.*?(?::{2,4}|;;)(?:$|"+
e.get("CG_BLANK")+")|<?\\d+>"+e.get("CG_BLANK")+")"));a.cdecl(e,"UnorderedListRx",new RegExp("^"+e.get("CG_BLANK")+"*(-|\\*{1,5}|\\u2022{1,5})"+e.get("CG_BLANK")+"+(.*)$"));a.cdecl(e,"OrderedListRx",new RegExp("^"+e.get("CG_BLANK")+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+e.get("CG_BLANK")+"+(.*)$"));a.cdecl(e,"OrderedListMarkerRxMap",m(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));
a.cdecl(e,"DescriptionListRx",new RegExp("^(?!\\/\\/)"+e.get("CG_BLANK")+"*(.*?)(:{2,4}|;;)(?:"+e.get("CG_BLANK")+"+(.*))?$"));a.cdecl(e,"DescriptionListSiblingRx",m(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+e.get("CG_BLANK")+"*((?:.*[^:])?)(::)(?:"+e.get("CG_BLANK")+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+e.get("CG_BLANK")+"*((?:.*[^:])?)(:::)(?:"+e.get("CG_BLANK")+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+e.get("CG_BLANK")+"*((?:.*[^:])?)(::::)(?:"+e.get("CG_BLANK")+"+(.*))?$"),
";;":new RegExp("^(?!\\/\\/)"+e.get("CG_BLANK")+"*(.*)(;;)(?:"+e.get("CG_BLANK")+"+(.*))?$")}));a.cdecl(e,"CalloutListRx",new RegExp("^<?(\\d+)>"+e.get("CG_BLANK")+"+(.*)$"));a.cdecl(e,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);a.cdecl(e,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.cdecl(e,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+e.get("CC_EOL")+")"));a.cdecl(e,"CalloutSourceRx",new RegExp("(?:(?:\\/\\/|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+
e.get("CC_EOL")+")"));a.cdecl(e,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+e.get("CC_EOL")+")");a.cdecl(e,"ListRxMap",m(["ulist","olist","dlist","colist"],{ulist:e.get("UnorderedListRx"),olist:e.get("OrderedListRx"),dlist:e.get("DescriptionListRx"),colist:e.get("CalloutListRx")}));a.cdecl(e,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/);a.cdecl(e,"CellSpecStartRx",new RegExp("^"+e.get("CG_BLANK")+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));
a.cdecl(e,"CellSpecEndRx",new RegExp(""+e.get("CG_BLANK")+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));a.cdecl(e,"GenericBlockMacroRx",new RegExp("^("+e.get("CG_WORD")+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$"));a.cdecl(e,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/);a.cdecl(e,"TocBlockMacroRx",/^toc::\[(.*?)\]$/);a.cdecl(e,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+e.get("CC_ALPHA")+":_]["+e.get("CC_WORD")+
":.-]*)(?:,"+e.get("CG_BLANK")+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])"));a.cdecl(e,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+e.get("CC_WORD")+":]["+e.get("CC_WORD")+":.-]*?)\\]\\]\\]"));a.cdecl(e,"EmailInlineMacroRx",new RegExp("([\\\\>:\\/])?"+e.get("CG_WORD")+"["+e.get("CC_WORD")+".%+-]*@"+e.get("CG_ALNUM")+"["+e.get("CC_ALNUM")+".-]*\\."+e.get("CG_ALPHA")+"{2,4}\\b"));a.cdecl(e,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+e.get("CC_ALL")+"*?[^\\\\])\\]"));
a.cdecl(e,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/);a.cdecl(e,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+e.get("CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+e.get("CC_ALL")+"+?)\\)\\)(?!\\)))"));a.cdecl(e,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/);a.cdecl(e,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+e.get("CG_BLANK")+"*[^\\1])"));a.cdecl(e,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/);
a.cdecl(e,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/);a.cdecl(e,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+e.get("CC_ALL")+"*?[^\\\\])\\]"));a.cdecl(e,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+e.get("CG_WORD")+"|"+e.get("CG_WORD")+".*?\\S)\\["+e.get("CG_BLANK")+"*(.+?)?\\]"));a.cdecl(e,"MenuInlineRx",new RegExp('\\\\?"('+e.get("CG_WORD")+'[^"]*?'+e.get("CG_BLANK")+"*&gt;"+e.get("CG_BLANK")+'*[^" \\t][^"]*)"'));a.cdecl(e,"PassInlineRx",
t(!1,["+","`",new RegExp("(^|[^"+e.get("CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+e.get("CC_ALL")+"*?\\S)\\4)(?!"+e.get("CG_WORD")+")")],!0,["`",h,new RegExp("(^|[^`"+e.get("CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+e.get("CC_ALL")+"*?\\S)\\4)(?![`"+e.get("CC_WORD")+"])")]));a.cdecl(e,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+e.get("CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+e.get("CC_ALL")+"*?[^\\\\])\\])"));
a.cdecl(e,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+e.get("CC_WORD")+'":.\\/]'+e.get("CC_ALL")+"*?)&gt;&gt;|xref:(["+e.get("CC_WORD")+'":.\\/]'+e.get("CC_ALL")+"*?)\\[("+e.get("CC_ALL")+"*?)\\])"));e.get("RUBY_ENGINE")["$=="]("opal")&&a.cdecl(e,"LineBreakRx",/^(.*)[ \t]\+$/m);a.cdecl(e,"LayoutBreakLineRx",/^('|<){3,}$/);a.cdecl(e,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/);a.cdecl(e,"BlankLineRx",new RegExp("^"+e.get("CG_BLANK")+"*\\n"));a.cdecl(e,"DataDelimiterRx",
/,|;/);a.cdecl(e,"DoubleQuotedRx",/^("|)(.*)\1$/);a.cdecl(e,"DoubleQuotedMultiRx",new RegExp('^("|)('+e.get("CC_ALL")+"*)\\1$"));a.cdecl(e,"TrailingDigitsRx",/\d+$/);a.cdecl(e,"EscapedSpaceRx",new RegExp("\\\\("+e.get("CG_BLANK")+")"));a.cdecl(e,"SpaceDelimiterRx",new RegExp("([^\\\\])"+e.get("CG_BLANK")+"+"));a.cdecl(e,"SubModifierSniffRx",/[+-]/);a.cdecl(e,"UnicodeCharScanRx",function(){e.get("RUBY_ENGINE")["$=="]("opal");return h}());a.cdecl(e,"UriSniffRx",new RegExp("^"+e.get("CG_ALPHA")+"["+
e.get("CC_ALNUM")+".+-]+:/{0,2}"));a.cdecl(e,"UriTerminator",/[);:]$/);a.cdecl(e,"XmlSanitizeRx",/<[^>]+>/);a.cdecl(e,"INTRINSIC_ATTRIBUTES",m("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",
nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));E=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+e.get("CC_ALL")+"+?)\\*\\*")],["strong","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+e.get("CC_ALL")+"*?\\S)\\*(?!"+e.get("CG_WORD")+")")],["double","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+
';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+e.get("CC_ALL")+'*?\\S)`"(?!'+e.get("CG_WORD")+")")],["single","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+e.get("CC_ALL")+"*?\\S)`'(?!"+e.get("CG_WORD")+")")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+e.get("CC_ALL")+"+?)``")],["monospaced","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+e.get("CC_ALL")+"*?\\S)`(?!["+e.get("CC_WORD")+"\"'`])")],
["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+e.get("CC_ALL")+"+?)__")],["emphasis","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+e.get("CC_ALL")+"*?\\S)_(?!"+e.get("CG_WORD")+")")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+e.get("CC_ALL")+"+?)##")],["mark","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+e.get("CC_ALL")+"*?\\S)#(?!"+e.get("CG_WORD")+")")],["superscript",
"unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]];D=E.$dup();D["$[]="](2,["double","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+e.get("CC_ALL")+"*?\\S)''(?!"+e.get("CG_WORD")+")")]);D["$[]="](3,["single","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+e.get("CC_ALL")+"*?\\S)'(?!"+e.get("CG_WORD")+")")]);D["$[]="](4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+
e.get("CC_ALL")+"+?)\\+\\+")]);D["$[]="](5,["monospaced","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+e.get("CC_ALL")+"*?\\S)\\+(?!"+e.get("CG_WORD")+")")]);D.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+e.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+e.get("CC_ALL")+"*?\\S)'(?!"+e.get("CG_WORD")+")")]);a.cdecl(e,"QUOTE_SUBS",t(!1,E,!0,D));D=E=h;a.cdecl(e,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,
"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+e.get("CG_WORD")+")\\\\?--(?="+e.get("CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+e.get("CG_ALNUM")+")\\\\?'(?="+e.get("CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]{2,}|#\d{2,6}|#x[a-fA-F0-9]{2,5});)/,
"","bounding"]]);(function(b){var d=b.$$scope,e,g,k,l;a.defn(b,"$load",e=function(b,c){var e,f,g,k,l,n,p,r,t,w=this,x=h,y=h,C=h,D=h,E=h,F=h,G=h,I=h,N=h,M=h,L=h,O=h,ka=h,J=h;null==c&&(c=m([],{}));try{c=c.$dup();(e=x=c["$[]"]("timings"))===h||null==e||e.$$is_boolean&&1!=e||x.$start("read");y=c["$[]="]("attributes",function(){if((e=(C=c["$[]"]("attributes"))["$!"]())===h||null==e||e.$$is_boolean&&1!=e){if((e=!1!==(f=a.get("Hash")["$==="](C))&&f!==h&&null!=f?f:(g=a.get("RUBY_ENGINE_JRUBY"),!1!==g&&g!==
h&&null!=g?a.get("Java").$$scope.get("JavaUtil").$$scope.get("Map")["$==="](C):g))===h||null==e||e.$$is_boolean&&1!=e){if((e=a.get("Array")["$==="](C))===h||null==e||e.$$is_boolean&&1!=e){if((e=a.get("String")["$==="](C))===h||null==e||e.$$is_boolean&&1!=e){if((e=(n=C["$respond_to?"]("keys"),!1!==n&&n!==h&&null!=n?C["$respond_to?"]("[]"):n))===h||null==e||e.$$is_boolean&&1!=e)return w.$raise(a.get("ArgumentError"),"illegal type for attributes option: "+C.$class().$ancestors());E=C;C=m([],{});(e=(n=
E.$keys()).$each,e.$$p=(p=function(a){null==a&&(a=h);return C["$[]="](a,E["$[]"](a))},p.$$s=w,p.$$arity=1,p),e).call(n);return C}D="\\1";C=C.$gsub(d.get("SpaceDelimiterRx"),""+D+d.get("NULL")).$gsub(d.get("EscapedSpaceRx"),D);return(e=(g=C.$split(d.get("NULL"))).$inject,e.$$p=(l=function(b,c){var d,e,f=h,g=h;null==b&&(b=h);null==c&&(c=h);e=c.$split("=",2);d=a.to_ary(e);f=null==d[0]?h:d[0];g=null==d[1]?h:d[1];e;b["$[]="](f,!1!==(d=g)&&d!==h&&null!=d?d:"");return b},l.$$s=w,l.$$arity=2,l),e).call(g,
m([],{}))}return(e=(f=C).$inject,e.$$p=(k=function(b,c){var d,e,f=h,g=h;null==b&&(b=h);null==c&&(c=h);e=c.$split("=",2);d=a.to_ary(e);f=null==d[0]?h:d[0];g=null==d[1]?h:d[1];e;b["$[]="](f,!1!==(d=g)&&d!==h&&null!=d?d:"");return b},k.$$s=w,k.$$arity=2,k),e).call(f,m([],{}))}return C.$dup()}return m([],{})}());F=h;if((e=a.get("File")["$==="](b))===h||null==e||e.$$is_boolean&&1!=e)if((e=b["$respond_to?"]("readlines"))===h||null==e||e.$$is_boolean&&1!=e)(e=a.get("String")["$==="](b))===h||null==e||e.$$is_boolean&&
1!=e?(e=a.get("Array")["$==="](b))===h||null==e||e.$$is_boolean&&1!=e?w.$raise(a.get("ArgumentError"),"unsupported input type: "+b.$class()):F=b.$dup():F=b.$lines().$entries();else{try{b.$rewind()}catch(pa){if(a.rescue(pa,[d.get("StandardError")]))try{h}finally{a.pop_exception()}else throw pa;}F=b.$readlines()}else G=a.get("File").$expand_path(b.$path()),I=(e=a.get("ENV")["$[]"]("SOURCE_DATE_EPOCH"))===h||null==e||e.$$is_boolean&&1!=e?b.$mtime():a.get("Time").$at(a.get("ENV")["$[]"]("SOURCE_DATE_EPOCH").$to_i()).$utc(),
F=b.$readlines(),y["$[]="]("docfile",G),y["$[]="]("docdir",a.get("File").$dirname(G)),y["$[]="]("docname",d.get("Helpers").$basename(G,!0)),N=(e="docdate",r=y,!1!==(t=r["$[]"](e))&&t!==h&&null!=t?t:r["$[]="](e,I.$strftime("%Y-%m-%d"))),M=(e="doctime",r=y,!1!==(t=r["$[]"](e))&&t!==h&&null!=t?t:r["$[]="](e,I.$strftime("%H:%M:%S %Z"))),y["$[]="]("docdatetime",""+N+" "+M);!1!==x&&x!==h&&null!=x&&(x.$record("read"),x.$start("parse"));L=c["$[]"]("parse")["$=="](!1)?d.get("Document").$new(F,c):d.get("Document").$new(F,
c).$parse();!1!==x&&x!==h&&null!=x&&x.$record("parse");return L}catch(pa){if(a.rescue(pa,[d.get("StandardError")])){O=pa;try{try{ka="asciidoctor: FAILED: "+(!1!==(e=y["$[]"]("docfile"))&&e!==h&&null!=e?e:"<stdin>")+": Failed to load AsciiDoc document",(e=O["$respond_to?"]("exception"))===h||null==e||e.$$is_boolean&&1!=e?(J=O.$class().$new(ka,O),e=[O.$stack_trace()],r=J,r["$stack_trace="].apply(r,e),e[e.length-1]):(J=O.$exception(""+ka+" - "+O.$message()),J.$set_backtrace(O.$backtrace()))}catch(ra){if(a.rescue(ra,
[d.get("StandardError")]))try{J=O}finally{a.pop_exception()}else throw ra;}return w.$raise(J)}finally{a.pop_exception()}}else throw pa;}},e.$$arity=-2);a.defn(b,"$load_file",g=function(b,c){null==c&&(c=m([],{}));return this.$load(a.get("File").$new(!1!==b&&b!==h&&null!=b?b:""),c)},g.$$arity=-2);a.defn(b,"$convert",k=function(b,e){var g,k,l,p,r,t,w,x=h,y=h,C=h,D=h,E=h,F=h,G=h,I=h,N=h,M=h,fa=E=h,T=x=x=I=F=h,ja=F=y=h,L=x=G=D=h,O=C=h;null==e&&(e=m([],{}));e=e.$dup();e.$delete("parse");x=e.$delete("to_file");
y=e.$delete("to_dir");C=!1!==(g=e.$delete("mkdirs"))&&g!==h&&null!=g?g:!1;D=e["$[]"]("timings");E=x;if((!0)["$==="](E)||h["$==="](E))F=(g=y["$!"](),!1!==g&&g!==h&&null!=g?a.get("File")["$==="](b):g),G=!1,I=y,x=h;else if((!1)["$==="](E))I=G=F=!1,x=h;else{if("/dev/null"["$==="](E))return this.$load(b,e);F=!1;G=x["$respond_to?"]("write");I=!1!==G&&G!==h&&null!=G?!1:x}if(((g=e["$key?"]("header_footer"))===h||null==g||g.$$is_boolean&&1!=g)&&(g=!1!==(k=F)&&k!==h&&null!=k?k:I)!==h&&null!=g&&(!g.$$is_boolean||
1==g))e["$[]="]("header_footer",!0);if(!1!==F&&F!==h&&null!=F)N=a.get("File").$expand_path(b.$path()),e["$[]="]("to_dir",M=a.get("File").$dirname(N));else if(!1!==I&&I!==h&&null!=I)if(!1!==y&&y!==h&&null!=y)if(!1!==x&&x!==h&&null!=x)e["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(a.get("File").$join(y,x))));else e["$[]="]("to_dir",a.get("File").$expand_path(y));else{if(!1!==x&&x!==h&&null!=x)e["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(x)))}else e["$[]="]("to_dir",
h);E=this.$load(b,e);if(!1!==F&&F!==h&&null!=F)fa=a.get("File").$join(M,""+E.$attributes()["$[]"]("docname")+E.$outfilesuffix()),fa["$=="](N)&&this.$raise(a.get("IOError"),"input file and output file cannot be the same: "+fa);else if(!1!==I&&I!==h&&null!=I){if(F=(g=e["$has_key?"]("base_dir"))===h||null==g||g.$$is_boolean&&1!=g?a.get("File").$expand_path(a.get("Dir").$pwd()):a.get("File").$expand_path(e["$[]"]("base_dir")),I=(g=c(E.$safe(),d.get("SafeMode").$$scope.get("SAFE")))===h||null==g||g.$$is_boolean&&
1!=g?h:F,!1!==y&&y!==h&&null!=y?(M=E.$normalize_system_path(y,F,I,m(["target_name","recover"],{target_name:"to_dir",recover:!1})),!1!==x&&x!==h&&null!=x?(fa=E.$normalize_system_path(x,M,h,m(["target_name","recover"],{target_name:"to_dir",recover:!1})),M=a.get("File").$dirname(fa)):fa=a.get("File").$join(M,""+E.$attributes()["$[]"]("docname")+E.$outfilesuffix())):!1!==x&&x!==h&&null!=x&&(fa=E.$normalize_system_path(x,F,I,m(["target_name","recover"],{target_name:"to_dir",recover:!1})),M=a.get("File").$dirname(fa)),
(g=a.get("File")["$directory?"](M))===h||null==g||g.$$is_boolean&&1!=g)!1!==C&&C!==h&&null!=C?d.get("Helpers").$mkdir_p(M):this.$raise(a.get("IOError"),"target directory does not exist: "+y)}else fa=x,M=h;!1!==D&&D!==h&&null!=D&&D.$start("convert");x=(g=(k=!1!==fa&&fa!==h&&null!=fa)?G["$!"]():fa)===h||null==g||g.$$is_boolean&&1!=g?m([],{}):m(["outfile","outdir"],{outfile:fa,outdir:M});x=E.$convert(x);!1!==D&&D!==h&&null!=D&&D.$record("convert");return!1!==fa&&fa!==h&&null!=fa?(!1!==D&&D!==h&&null!=
D&&D.$start("write"),E.$write(x,fa),!1!==D&&D!==h&&null!=D&&D.$record("write"),(g=(k=(l=(p=(r=(t=G["$!"](),!1!==t&&t!==h&&null!=t?n(E.$safe(),d.get("SafeMode").$$scope.get("SECURE")):t),!1!==r&&r!==h&&null!=r?E["$attr?"]("linkcss"):r),!1!==p&&p!==h&&null!=p?E["$attr?"]("copycss"):p),!1!==l&&l!==h&&null!=l?E["$attr?"]("basebackend-html"):l),!1!==k&&k!==h&&null!=k?(l=T=E.$attr("stylesdir"),!1!==l&&l!==h&&null!=l?d.get("Helpers")["$uriish?"](T):l)["$!"]():k))===h||null==g||g.$$is_boolean&&1!=g||(F=y=
!1,(g=ja=E.$attr("stylesheet"))===h||null==g||g.$$is_boolean&&1!=g||((g=d.get("DEFAULT_STYLESHEET_KEYS")["$include?"](ja))===h||null==g||g.$$is_boolean&&1!=g?(g=d.get("Helpers")["$uriish?"](ja)["$!"]())===h||null==g||g.$$is_boolean&&1!=g||(F=!0):y=!0),D=(g=E["$attr?"]("source-highlighter","coderay"),!1!==g&&g!==h&&null!=g?E.$attr("coderay-css","class")["$=="]("class"):g),G=(g=E["$attr?"]("source-highlighter","pygments"),!1!==g&&g!==h&&null!=g?E.$attr("pygments-css","class")["$=="]("class"):g),(g=
!1!==(k=!1!==(l=!1!==(p=y)&&p!==h&&null!=p?p:F)&&l!==h&&null!=l?l:D)&&k!==h&&null!=k?k:G)===h||null==g||g.$$is_boolean&&1!=g||(x=E.$normalize_system_path(T,M,(g=c(E.$safe(),d.get("SafeMode").$$scope.get("SAFE")))===h||null==g||g.$$is_boolean&&1!=g?h:M),!1!==C&&C!==h&&null!=C&&d.get("Helpers").$mkdir_p(x),!1!==y&&y!==h&&null!=y?d.get("Stylesheets").$instance().$write_primary_stylesheet(x):!1!==F&&F!==h&&null!=F&&(L=(g=(L=E.$attr("copycss"))["$empty?"]())===h||null==g||g.$$is_boolean&&1!=g?E.$normalize_system_path(L):
E.$normalize_system_path(ja),C=E.$normalize_system_path(ja,x,(g=c(E.$safe(),d.get("SafeMode").$$scope.get("SAFE")))===h||null==g||g.$$is_boolean&&1!=g?h:M),((g=!1!==(k=L["$=="](C))&&k!==h&&null!=k?k:(O=E.$read_asset(L))["$nil?"]())===h||null==g||g.$$is_boolean&&1!=g)&&(g=(k=a.get("File")).$open,g.$$p=(w=function(a){null==a&&(a=h);return a.$write(O)},w.$$s=this,w.$$arity=1,w),g).call(k,C,"w")),!1!==D&&D!==h&&null!=D?d.get("Stylesheets").$instance().$write_coderay_stylesheet(x):!1!==G&&G!==h&&null!=
G&&d.get("Stylesheets").$instance().$write_pygments_stylesheet(x,E.$attr("pygments-style")))),E):x},k.$$arity=-2);a.alias(b,"render","convert");a.defn(b,"$convert_file",l=function(b,c){null==c&&(c=m([],{}));return this.$convert(a.get("File").$new(!1!==b&&b!==h&&null!=b?b:""),c)},l.$$arity=-2);return a.alias(b,"render_file","convert_file")})(a.get_singleton_class(d));e.get("RUBY_ENGINE")["$=="]("opal")&&(d.$require("asciidoctor/version"),d.$require("asciidoctor/timings"))})(a.base);g.$require("asciidoctor/core_ext");
g.$require("asciidoctor/helpers");g.$require("asciidoctor/substitutors");g.$require("asciidoctor/abstract_node");g.$require("asciidoctor/abstract_block");g.$require("asciidoctor/attribute_list");g.$require("asciidoctor/block");g.$require("asciidoctor/callouts");g.$require("asciidoctor/converter");(e=a.get("RUBY_ENGINE_OPAL"))===h||null==e||e.$$is_boolean&&1!=e||g.$require("asciidoctor/converter/html5");g.$require("asciidoctor/document");g.$require("asciidoctor/inline");g.$require("asciidoctor/list");
g.$require("asciidoctor/parser");g.$require("asciidoctor/path_resolver");g.$require("asciidoctor/reader");g.$require("asciidoctor/section");g.$require("asciidoctor/stylesheets");return g.$require("asciidoctor/table")})(Opal);var r=function(a){return a&&!a.smap?Opal.hash(a):a};Opal.Asciidoctor.$$class.$$proto.convert=function(a,c){var p=this.$convert(a,r(c));return p===Opal.nil?"":p};Opal.Asciidoctor.$$class.$$proto.convertFile=function(a,c){return this.$convert_file(a,r(c))};Opal.Asciidoctor.$$class.$$proto.load=
function(a,c){return this.$load(a,r(c))};Opal.Asciidoctor.$$class.$$proto.loadFile=function(a,c){return this.$load_file(a,r(c))};Opal.Asciidoctor.AbstractBlock.$$proto.getTitle=function(){return this.title};Opal.Asciidoctor.AbstractBlock.$$proto.getStyle=function(){return this.style};Opal.Asciidoctor.AbstractBlock.$$proto.getCaption=function(){return this.caption};Opal.Asciidoctor.AbstractBlock.$$proto.getLevel=function(){return this.level};Opal.Asciidoctor.AbstractBlock.$$proto.getBlocks=function(){return this.blocks};
Opal.Asciidoctor.AbstractBlock.$$proto.getContent=function(){return this.$content()};Opal.Asciidoctor.AbstractBlock.$$proto.convert=function(){return this.$convert()};Opal.Asciidoctor.AbstractBlock.$$proto.delegate=function(){return this.$delegate()};Opal.Asciidoctor.AbstractBlock.$$proto.findBy=function(a){return this.$find_by(a)};Opal.Asciidoctor.AbstractBlock.$$proto.convert=function(){return this.$convert()};Opal.Asciidoctor.AbstractNode.$$proto.getAttributes=function(){return this.attributes};
Opal.Asciidoctor.AbstractNode.$$proto.getAttribute=function(a,c,p){a=this.$attr(a,c,p);return a===Opal.nil?void 0:a};Opal.Asciidoctor.AbstractNode.$$proto.isAttribute=function(a,c,p){a=this["$attr?"](a,c,p);return a===Opal.nil?void 0:a};Opal.Asciidoctor.AbstractNode.$$proto.setAttribute=function(a,c,p){"undefined"===typeof p&&(p=!0);return this.$set_attribute(a,c,p)};Opal.Asciidoctor.AbstractNode.$$proto.isInline=function(){return this["$inline?"]()};Opal.Asciidoctor.AbstractNode.$$proto.isBlock=
function(){return this["$block?"]()};Opal.Asciidoctor.AbstractNode.$$proto.isRole=function(a){return this["$role?"](a)};Opal.Asciidoctor.AbstractNode.$$proto.getRole=function(){return this.$role()};Opal.Asciidoctor.AbstractNode.$$proto.hasRole=function(a){return this["$has_role?"](a)};Opal.Asciidoctor.AbstractNode.$$proto.getRoles=function(){return this.$roles()};Opal.Asciidoctor.AbstractNode.$$proto.addRole=function(a){return this.$add_role(a)};Opal.Asciidoctor.AbstractNode.$$proto.removeRole=function(a){return this.$remove_role(a)};
Opal.Asciidoctor.AbstractNode.$$proto.isReftext=function(){return this["$reftext?"]()};Opal.Asciidoctor.AbstractNode.$$proto.getReftext=function(){return this.$reftext()};Opal.Asciidoctor.AbstractNode.$$proto.getContext=function(){var a=this.context;return a&&"function"===typeof a.$to_s?a.$to_s():a};Opal.Asciidoctor.AbstractNode.$$proto.getId=function(){return this.id};Opal.Asciidoctor.AbstractNode.$$proto.isOption=function(a){return this["$option?"](a)};Opal.Asciidoctor.AbstractNode.$$proto.setOption=
function(a){return this.$set_option(a)};Opal.Asciidoctor.AbstractNode.$$proto.getIconURI=function(a){return this.$icon_uri(a)};Opal.Asciidoctor.AbstractNode.$$proto.getMediaURI=function(a,c){return this.$media_uri(a,c)};Opal.Asciidoctor.AbstractNode.$$proto.getImageURI=function(a,c){return this.$image_uri(a,c)};Opal.Asciidoctor.AbstractNode.$$proto.getConverter=function(){return this.$converter()};Opal.Asciidoctor.AbstractNode.$$proto.readContents=function(a,c){return this.$read_contents(a,r(c))};
Opal.Asciidoctor.AbstractNode.$$proto.readAsset=function(a,c){return this.$read_asset(a,r(c))};Opal.Asciidoctor.AbstractNode.$$proto.normalizeWebPath=function(a,c,p){return this.$normalize_web_path(a,c,p)};Opal.Asciidoctor.AbstractNode.$$proto.normalizeSystemPath=function(a,c,p,n){return this.$normalize_system_path(a,c,p,r(n))};Opal.Asciidoctor.AbstractNode.$$proto.normalizeAssetPath=function(a,c,p){return this.$normalize_asset_path(a,c,p)};Opal.Asciidoctor.Document.$$proto.getHeader=function(){return this.header};
Opal.Asciidoctor.Document.$$proto.setAttribute=function(a,c){return this.$set_attribute(a,c)};Opal.Asciidoctor.Document.$$proto.removeAttribute=function(a){this.attributes.$delete(a);this.attribute_overrides.$delete(a)};Opal.Asciidoctor.Document.$$proto.convert=function(a){a=this.$convert(r(a));return a===Opal.nil?"":a};Opal.Asciidoctor.Document.$$proto.write=function(a,c){return this.$write(a,c)};Opal.Asciidoctor.Document.$$proto.getAuthor=function(){return this.$author()};Opal.Asciidoctor.Document.$$proto.getSource=
function(){return this.$source()};Opal.Asciidoctor.Document.$$proto.getSourceLines=function(){return this.$source_lines()};Opal.Asciidoctor.Document.$$proto.isNested=function(){return this["$nested?"]()};Opal.Asciidoctor.Document.$$proto.hasFootnotes=function(){return this["$footnotes?"]()};Opal.Asciidoctor.Document.$$proto.getFootnotes=function(){return this.$footnotes()};Opal.Asciidoctor.Document.$$proto.isEmbedded=function(){return this["$embedded?"]()};Opal.Asciidoctor.Document.$$proto.hasExtensions=
function(){return this["$extensions?"]()};Opal.Asciidoctor.Document.$$proto.getDoctype=function(){return this.$doctype()};Opal.Asciidoctor.Document.$$proto.getBackend=function(){return this.$backend()};Opal.Asciidoctor.Document.$$proto.isBasebackend=function(a){return this["$basebackend?"](a)};Opal.Asciidoctor.Document.$$proto.getTitle=function(){return this.$title()};Opal.Asciidoctor.Document.$$proto.setTitle=function(a){return this["$title="](a)};Opal.Asciidoctor.Document.$$proto.getDoctitle=function(a){return this.$doctitle(r(a))};
Opal.Asciidoctor.Document.$$proto.getRevdate=function(){return this.$revdate()};Opal.Asciidoctor.Document.$$proto.getNotitle=function(){return this.$notitle()};Opal.Asciidoctor.Document.$$proto.getNoheader=function(){return this.$noheader()};Opal.Asciidoctor.Document.$$proto.getNofooter=function(){return this.$nofooter()};Opal.Asciidoctor.Document.$$proto.hasHeader=function(){return this["$header?"]()};Opal.Asciidoctor.Document.$$proto.deleteAttribute=function(a){return this.$delete_attribute(a)};
Opal.Asciidoctor.Document.$$proto.isAttributeLocked=function(a){return this["$attribute_locked?"](a)};Opal.Asciidoctor.Document.$$proto.parse=function(a){return this.$parse(a)};Opal.Asciidoctor.Document.$$proto.getDocinfo=function(a,c){return this.$docinfo(a,c)};Opal.Asciidoctor.Document.$$proto.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};Opal.Asciidoctor.Document.$$proto.counterIncrement=function(a,c){return this.$counter_increment(a,c)};Opal.Asciidoctor.Document.$$proto.counter=
function(a,c){return this.$counter(a,c)};Opal.Asciidoctor.Document.$$proto.getSafe=function(){return this.$safe};Opal.Asciidoctor.Document.$$proto.getCompatMode=function(){return this.$compat_mode};Opal.Asciidoctor.Document.$$proto.getSourcemap=function(){return this.$sourcemap};Opal.Asciidoctor.Document.$$proto.getReferences=function(){return this.$references};Opal.Asciidoctor.Document.$$proto.getCounters=function(){return this.$counters};Opal.Asciidoctor.Document.$$proto.getCallouts=function(){return this.$callouts};
Opal.Asciidoctor.Document.$$proto.getBaseDir=function(){return this.$base_dir};Opal.Asciidoctor.Document.$$proto.getOptions=function(){return this.$options};Opal.Asciidoctor.Document.$$proto.getOutfilesuffix=function(){return this.$outfilesuffix};Opal.Asciidoctor.Document.$$proto.getParentDocument=function(){return this.$parent_document};Opal.Asciidoctor.Document.$$proto.getReader=function(){return this.$reader};Opal.Asciidoctor.Document.$$proto.getConverter=function(){return this.$converter};Opal.Asciidoctor.Document.$$proto.getExtensions=
function(){return this.$extensions};Opal.Asciidoctor.Document.Title.$$proto.getMain=function(){return this.main};Opal.Asciidoctor.Document.Title.$$proto.getCombined=function(){return this.combined};Opal.Asciidoctor.Document.Title.$$proto.getSubtitle=function(){return this.subtitle};Opal.Asciidoctor.Document.Title.$$proto.isSanitized=function(){var a=this["$sanitized?"]();return a===Opal.nil?!1:a};Opal.Asciidoctor.Document.Title.$$proto.hasSubtitle=function(){return this["$subtitle?"]()};c=Opal.Asciidoctor.$$scope.Extensions;
c.register=function(a,c){Opal.block_send(Opal.Asciidoctor.Extensions,"register",a,c)};c.Registry.$$proto.inlineMacro=function(a,c){return Opal.block_send(this,"inline_macro",a,c)};c.InlineMacroProcessor.$$proto.process=function(a){return Opal.block_send(this,"process",a)};return Opal.Asciidoctor});
